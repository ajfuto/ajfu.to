{"version":3,"file":"component---src-pages-tech-tips-js-2b79131202f115b41493.js","mappings":"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","sources":["webpack://ajfu.to/./node_modules/@emotion/memoize/dist/memoize.browser.esm.js","webpack://ajfu.to/./node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js","webpack://ajfu.to/./src/components/footer.js","webpack://ajfu.to/./src/components/navigation-spacer.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/motion/features/definitions.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/context/LazyContext.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/motion/features/use-features.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/context/MotionConfigContext.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/context/MotionContext/index.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/components/AnimatePresence/use-presence.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/context/LayoutGroupContext.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/utils/is-browser.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/motion/utils/use-visual-element.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/utils/is-ref-object.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/utils/variants.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/context/MotionContext/create.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/context/MotionContext/utils.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/motion/index.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/motion/utils/use-motion-ref.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/motion-proxy.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/svg/lowercase-elements.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/utils/is-svg-component.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/projection/scale-correction.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/html/utils/transform.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/motion/utils/is-forced-motion-value.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/value/utils/is-motion-value.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/html/utils/build-transform.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/utils/is-css-variable.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/value-types/get-as-type.js","webpack://ajfu.to/./node_modules/style-value-types/dist/es/utils.js","webpack://ajfu.to/./node_modules/style-value-types/dist/es/numbers/units.js","webpack://ajfu.to/./node_modules/style-value-types/dist/es/numbers/index.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/value-types/type-int.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/value-types/number.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/html/utils/build-styles.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/html/utils/create-render-state.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/html/use-props.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/motion/utils/valid-prop.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/utils/filter-props.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/svg/utils/transform-origin.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/svg/utils/path.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/svg/utils/build-attrs.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/svg/utils/create-render-state.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/svg/use-props.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/use-render.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/utils/camel-to-dash.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/html/utils/render.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/svg/utils/camel-case-attrs.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/svg/utils/render.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/html/utils/scrape-motion-values.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/svg/utils/scrape-motion-values.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/animation/utils/is-animation-controls.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/animation/utils/is-keyframes-target.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/utils/resolve-value.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/motion/utils/use-visual-state.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/value/utils/resolve-motion-value.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/svg/config-motion.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/html/config-motion.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/utils/types.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/events/use-dom-event.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/gestures/utils/event-type.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/events/event-info.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/events/utils.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/events/use-pointer-event.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/gestures/drag/utils/lock.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/gestures/use-hover-gesture.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/gestures/utils/is-node-or-child.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/utils/pipe.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/motion/utils/make-renderless-component.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/motion/features/gestures.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/gestures/use-tap-gesture.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/gestures/use-focus-gesture.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/utils/shallow-compare.js","webpack://ajfu.to/./node_modules/hey-listen/dist/hey-listen.es.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/utils/clamp.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/animations/utils/find-spring.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/animations/generators/spring.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/utils/progress.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/utils/mix.js","webpack://ajfu.to/./node_modules/style-value-types/dist/es/color/utils.js","webpack://ajfu.to/./node_modules/style-value-types/dist/es/color/rgba.js","webpack://ajfu.to/./node_modules/style-value-types/dist/es/color/hex.js","webpack://ajfu.to/./node_modules/style-value-types/dist/es/color/hsla.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/utils/mix-color.js","webpack://ajfu.to/./node_modules/style-value-types/dist/es/color/index.js","webpack://ajfu.to/./node_modules/style-value-types/dist/es/complex/index.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/utils/inc.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/utils/mix-complex.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/utils/interpolate.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/easing/utils.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/easing/index.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/animations/generators/keyframes.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/animations/utils/detect-animation-from-options.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/animations/generators/decay.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/animations/utils/elapsed.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/animations/index.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/utils/velocity-per-second.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/utils/time-conversion.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/easing/cubic-bezier.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/animation/utils/easing.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/animation/utils/is-animatable.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/animation/utils/default-transitions.js","webpack://ajfu.to/./node_modules/style-value-types/dist/es/complex/filter.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/value-types/defaults.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/value-types/animatable-none.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/animation/utils/transitions.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/animations/inertia.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/utils/array.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/utils/subscription-manager.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/value/index.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/value-types/test.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/value-types/dimensions.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/value-types/type-auto.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/value-types/find.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/utils/setters.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/utils/animation.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/utils/animation-state.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/motion/features/animations.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/utils/is-point.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/utils/is-point-3d.js","webpack://ajfu.to/./node_modules/popmotion/dist/es/utils/distance.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/gestures/PanSession.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/utils/each-axis.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/gestures/drag/utils/constraints.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/projection/measure.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/utils/geometry/delta-calc.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/motion/features/layout/utils.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/utils/is-draggable.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/utils/geometry/delta-apply.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/gestures/drag/VisualElementDragControls.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/projection/convert-to-relative.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/motion/features/drag.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/gestures/use-pan-gesture.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/gestures/drag/use-drag.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/utils/css-variables-conversion.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/projection/default-scale-correctors.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/motion/features/layout/Animate.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/motion/features/layout/Measure.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/motion/features/layout/index.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/utils/state.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/html/utils/build-projection-transform.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/utils/lifecycles.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/utils/projection.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/utils/flat-tree.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/index.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/utils/motion-values.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/projection/relative-set.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/utils/unit-conversion.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/utils/parse-dom-variant.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/html/visual-element.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/utils/is-numerical-string.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/svg/visual-element.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/create-visual-element.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/motion.js","webpack://ajfu.to/./node_modules/framer-motion/dist/es/render/dom/utils/create-config.js","webpack://ajfu.to/./src/pages/tech-tips.js"],"sourcesContent":["function memoize(fn) {\n  var cache = {};\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\nexport default memoize;","import memoize from '@emotion/memoize';\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23\n\nvar index = memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111\n  /* o */ && prop.charCodeAt(1) === 110\n  /* n */ && prop.charCodeAt(2) < 91;\n}\n/* Z+1 */);\n\nexport default index;","import React from \"react\"\n\nclass Footer extends React.Component {\n    render() {\n        return (\n            <footer>\n                <div className=\"container-fluid\">\n                    <div className=\"container\">\n                        <div className=\"row justify-content-center\">\n                            <div className=\"col text-center\">\n                                <a className=\"mx-2\" aria-label=\"Twitter\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://twitter.com/ajfuto\">\n                                    <svg className=\"main-social-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z\"/></svg>\n                                </a>\n                                <a className=\"mx-2\" aria-label=\"GitHub\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.github.com/ajfuto\">\n                                    <svg className=\"main-social-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z\"/></svg>\n                                </a>\n                                <a className=\"mx-2\" aria-label=\"LinkedIn\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.linkedin.com/in/ajfuto/\">\n                                    <svg className=\"main-social-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z\"/></svg>\n                                </a>\n                            </div>\n                        </div>\n                        <div className=\"row justify-content-center\">\n                            <div className=\"col text-center\">\n                                <p><small>Copyright © {new Date().getFullYear()} AJ Futo</small></p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </footer>\n        )\n    }\n}\n\nexport default Footer\n","import React from \"react\"\n\nclass NavigationSpacer extends React.Component {\n    render() {\n        return (\n            <div className=\"container invisible py-5\">\n                <nav className=\"main-navbar d-flex flex-md-row flex-column navbar navbar-expand navbar-custom\">\n                    <span className=\"navbar-brand\"><div style={{ height: \"0px\", width: \"46px\" }} /></span>\n                    <div className=\"d-flex flex-row\">\n                        <div style={{ height: \"1.5em\", margin: \"0rem 1rem\" }}></div>\n                    </div>\n                </nav>\n            </div>\n        )\n    }\n}\n\nexport default NavigationSpacer\n","var createDefinition = function createDefinition(propNames) {\n  return {\n    isEnabled: function isEnabled(props) {\n      return propNames.some(function (name) {\n        return !!props[name];\n      });\n    }\n  };\n};\nvar featureDefinitions = {\n  measureLayout: createDefinition([\"layout\", \"layoutId\", \"drag\", \"_layoutResetTransform\"]),\n  animation: createDefinition([\"animate\", \"exit\", \"variants\", \"whileHover\", \"whileTap\", \"whileFocus\", \"whileDrag\"]),\n  exit: createDefinition([\"exit\"]),\n  drag: createDefinition([\"drag\", \"dragControls\"]),\n  focus: createDefinition([\"whileFocus\"]),\n  hover: createDefinition([\"whileHover\", \"onHoverStart\", \"onHoverEnd\"]),\n  tap: createDefinition([\"whileTap\", \"onTap\", \"onTapStart\", \"onTapCancel\"]),\n  pan: createDefinition([\"onPan\", \"onPanStart\", \"onPanSessionStart\", \"onPanEnd\"]),\n  layoutAnimation: createDefinition([\"layout\", \"layoutId\"])\n};\nfunction loadFeatures(features) {\n  for (var key in features) {\n    var Component = features[key];\n    if (Component !== null) featureDefinitions[key].Component = Component;\n  }\n}\nexport { featureDefinitions, loadFeatures };","import { createContext } from 'react';\nvar LazyContext = createContext({\n  strict: false\n});\nexport { LazyContext };","import { __assign } from 'tslib';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { featureDefinitions } from './definitions.js';\nimport { invariant } from 'hey-listen';\nimport { LazyContext } from '../../context/LazyContext.js';\nvar featureNames = Object.keys(featureDefinitions);\nvar numFeatures = featureNames.length;\n/**\n * Load features via renderless components based on the provided MotionProps.\n */\nfunction useFeatures(props, visualElement, preloadedFeatures) {\n  var features = [];\n  var lazyContext = useContext(LazyContext);\n  if (!visualElement) return null;\n  /**\n   * If we're in development mode, check to make sure we're not rendering a motion component\n   * as a child of LazyMotion, as this will break the file-size benefits of using it.\n   */\n  if (process.env.NODE_ENV !== \"production\" && preloadedFeatures && lazyContext.strict) {\n    invariant(false, \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\");\n  }\n  for (var i = 0; i < numFeatures; i++) {\n    var name_1 = featureNames[i];\n    var _a = featureDefinitions[name_1],\n      isEnabled = _a.isEnabled,\n      Component = _a.Component;\n    /**\n     * It might be possible in the future to use this moment to\n     * dynamically request functionality. In initial tests this\n     * was producing a lot of duplication amongst bundles.\n     */\n    if (isEnabled(props) && Component) {\n      features.push(React.createElement(Component, __assign({\n        key: name_1\n      }, props, {\n        visualElement: visualElement\n      })));\n    }\n  }\n  return features;\n}\nexport { useFeatures };","import { createContext } from 'react';\n\n/**\n * @public\n */\nvar MotionConfigContext = createContext({\n  transformPagePoint: function transformPagePoint(p) {\n    return p;\n  },\n  isStatic: false\n});\nexport { MotionConfigContext };","import { useContext, createContext } from 'react';\nvar MotionContext = createContext({});\nfunction useVisualElementContext() {\n  return useContext(MotionContext).visualElement;\n}\nexport { MotionContext, useVisualElementContext };","import { useContext, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { useConstant } from '../../utils/use-constant.js';\n\n/**\n * When a component is the child of `AnimatePresence`, it can use `usePresence`\n * to access information about whether it's still present in the React tree.\n *\n * ```jsx\n * import { usePresence } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const [isPresent, safeToRemove] = usePresence()\n *\n *   useEffect(() => {\n *     !isPresent && setTimeout(safeToRemove, 1000)\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * If `isPresent` is `false`, it means that a component has been removed the tree, but\n * `AnimatePresence` won't really remove it until `safeToRemove` has been called.\n *\n * @public\n */\nfunction usePresence() {\n  var context = useContext(PresenceContext);\n  if (context === null) return [true, null];\n  var isPresent = context.isPresent,\n    onExitComplete = context.onExitComplete,\n    register = context.register;\n  // It's safe to call the following hooks conditionally (after an early return) because the context will always\n  // either be null or non-null for the lifespan of the component.\n  // Replace with useOpaqueId when released in React\n  var id = useUniqueId();\n  useEffect(function () {\n    return register(id);\n  }, []);\n  var safeToRemove = function safeToRemove() {\n    return onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete(id);\n  };\n  return !isPresent && onExitComplete ? [false, safeToRemove] : [true];\n}\n/**\n * Similar to `usePresence`, except `useIsPresent` simply returns whether or not the component is present.\n * There is no `safeToRemove` function.\n *\n * ```jsx\n * import { useIsPresent } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const isPresent = useIsPresent()\n *\n *   useEffect(() => {\n *     !isPresent && console.log(\"I've been removed!\")\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * @public\n */\nfunction useIsPresent() {\n  return isPresent(useContext(PresenceContext));\n}\nfunction isPresent(context) {\n  return context === null ? true : context.isPresent;\n}\nvar counter = 0;\nvar incrementId = function incrementId() {\n  return counter++;\n};\nvar useUniqueId = function useUniqueId() {\n  return useConstant(incrementId);\n};\nexport { isPresent, useIsPresent, usePresence };","import { createContext } from 'react';\n\n/**\n * @internal\n */\nvar LayoutGroupContext = createContext(null);\nexport { LayoutGroupContext };","var isBrowser = typeof window !== \"undefined\";\nexport { isBrowser };","import { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.js';\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\nexport { useIsomorphicLayoutEffect };","import { __assign } from 'tslib';\nimport { useContext, useRef, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { isPresent } from '../../components/AnimatePresence/use-presence.js';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.js';\nimport { useVisualElementContext } from '../../context/MotionContext/index.js';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.js';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.js';\nimport { LazyContext } from '../../context/LazyContext.js';\nfunction useLayoutId(_a) {\n  var layoutId = _a.layoutId;\n  var layoutGroupId = useContext(LayoutGroupContext);\n  return layoutGroupId && layoutId !== undefined ? layoutGroupId + \"-\" + layoutId : layoutId;\n}\nfunction useVisualElement(Component, visualState, props, createVisualElement) {\n  var config = useContext(MotionConfigContext);\n  var lazyContext = useContext(LazyContext);\n  var parent = useVisualElementContext();\n  var presenceContext = useContext(PresenceContext);\n  var layoutId = useLayoutId(props);\n  var visualElementRef = useRef(undefined);\n  /**\n   * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n   */\n  if (!createVisualElement) createVisualElement = lazyContext.renderer;\n  if (!visualElementRef.current && createVisualElement) {\n    visualElementRef.current = createVisualElement(Component, {\n      visualState: visualState,\n      parent: parent,\n      props: __assign(__assign({}, props), {\n        layoutId: layoutId\n      }),\n      presenceId: presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id,\n      blockInitialAnimation: (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false\n    });\n  }\n  var visualElement = visualElementRef.current;\n  useIsomorphicLayoutEffect(function () {\n    if (!visualElement) return;\n    visualElement.setProps(__assign(__assign(__assign({}, config), props), {\n      layoutId: layoutId\n    }));\n    visualElement.isPresent = isPresent(presenceContext);\n    visualElement.isPresenceRoot = !parent || parent.presenceId !== (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id);\n    /**\n     * Fire a render to ensure the latest state is reflected on-screen.\n     */\n    visualElement.syncRender();\n  });\n  useEffect(function () {\n    var _a;\n    if (!visualElement) return;\n    /**\n     * In a future refactor we can replace the features-as-components and\n     * have this loop through them all firing \"effect\" listeners\n     */\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.animateChanges();\n  });\n  useIsomorphicLayoutEffect(function () {\n    return function () {\n      return visualElement === null || visualElement === void 0 ? void 0 : visualElement.notifyUnmount();\n    };\n  }, []);\n  return visualElement;\n}\nexport { useVisualElement };","function isRefObject(ref) {\n  return typeof ref === \"object\" && Object.prototype.hasOwnProperty.call(ref, \"current\");\n}\nexport { isRefObject };","/**\n * Decides if the supplied variable is an array of variant labels\n */\nfunction isVariantLabels(v) {\n  return Array.isArray(v);\n}\n/**\n * Decides if the supplied variable is variant label\n */\nfunction isVariantLabel(v) {\n  return typeof v === \"string\" || isVariantLabels(v);\n}\n/**\n * Creates an object containing the latest state of every MotionValue on a VisualElement\n */\nfunction getCurrent(visualElement) {\n  var current = {};\n  visualElement.forEachValue(function (value, key) {\n    return current[key] = value.get();\n  });\n  return current;\n}\n/**\n * Creates an object containing the latest velocity of every MotionValue on a VisualElement\n */\nfunction getVelocity(visualElement) {\n  var velocity = {};\n  visualElement.forEachValue(function (value, key) {\n    return velocity[key] = value.getVelocity();\n  });\n  return velocity;\n}\nfunction resolveVariantFromProps(props, definition, custom, currentValues, currentVelocity) {\n  var _a;\n  if (currentValues === void 0) {\n    currentValues = {};\n  }\n  if (currentVelocity === void 0) {\n    currentVelocity = {};\n  }\n  if (typeof definition === \"string\") {\n    definition = (_a = props.variants) === null || _a === void 0 ? void 0 : _a[definition];\n  }\n  return typeof definition === \"function\" ? definition(custom !== null && custom !== void 0 ? custom : props.custom, currentValues, currentVelocity) : definition;\n}\nfunction resolveVariant(visualElement, definition, custom) {\n  var props = visualElement.getProps();\n  return resolveVariantFromProps(props, definition, custom !== null && custom !== void 0 ? custom : props.custom, getCurrent(visualElement), getVelocity(visualElement));\n}\nfunction checkIfControllingVariants(props) {\n  var _a;\n  return typeof ((_a = props.animate) === null || _a === void 0 ? void 0 : _a.start) === \"function\" || isVariantLabel(props.initial) || isVariantLabel(props.animate) || isVariantLabel(props.whileHover) || isVariantLabel(props.whileDrag) || isVariantLabel(props.whileTap) || isVariantLabel(props.whileFocus) || isVariantLabel(props.exit);\n}\nfunction checkIfVariantNode(props) {\n  return Boolean(checkIfControllingVariants(props) || props.variants);\n}\nexport { checkIfControllingVariants, checkIfVariantNode, isVariantLabel, isVariantLabels, resolveVariant, resolveVariantFromProps };","import { useMemo, useContext } from 'react';\nimport { MotionContext } from './index.js';\nimport { getCurrentTreeVariants } from './utils.js';\nfunction useCreateMotionContext(props, isStatic) {\n  var _a = getCurrentTreeVariants(props, useContext(MotionContext)),\n    initial = _a.initial,\n    animate = _a.animate;\n  return useMemo(function () {\n    return {\n      initial: initial,\n      animate: animate\n    };\n  },\n  /**\n   * Only break memoisation in static mode\n   */\n  isStatic ? [variantLabelsAsDependency(initial), variantLabelsAsDependency(animate)] : []);\n}\nfunction variantLabelsAsDependency(prop) {\n  return Array.isArray(prop) ? prop.join(\" \") : prop;\n}\nexport { useCreateMotionContext };","import { checkIfControllingVariants, isVariantLabel } from '../../render/utils/variants.js';\nfunction getCurrentTreeVariants(props, context) {\n  if (checkIfControllingVariants(props)) {\n    var initial = props.initial,\n      animate = props.animate;\n    return {\n      initial: initial === false || isVariantLabel(initial) ? initial : undefined,\n      animate: isVariantLabel(animate) ? animate : undefined\n    };\n  }\n  return props.inherit !== false ? context : {};\n}\nexport { getCurrentTreeVariants };","import * as React from 'react';\nimport { forwardRef, useContext } from 'react';\nimport { useFeatures } from './features/use-features.js';\nimport { MotionConfigContext } from '../context/MotionConfigContext.js';\nimport { MotionContext } from '../context/MotionContext/index.js';\nimport { useVisualElement } from './utils/use-visual-element.js';\nimport { useMotionRef } from './utils/use-motion-ref.js';\nimport { useCreateMotionContext } from '../context/MotionContext/create.js';\nimport { loadFeatures } from './features/definitions.js';\nimport { isBrowser } from '../utils/is-browser.js';\n\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n *\n * @internal\n */\nfunction createMotionComponent(_a) {\n  var preloadedFeatures = _a.preloadedFeatures,\n    createVisualElement = _a.createVisualElement,\n    useRender = _a.useRender,\n    useVisualState = _a.useVisualState,\n    Component = _a.Component;\n  preloadedFeatures && loadFeatures(preloadedFeatures);\n  function MotionComponent(props, externalRef) {\n    /**\n     * If we're rendering in a static environment, we only visually update the component\n     * as a result of a React-rerender rather than interactions or animations. This\n     * means we don't need to load additional memory structures like VisualElement,\n     * or any gesture/animation features.\n     */\n    var isStatic = useContext(MotionConfigContext).isStatic;\n    var features = null;\n    /**\n     * Create the tree context. This is memoized and will only trigger renders\n     * when the current tree variant changes in static mode.\n     */\n    var context = useCreateMotionContext(props, isStatic);\n    /**\n     *\n     */\n    var visualState = useVisualState(props, isStatic);\n    if (!isStatic && isBrowser) {\n      /**\n       * Create a VisualElement for this component. A VisualElement provides a common\n       * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n       * providing a way of rendering to these APIs outside of the React render loop\n       * for more performant animations and interactions\n       */\n      context.visualElement = useVisualElement(Component, visualState, props, createVisualElement);\n      /**\n       * Load Motion gesture and animation features. These are rendered as renderless\n       * components so each feature can optionally make use of React lifecycle methods.\n       *\n       * TODO: The intention is to move these away from a React-centric to a\n       * VisualElement-centric lifecycle scheme.\n       */\n      features = useFeatures(props, context.visualElement, preloadedFeatures);\n    }\n    /**\n     * The mount order and hierarchy is specific to ensure our element ref\n     * is hydrated by the time features fire their effects.\n     */\n    return React.createElement(React.Fragment, null, React.createElement(MotionContext.Provider, {\n      value: context\n    }, useRender(Component, props, useMotionRef(visualState, context.visualElement, externalRef), visualState, isStatic)), features);\n  }\n  return forwardRef(MotionComponent);\n}\nexport { createMotionComponent };","import { useCallback } from 'react';\nimport { isRefObject } from '../../utils/is-ref-object.js';\n\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\nfunction useMotionRef(visualState, visualElement, externalRef) {\n  return useCallback(function (instance) {\n    var _a;\n    instance && ((_a = visualState.mount) === null || _a === void 0 ? void 0 : _a.call(visualState, instance));\n    if (visualElement) {\n      instance ? visualElement.mount(instance) : visualElement.unmount();\n    }\n    if (externalRef) {\n      if (typeof externalRef === \"function\") {\n        externalRef(instance);\n      } else if (isRefObject(externalRef)) {\n        externalRef.current = instance;\n      }\n    }\n  },\n  /**\n   * Only pass a new ref callback to React if we've received a visual element\n   * factory. Otherwise we'll be mounting/remounting every time externalRef\n   * or other dependencies change.\n   */\n  [visualElement]);\n}\nexport { useMotionRef };","import { createMotionComponent } from '../../motion/index.js';\n\n/**\n * Convert any React component into a `motion` component. The provided component\n * **must** use `React.forwardRef` to the underlying DOM component you want to animate.\n *\n * ```jsx\n * const Component = React.forwardRef((props, ref) => {\n *   return <div ref={ref} />\n * })\n *\n * const MotionComponent = motion(Component)\n * ```\n *\n * @public\n */\nfunction createMotionProxy(createConfig) {\n  function custom(Component, customMotionComponentConfig) {\n    if (customMotionComponentConfig === void 0) {\n      customMotionComponentConfig = {};\n    }\n    return createMotionComponent(createConfig(Component, customMotionComponentConfig));\n  }\n  /**\n   * A cache of generated `motion` components, e.g `motion.div`, `motion.input` etc.\n   * Rather than generating them anew every render.\n   */\n  var componentCache = new Map();\n  return new Proxy(custom, {\n    /**\n     * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.\n     * The prop name is passed through as `key` and we can use that to generate a `motion`\n     * DOM component with that name.\n     */\n    get: function get(_target, key) {\n      /**\n       * If this element doesn't exist in the component cache, create it and cache.\n       */\n      if (!componentCache.has(key)) {\n        componentCache.set(key, custom(key));\n      }\n      return componentCache.get(key);\n    }\n  });\n}\nexport { createMotionProxy };","/**\n * We keep these listed seperately as we use the lowercase tag names as part\n * of the runtime bundle to detect SVG components\n */\nvar lowercaseSVGElements = [\"animate\", \"circle\", \"defs\", \"desc\", \"ellipse\", \"g\", \"image\", \"line\", \"filter\", \"marker\", \"mask\", \"metadata\", \"path\", \"pattern\", \"polygon\", \"polyline\", \"rect\", \"stop\", \"svg\", \"switch\", \"symbol\", \"text\", \"tspan\", \"use\", \"view\"];\nexport { lowercaseSVGElements };","import { lowercaseSVGElements } from '../../svg/lowercase-elements.js';\nfunction isSVGComponent(Component) {\n  if (\n  /**\n   * If it's not a string, it's a custom React component. Currently we only support\n   * HTML custom React components.\n   */\n  typeof Component !== \"string\" ||\n  /**\n   * If it contains a dash, the element is a custom HTML webcomponent.\n   */\n  Component.includes(\"-\")) {\n    return false;\n  } else if (\n  /**\n   * If it's in our list of lowercase SVG tags, it's an SVG component\n   */\n  lowercaseSVGElements.indexOf(Component) > -1 ||\n  /**\n   * If it contains a capital letter, it's an SVG component\n   */\n  /[A-Z]/.test(Component)) {\n    return true;\n  }\n  return false;\n}\nexport { isSVGComponent };","var valueScaleCorrection = {};\n/**\n * @internal\n */\nfunction addScaleCorrection(correctors) {\n  for (var key in correctors) {\n    valueScaleCorrection[key] = correctors[key];\n  }\n}\nexport { addScaleCorrection, valueScaleCorrection };","/**\n * A list of all transformable axes. We'll use this list to generated a version\n * of each axes for each transform.\n */\nvar transformAxes = [\"\", \"X\", \"Y\", \"Z\"];\n/**\n * An ordered array of each transformable value. By default, transform values\n * will be sorted to this order.\n */\nvar order = [\"translate\", \"scale\", \"rotate\", \"skew\"];\n/**\n * Generate a list of every possible transform key.\n */\nvar transformProps = [\"transformPerspective\", \"x\", \"y\", \"z\"];\norder.forEach(function (operationKey) {\n  return transformAxes.forEach(function (axesKey) {\n    return transformProps.push(operationKey + axesKey);\n  });\n});\n/**\n * A function to use with Array.sort to sort transform keys by their default order.\n */\nfunction sortTransformProps(a, b) {\n  return transformProps.indexOf(a) - transformProps.indexOf(b);\n}\n/**\n * A quick lookup for transform props.\n */\nvar transformPropSet = new Set(transformProps);\nfunction isTransformProp(key) {\n  return transformPropSet.has(key);\n}\n/**\n * A quick lookup for transform origin props\n */\nvar transformOriginProps = new Set([\"originX\", \"originY\", \"originZ\"]);\nfunction isTransformOriginProp(key) {\n  return transformOriginProps.has(key);\n}\nexport { isTransformOriginProp, isTransformProp, sortTransformProps, transformAxes, transformProps };","import { valueScaleCorrection } from '../../render/dom/projection/scale-correction.js';\nimport { isTransformProp, isTransformOriginProp } from '../../render/html/utils/transform.js';\nfunction isForcedMotionValue(key, _a) {\n  var layout = _a.layout,\n    layoutId = _a.layoutId;\n  return isTransformProp(key) || isTransformOriginProp(key) || (layout || layoutId !== undefined) && (!!valueScaleCorrection[key] || key === \"opacity\");\n}\nexport { isForcedMotionValue };","var isMotionValue = function isMotionValue(value) {\n  return value !== null && typeof value === \"object\" && value.getVelocity;\n};\nexport { isMotionValue };","import { sortTransformProps } from './transform.js';\nvar translateAlias = {\n  x: \"translateX\",\n  y: \"translateY\",\n  z: \"translateZ\",\n  transformPerspective: \"perspective\"\n};\n/**\n * Build a CSS transform style from individual x/y/scale etc properties.\n *\n * This outputs with a default order of transforms/scales/rotations, this can be customised by\n * providing a transformTemplate function.\n */\nfunction buildTransform(_a, _b, transformIsDefault, transformTemplate) {\n  var transform = _a.transform,\n    transformKeys = _a.transformKeys;\n  var _c = _b.enableHardwareAcceleration,\n    enableHardwareAcceleration = _c === void 0 ? true : _c,\n    _d = _b.allowTransformNone,\n    allowTransformNone = _d === void 0 ? true : _d;\n  // The transform string we're going to build into.\n  var transformString = \"\";\n  // Transform keys into their default order - this will determine the output order.\n  transformKeys.sort(sortTransformProps);\n  // Track whether the defined transform has a defined z so we don't add a\n  // second to enable hardware acceleration\n  var transformHasZ = false;\n  // Loop over each transform and build them into transformString\n  var numTransformKeys = transformKeys.length;\n  for (var i = 0; i < numTransformKeys; i++) {\n    var key = transformKeys[i];\n    transformString += (translateAlias[key] || key) + \"(\" + transform[key] + \") \";\n    if (key === \"z\") transformHasZ = true;\n  }\n  if (!transformHasZ && enableHardwareAcceleration) {\n    transformString += \"translateZ(0)\";\n  } else {\n    transformString = transformString.trim();\n  }\n  // If we have a custom `transform` template, pass our transform values and\n  // generated transformString to that before returning\n  if (transformTemplate) {\n    transformString = transformTemplate(transform, transformIsDefault ? \"\" : transformString);\n  } else if (allowTransformNone && transformIsDefault) {\n    transformString = \"none\";\n  }\n  return transformString;\n}\n/**\n * Build a transformOrigin style. Uses the same defaults as the browser for\n * undefined origins.\n */\nfunction buildTransformOrigin(_a) {\n  var _b = _a.originX,\n    originX = _b === void 0 ? \"50%\" : _b,\n    _c = _a.originY,\n    originY = _c === void 0 ? \"50%\" : _c,\n    _d = _a.originZ,\n    originZ = _d === void 0 ? 0 : _d;\n  return originX + \" \" + originY + \" \" + originZ;\n}\nexport { buildTransform, buildTransformOrigin };","/**\n * Returns true if the provided key is a CSS variable\n */\nfunction isCSSVariable(key) {\n  return key.startsWith(\"--\");\n}\nexport { isCSSVariable };","/**\n * Provided a value and a ValueType, returns the value as that value type.\n */\nvar getValueAsType = function getValueAsType(value, type) {\n  return type && typeof value === \"number\" ? type.transform(value) : value;\n};\nexport { getValueAsType };","var clamp = function clamp(min, max) {\n  return function (v) {\n    return Math.max(Math.min(v, max), min);\n  };\n};\nvar sanitize = function sanitize(v) {\n  return v % 1 ? Number(v.toFixed(5)) : v;\n};\nvar floatRegex = /(-)?([\\d]*\\.?[\\d])+/g;\nvar colorRegex = /(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2,3}\\s*\\/*\\s*[\\d\\.]+%?\\))/gi;\nvar singleColorRegex = /^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2,3}\\s*\\/*\\s*[\\d\\.]+%?\\))$/i;\nfunction isString(v) {\n  return typeof v === 'string';\n}\nexport { clamp, colorRegex, floatRegex, isString, sanitize, singleColorRegex };","import { __assign } from 'tslib';\nimport { isString } from '../utils.js';\nvar createUnitType = function createUnitType(unit) {\n  return {\n    test: function test(v) {\n      return isString(v) && v.endsWith(unit) && v.split(' ').length === 1;\n    },\n    parse: parseFloat,\n    transform: function transform(v) {\n      return \"\" + v + unit;\n    }\n  };\n};\nvar degrees = createUnitType('deg');\nvar percent = createUnitType('%');\nvar px = createUnitType('px');\nvar vh = createUnitType('vh');\nvar vw = createUnitType('vw');\nvar progressPercentage = __assign(__assign({}, percent), {\n  parse: function parse(v) {\n    return percent.parse(v) / 100;\n  },\n  transform: function transform(v) {\n    return percent.transform(v * 100);\n  }\n});\nexport { degrees, percent, progressPercentage, px, vh, vw };","import { __assign } from 'tslib';\nimport { clamp } from '../utils.js';\nvar number = {\n  test: function test(v) {\n    return typeof v === 'number';\n  },\n  parse: parseFloat,\n  transform: function transform(v) {\n    return v;\n  }\n};\nvar alpha = __assign(__assign({}, number), {\n  transform: clamp(0, 1)\n});\nvar scale = __assign(__assign({}, number), {\n  default: 1\n});\nexport { alpha, number, scale };","import { __assign } from 'tslib';\nimport { number } from 'style-value-types';\nvar int = __assign(__assign({}, number), {\n  transform: Math.round\n});\nexport { int };","import { px, degrees, scale, alpha, progressPercentage } from 'style-value-types';\nimport { int } from './type-int.js';\nvar numberValueTypes = {\n  // Border props\n  borderWidth: px,\n  borderTopWidth: px,\n  borderRightWidth: px,\n  borderBottomWidth: px,\n  borderLeftWidth: px,\n  borderRadius: px,\n  radius: px,\n  borderTopLeftRadius: px,\n  borderTopRightRadius: px,\n  borderBottomRightRadius: px,\n  borderBottomLeftRadius: px,\n  // Positioning props\n  width: px,\n  maxWidth: px,\n  height: px,\n  maxHeight: px,\n  size: px,\n  top: px,\n  right: px,\n  bottom: px,\n  left: px,\n  // Spacing props\n  padding: px,\n  paddingTop: px,\n  paddingRight: px,\n  paddingBottom: px,\n  paddingLeft: px,\n  margin: px,\n  marginTop: px,\n  marginRight: px,\n  marginBottom: px,\n  marginLeft: px,\n  // Transform props\n  rotate: degrees,\n  rotateX: degrees,\n  rotateY: degrees,\n  rotateZ: degrees,\n  scale: scale,\n  scaleX: scale,\n  scaleY: scale,\n  scaleZ: scale,\n  skew: degrees,\n  skewX: degrees,\n  skewY: degrees,\n  distance: px,\n  translateX: px,\n  translateY: px,\n  translateZ: px,\n  x: px,\n  y: px,\n  z: px,\n  perspective: px,\n  transformPerspective: px,\n  opacity: alpha,\n  originX: progressPercentage,\n  originY: progressPercentage,\n  originZ: px,\n  // Misc\n  zIndex: int,\n  // SVG\n  fillOpacity: alpha,\n  strokeOpacity: alpha,\n  numOctaves: int\n};\nexport { numberValueTypes };","import { valueScaleCorrection } from '../../dom/projection/scale-correction.js';\nimport { buildTransform, buildTransformOrigin } from './build-transform.js';\nimport { isCSSVariable } from '../../dom/utils/is-css-variable.js';\nimport { isTransformProp, isTransformOriginProp } from './transform.js';\nimport { getValueAsType } from '../../dom/value-types/get-as-type.js';\nimport { numberValueTypes } from '../../dom/value-types/number.js';\nfunction buildHTMLStyles(state, latestValues, projection, layoutState, options, transformTemplate, buildProjectionTransform, buildProjectionTransformOrigin) {\n  var _a;\n  var style = state.style,\n    vars = state.vars,\n    transform = state.transform,\n    transformKeys = state.transformKeys,\n    transformOrigin = state.transformOrigin;\n  // Empty the transformKeys array. As we're throwing out refs to its items\n  // this might not be as cheap as suspected. Maybe using the array as a buffer\n  // with a manual incrementation would be better.\n  transformKeys.length = 0;\n  // Track whether we encounter any transform or transformOrigin values.\n  var hasTransform = false;\n  var hasTransformOrigin = false;\n  // Does the calculated transform essentially equal \"none\"?\n  var transformIsNone = true;\n  /**\n   * Loop over all our latest animated values and decide whether to handle them\n   * as a style or CSS variable.\n   *\n   * Transforms and transform origins are kept seperately for further processing.\n   */\n  for (var key in latestValues) {\n    var value = latestValues[key];\n    /**\n     * If this is a CSS variable we don't do any further processing.\n     */\n    if (isCSSVariable(key)) {\n      vars[key] = value;\n      continue;\n    }\n    // Convert the value to its default value type, ie 0 -> \"0px\"\n    var valueType = numberValueTypes[key];\n    var valueAsType = getValueAsType(value, valueType);\n    if (isTransformProp(key)) {\n      // If this is a transform, flag to enable further transform processing\n      hasTransform = true;\n      transform[key] = valueAsType;\n      transformKeys.push(key);\n      // If we already know we have a non-default transform, early return\n      if (!transformIsNone) continue;\n      // Otherwise check to see if this is a default transform\n      if (value !== ((_a = valueType.default) !== null && _a !== void 0 ? _a : 0)) transformIsNone = false;\n    } else if (isTransformOriginProp(key)) {\n      transformOrigin[key] = valueAsType;\n      // If this is a transform origin, flag and enable further transform-origin processing\n      hasTransformOrigin = true;\n    } else {\n      /**\n       * If layout projection is on, and we need to perform scale correction for this\n       * value type, perform it.\n       */\n      if ((projection === null || projection === void 0 ? void 0 : projection.isHydrated) && (layoutState === null || layoutState === void 0 ? void 0 : layoutState.isHydrated) && valueScaleCorrection[key]) {\n        var correctedValue = valueScaleCorrection[key].process(value, layoutState, projection);\n        /**\n         * Scale-correctable values can define a number of other values to break\n         * down into. For instance borderRadius needs applying to borderBottomLeftRadius etc\n         */\n        var applyTo = valueScaleCorrection[key].applyTo;\n        if (applyTo) {\n          var num = applyTo.length;\n          for (var i = 0; i < num; i++) {\n            style[applyTo[i]] = correctedValue;\n          }\n        } else {\n          style[key] = correctedValue;\n        }\n      } else {\n        style[key] = valueAsType;\n      }\n    }\n  }\n  if (layoutState && projection && buildProjectionTransform && buildProjectionTransformOrigin) {\n    style.transform = buildProjectionTransform(layoutState.deltaFinal, layoutState.treeScale, hasTransform ? transform : undefined);\n    if (transformTemplate) {\n      style.transform = transformTemplate(transform, style.transform);\n    }\n    style.transformOrigin = buildProjectionTransformOrigin(layoutState);\n  } else {\n    if (hasTransform) {\n      style.transform = buildTransform(state, options, transformIsNone, transformTemplate);\n    }\n    if (hasTransformOrigin) {\n      style.transformOrigin = buildTransformOrigin(transformOrigin);\n    }\n  }\n}\nexport { buildHTMLStyles };","var createHtmlRenderState = function createHtmlRenderState() {\n  return {\n    style: {},\n    transform: {},\n    transformKeys: [],\n    transformOrigin: {},\n    vars: {}\n  };\n};\nexport { createHtmlRenderState };","import { __assign } from 'tslib';\nimport { useMemo } from 'react';\nimport { isForcedMotionValue } from '../../motion/utils/is-forced-motion-value.js';\nimport { isMotionValue } from '../../value/utils/is-motion-value.js';\nimport { buildHTMLStyles } from './utils/build-styles.js';\nimport { createHtmlRenderState } from './utils/create-render-state.js';\nfunction copyRawValuesOnly(target, source, props) {\n  for (var key in source) {\n    if (!isMotionValue(source[key]) && !isForcedMotionValue(key, props)) {\n      target[key] = source[key];\n    }\n  }\n}\nfunction useInitialMotionValues(_a, visualState, isStatic) {\n  var transformTemplate = _a.transformTemplate;\n  return useMemo(function () {\n    var state = createHtmlRenderState();\n    buildHTMLStyles(state, visualState, undefined, undefined, {\n      enableHardwareAcceleration: !isStatic\n    }, transformTemplate);\n    var vars = state.vars,\n      style = state.style;\n    return __assign(__assign({}, vars), style);\n  }, [visualState]);\n}\nfunction useStyle(props, visualState, isStatic) {\n  var styleProp = props.style || {};\n  var style = {};\n  /**\n   * Copy non-Motion Values straight into style\n   */\n  copyRawValuesOnly(style, styleProp, props);\n  Object.assign(style, useInitialMotionValues(props, visualState, isStatic));\n  if (props.transformValues) {\n    style = props.transformValues(style);\n  }\n  return style;\n}\nfunction useHTMLProps(props, visualState, isStatic) {\n  // The `any` isn't ideal but it is the type of createElement props argument\n  var htmlProps = {};\n  var style = useStyle(props, visualState, isStatic);\n  if (Boolean(props.drag)) {\n    // Disable the ghost element when a user drags\n    htmlProps.draggable = false;\n    // Disable text selection\n    style.userSelect = style.WebkitUserSelect = style.WebkitTouchCallout = \"none\";\n    // Disable scrolling on the draggable direction\n    style.touchAction = props.drag === true ? \"none\" : \"pan-\" + (props.drag === \"x\" ? \"y\" : \"x\");\n  }\n  htmlProps.style = style;\n  return htmlProps;\n}\nexport { copyRawValuesOnly, useHTMLProps, useStyle };","/**\n * A list of all valid MotionProps.\n *\n * @internalremarks\n * This doesn't throw if a `MotionProp` name is missing - it should.\n */\nvar validMotionProps = new Set([\"initial\", \"animate\", \"exit\", \"style\", \"variants\", \"transition\", \"transformTemplate\", \"transformValues\", \"custom\", \"inherit\", \"layout\", \"layoutId\", \"_layoutResetTransform\", \"onLayoutAnimationComplete\", \"onViewportBoxUpdate\", \"onLayoutMeasure\", \"onBeforeLayoutMeasure\", \"onAnimationStart\", \"onAnimationComplete\", \"onUpdate\", \"onDragStart\", \"onDrag\", \"onDragEnd\", \"onMeasureDragConstraints\", \"onDirectionLock\", \"onDragTransitionEnd\", \"drag\", \"dragControls\", \"dragListener\", \"dragConstraints\", \"dragDirectionLock\", \"_dragX\", \"_dragY\", \"dragElastic\", \"dragMomentum\", \"dragPropagation\", \"dragTransition\", \"whileDrag\", \"onPan\", \"onPanStart\", \"onPanEnd\", \"onPanSessionStart\", \"onTap\", \"onTapStart\", \"onTapCancel\", \"onHoverStart\", \"onHoverEnd\", \"whileFocus\", \"whileTap\", \"whileHover\"]);\n/**\n * Check whether a prop name is a valid `MotionProp` key.\n *\n * @param key - Name of the property to check\n * @returns `true` is key is a valid `MotionProp`.\n *\n * @public\n */\nfunction isValidMotionProp(key) {\n  return validMotionProps.has(key);\n}\nexport { isValidMotionProp };","import { isValidMotionProp } from '../../../motion/utils/valid-prop.js';\nvar shouldForward = function shouldForward(key) {\n  return !isValidMotionProp(key);\n};\n/**\n * Emotion and Styled Components both allow users to pass through arbitrary props to their components\n * to dynamically generate CSS. They both use the `@emotion/is-prop-valid` package to determine which\n * of these should be passed to the underlying DOM node.\n *\n * However, when styling a Motion component `styled(motion.div)`, both packages pass through *all* props\n * as it's seen as an arbitrary component rather than a DOM node. Motion only allows arbitrary props\n * passed through the `custom` prop so it doesn't *need* the payload or computational overhead of\n * `@emotion/is-prop-valid`, however to fix this problem we need to use it.\n *\n * By making it an optionalDependency we can offer this functionality only in the situations where it's\n * actually required.\n */\ntry {\n  var emotionIsPropValid_1 = require(\"@emotion/is-prop-valid\").default;\n  shouldForward = function shouldForward(key) {\n    // Handle events explicitly as Emotion validates them all as true\n    if (key.startsWith(\"on\")) {\n      return !isValidMotionProp(key);\n    } else {\n      return emotionIsPropValid_1(key);\n    }\n  };\n} catch (_a) {\n  // We don't need to actually do anything here - the fallback is the existing `isPropValid`.\n}\nfunction filterProps(props, isDom, forwardMotionProps) {\n  var filteredProps = {};\n  for (var key in props) {\n    if (shouldForward(key) || forwardMotionProps === true && isValidMotionProp(key) || !isDom && !isValidMotionProp(key)) {\n      filteredProps[key] = props[key];\n    }\n  }\n  return filteredProps;\n}\nexport { filterProps };","import { px } from 'style-value-types';\nfunction calcOrigin(origin, offset, size) {\n  return typeof origin === \"string\" ? origin : px.transform(offset + size * origin);\n}\n/**\n * The SVG transform origin defaults are different to CSS and is less intuitive,\n * so we use the measured dimensions of the SVG to reconcile these.\n */\nfunction calcSVGTransformOrigin(dimensions, originX, originY) {\n  var pxOriginX = calcOrigin(originX, dimensions.x, dimensions.width);\n  var pxOriginY = calcOrigin(originY, dimensions.y, dimensions.height);\n  return pxOriginX + \" \" + pxOriginY;\n}\nexport { calcSVGTransformOrigin };","import { px } from 'style-value-types';\n\n// Convert a progress 0-1 to a pixels value based on the provided length\nvar progressToPixels = function progressToPixels(progress, length) {\n  return px.transform(progress * length);\n};\nvar dashKeys = {\n  offset: \"stroke-dashoffset\",\n  array: \"stroke-dasharray\"\n};\nvar camelKeys = {\n  offset: \"strokeDashoffset\",\n  array: \"strokeDasharray\"\n};\n/**\n * Build SVG path properties. Uses the path's measured length to convert\n * our custom pathLength, pathSpacing and pathOffset into stroke-dashoffset\n * and stroke-dasharray attributes.\n *\n * This function is mutative to reduce per-frame GC.\n */\nfunction buildSVGPath(attrs, totalLength, length, spacing, offset, useDashCase) {\n  if (spacing === void 0) {\n    spacing = 1;\n  }\n  if (offset === void 0) {\n    offset = 0;\n  }\n  if (useDashCase === void 0) {\n    useDashCase = true;\n  }\n  // We use dash case when setting attributes directly to the DOM node and camel case\n  // when defining props on a React component.\n  var keys = useDashCase ? dashKeys : camelKeys;\n  // Build the dash offset\n  attrs[keys.offset] = progressToPixels(-offset, totalLength);\n  // Build the dash array\n  var pathLength = progressToPixels(length, totalLength);\n  var pathSpacing = progressToPixels(spacing, totalLength);\n  attrs[keys.array] = pathLength + \" \" + pathSpacing;\n}\nexport { buildSVGPath };","import { __rest } from 'tslib';\nimport { buildHTMLStyles } from '../../html/utils/build-styles.js';\nimport { calcSVGTransformOrigin } from './transform-origin.js';\nimport { buildSVGPath } from './path.js';\n\n/**\n * Build SVG visual attrbutes, like cx and style.transform\n */\nfunction buildSVGAttrs(state, _a, projection, layoutState, options, transformTemplate, buildProjectionTransform, buildProjectionTransformOrigin) {\n  var attrX = _a.attrX,\n    attrY = _a.attrY,\n    originX = _a.originX,\n    originY = _a.originY,\n    pathLength = _a.pathLength,\n    _b = _a.pathSpacing,\n    pathSpacing = _b === void 0 ? 1 : _b,\n    _c = _a.pathOffset,\n    pathOffset = _c === void 0 ? 0 : _c,\n    // This is object creation, which we try to avoid per-frame.\n    latest = __rest(_a, [\"attrX\", \"attrY\", \"originX\", \"originY\", \"pathLength\", \"pathSpacing\", \"pathOffset\"]);\n  buildHTMLStyles(state, latest, projection, layoutState, options, transformTemplate, buildProjectionTransform, buildProjectionTransformOrigin);\n  state.attrs = state.style;\n  state.style = {};\n  var attrs = state.attrs,\n    style = state.style,\n    dimensions = state.dimensions,\n    totalPathLength = state.totalPathLength;\n  /**\n   * However, we apply transforms as CSS transforms. So if we detect a transform we take it from attrs\n   * and copy it into style.\n   */\n  if (attrs.transform) {\n    if (dimensions) style.transform = attrs.transform;\n    delete attrs.transform;\n  }\n  // Parse transformOrigin\n  if (dimensions && (originX !== undefined || originY !== undefined || style.transform)) {\n    style.transformOrigin = calcSVGTransformOrigin(dimensions, originX !== undefined ? originX : 0.5, originY !== undefined ? originY : 0.5);\n  }\n  // Treat x/y not as shortcuts but as actual attributes\n  if (attrX !== undefined) attrs.x = attrX;\n  if (attrY !== undefined) attrs.y = attrY;\n  // Build SVG path if one has been measured\n  if (totalPathLength !== undefined && pathLength !== undefined) {\n    buildSVGPath(attrs, totalPathLength, pathLength, pathSpacing, pathOffset, false);\n  }\n}\nexport { buildSVGAttrs };","import { __assign } from 'tslib';\nimport { createHtmlRenderState } from '../../html/utils/create-render-state.js';\nvar createSvgRenderState = function createSvgRenderState() {\n  return __assign(__assign({}, createHtmlRenderState()), {\n    attrs: {}\n  });\n};\nexport { createSvgRenderState };","import { __assign } from 'tslib';\nimport { useMemo } from 'react';\nimport { copyRawValuesOnly } from '../html/use-props.js';\nimport { buildSVGAttrs } from './utils/build-attrs.js';\nimport { createSvgRenderState } from './utils/create-render-state.js';\nfunction useSVGProps(props, visualState) {\n  var visualProps = useMemo(function () {\n    var state = createSvgRenderState();\n    buildSVGAttrs(state, visualState, undefined, undefined, {\n      enableHardwareAcceleration: false\n    }, props.transformTemplate);\n    return __assign(__assign({}, state.attrs), {\n      style: __assign({}, state.style)\n    });\n  }, [visualState]);\n  if (props.style) {\n    var rawStyles = {};\n    copyRawValuesOnly(rawStyles, props.style, props);\n    visualProps.style = __assign(__assign({}, rawStyles), visualProps.style);\n  }\n  return visualProps;\n}\nexport { useSVGProps };","import { __assign } from 'tslib';\nimport { createElement } from 'react';\nimport { useHTMLProps } from '../html/use-props.js';\nimport { filterProps } from './utils/filter-props.js';\nimport { isSVGComponent } from './utils/is-svg-component.js';\nimport { useSVGProps } from '../svg/use-props.js';\nfunction createUseRender(forwardMotionProps) {\n  if (forwardMotionProps === void 0) {\n    forwardMotionProps = false;\n  }\n  var useRender = function useRender(Component, props, ref, _a, isStatic) {\n    var latestValues = _a.latestValues;\n    var useVisualProps = isSVGComponent(Component) ? useSVGProps : useHTMLProps;\n    var visualProps = useVisualProps(props, latestValues, isStatic);\n    var filteredProps = filterProps(props, typeof Component === \"string\", forwardMotionProps);\n    var elementProps = __assign(__assign(__assign({}, filteredProps), visualProps), {\n      ref: ref\n    });\n    return createElement(Component, elementProps);\n  };\n  return useRender;\n}\nexport { createUseRender };","var CAMEL_CASE_PATTERN = /([a-z])([A-Z])/g;\nvar REPLACE_TEMPLATE = \"$1-$2\";\n/**\n * Convert camelCase to dash-case properties.\n */\nvar camelToDash = function camelToDash(str) {\n  return str.replace(CAMEL_CASE_PATTERN, REPLACE_TEMPLATE).toLowerCase();\n};\nexport { camelToDash };","function renderHTML(element, _a) {\n  var style = _a.style,\n    vars = _a.vars;\n  // Directly assign style into the Element's style prop. In tests Object.assign is the\n  // fastest way to assign styles.\n  Object.assign(element.style, style);\n  // Loop over any CSS variables and assign those.\n  for (var key in vars) {\n    element.style.setProperty(key, vars[key]);\n  }\n}\nexport { renderHTML };","/**\n * A set of attribute names that are always read/written as camel case.\n */\nvar camelCaseAttributes = new Set([\"baseFrequency\", \"diffuseConstant\", \"kernelMatrix\", \"kernelUnitLength\", \"keySplines\", \"keyTimes\", \"limitingConeAngle\", \"markerHeight\", \"markerWidth\", \"numOctaves\", \"targetX\", \"targetY\", \"surfaceScale\", \"specularConstant\", \"specularExponent\", \"stdDeviation\", \"tableValues\", \"viewBox\", \"gradientTransform\"]);\nexport { camelCaseAttributes };","import { camelToDash } from '../../dom/utils/camel-to-dash.js';\nimport { renderHTML } from '../../html/utils/render.js';\nimport { camelCaseAttributes } from './camel-case-attrs.js';\nfunction renderSVG(element, renderState) {\n  renderHTML(element, renderState);\n  for (var key in renderState.attrs) {\n    element.setAttribute(!camelCaseAttributes.has(key) ? camelToDash(key) : key, renderState.attrs[key]);\n  }\n}\nexport { renderSVG };","import { isForcedMotionValue } from '../../../motion/utils/is-forced-motion-value.js';\nimport { isMotionValue } from '../../../value/utils/is-motion-value.js';\nfunction scrapeMotionValuesFromProps(props) {\n  var style = props.style;\n  var newValues = {};\n  for (var key in style) {\n    if (isMotionValue(style[key]) || isForcedMotionValue(key, props)) {\n      newValues[key] = style[key];\n    }\n  }\n  return newValues;\n}\nexport { scrapeMotionValuesFromProps };","import { isMotionValue } from '../../../value/utils/is-motion-value.js';\nimport { scrapeMotionValuesFromProps as scrapeMotionValuesFromProps$1 } from '../../html/utils/scrape-motion-values.js';\nfunction scrapeMotionValuesFromProps(props) {\n  var newValues = scrapeMotionValuesFromProps$1(props);\n  for (var key in props) {\n    if (isMotionValue(props[key])) {\n      var targetKey = key === \"x\" || key === \"y\" ? \"attr\" + key.toUpperCase() : key;\n      newValues[targetKey] = props[key];\n    }\n  }\n  return newValues;\n}\nexport { scrapeMotionValuesFromProps };","function isAnimationControls(v) {\n  return typeof v === \"object\" && typeof v.start === \"function\";\n}\nexport { isAnimationControls };","var isKeyframesTarget = function isKeyframesTarget(v) {\n  return Array.isArray(v);\n};\nexport { isKeyframesTarget };","import { isKeyframesTarget } from '../animation/utils/is-keyframes-target.js';\nvar isCustomValue = function isCustomValue(v) {\n  return Boolean(v && typeof v === \"object\" && v.mix && v.toValue);\n};\nvar resolveFinalValueInKeyframes = function resolveFinalValueInKeyframes(v) {\n  // TODO maybe throw if v.length - 1 is placeholder token?\n  return isKeyframesTarget(v) ? v[v.length - 1] || 0 : v;\n};\nexport { isCustomValue, resolveFinalValueInKeyframes };","import { __rest } from 'tslib';\nimport { useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.js';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { checkIfControllingVariants, checkIfVariantNode, resolveVariantFromProps } from '../../render/utils/variants.js';\nimport { useConstant } from '../../utils/use-constant.js';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.js';\nimport { MotionContext } from '../../context/MotionContext/index.js';\nfunction makeState(_a, props, context, presenceContext) {\n  var scrapeMotionValuesFromProps = _a.scrapeMotionValuesFromProps,\n    createRenderState = _a.createRenderState,\n    onMount = _a.onMount;\n  var state = {\n    latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n    renderState: createRenderState()\n  };\n  if (onMount) {\n    state.mount = function (instance) {\n      return onMount(props, instance, state);\n    };\n  }\n  return state;\n}\nvar makeUseVisualState = function makeUseVisualState(config) {\n  return function (props, isStatic) {\n    var context = useContext(MotionContext);\n    var presenceContext = useContext(PresenceContext);\n    return isStatic ? makeState(config, props, context, presenceContext) : useConstant(function () {\n      return makeState(config, props, context, presenceContext);\n    });\n  };\n};\nfunction makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n  var values = {};\n  var blockInitialAnimation = (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false;\n  var motionValues = scrapeMotionValues(props);\n  for (var key in motionValues) {\n    values[key] = resolveMotionValue(motionValues[key]);\n  }\n  var initial = props.initial,\n    animate = props.animate;\n  var isControllingVariants = checkIfControllingVariants(props);\n  var isVariantNode = checkIfVariantNode(props);\n  if (context && isVariantNode && !isControllingVariants && props.inherit !== false) {\n    initial !== null && initial !== void 0 ? initial : initial = context.initial;\n    animate !== null && animate !== void 0 ? animate : animate = context.animate;\n  }\n  var variantToSet = blockInitialAnimation || initial === false ? animate : initial;\n  if (variantToSet && typeof variantToSet !== \"boolean\" && !isAnimationControls(variantToSet)) {\n    var list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n    list.forEach(function (definition) {\n      var resolved = resolveVariantFromProps(props, definition);\n      if (!resolved) return;\n      var transitionEnd = resolved.transitionEnd;\n      resolved.transition;\n      var target = __rest(resolved, [\"transitionEnd\", \"transition\"]);\n      for (var key in target) values[key] = target[key];\n      for (var key in transitionEnd) values[key] = transitionEnd[key];\n    });\n  }\n  return values;\n}\nexport { makeUseVisualState };","import { isCustomValue } from '../../utils/resolve-value.js';\nimport { isMotionValue } from './is-motion-value.js';\n\n/**\n * If the provided value is a MotionValue, this returns the actual value, otherwise just the value itself\n *\n * TODO: Remove and move to library\n *\n * @internal\n */\nfunction resolveMotionValue(value) {\n  var unwrappedValue = isMotionValue(value) ? value.get() : value;\n  return isCustomValue(unwrappedValue) ? unwrappedValue.toValue() : unwrappedValue;\n}\nexport { resolveMotionValue };","import { renderSVG } from './utils/render.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.js';\nimport { createSvgRenderState } from './utils/create-render-state.js';\nimport { buildSVGAttrs } from './utils/build-attrs.js';\nvar svgMotionConfig = {\n  useVisualState: makeUseVisualState({\n    scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n    createRenderState: createSvgRenderState,\n    onMount: function onMount(props, instance, _a) {\n      var renderState = _a.renderState,\n        latestValues = _a.latestValues;\n      try {\n        renderState.dimensions = typeof instance.getBBox === \"function\" ? instance.getBBox() : instance.getBoundingClientRect();\n      } catch (e) {\n        // Most likely trying to measure an unrendered element under Firefox\n        renderState.dimensions = {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0\n        };\n      }\n      if (isPath(instance)) {\n        renderState.totalPathLength = instance.getTotalLength();\n      }\n      buildSVGAttrs(renderState, latestValues, undefined, undefined, {\n        enableHardwareAcceleration: false\n      }, props.transformTemplate);\n      // TODO: Replace with direct assignment\n      renderSVG(instance, renderState);\n    }\n  })\n};\nfunction isPath(element) {\n  return element.tagName === \"path\";\n}\nexport { svgMotionConfig };","import { makeUseVisualState } from '../../motion/utils/use-visual-state.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { createHtmlRenderState } from './utils/create-render-state.js';\nvar htmlMotionConfig = {\n  useVisualState: makeUseVisualState({\n    scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n    createRenderState: createHtmlRenderState\n  })\n};\nexport { htmlMotionConfig };","var AnimationType;\n(function (AnimationType) {\n  AnimationType[\"Animate\"] = \"animate\";\n  AnimationType[\"Hover\"] = \"whileHover\";\n  AnimationType[\"Tap\"] = \"whileTap\";\n  AnimationType[\"Drag\"] = \"whileDrag\";\n  AnimationType[\"Focus\"] = \"whileFocus\";\n  AnimationType[\"Exit\"] = \"exit\";\n})(AnimationType || (AnimationType = {}));\nexport { AnimationType };","import { useEffect } from 'react';\nfunction addDomEvent(target, eventName, handler, options) {\n  target.addEventListener(eventName, handler, options);\n  return function () {\n    return target.removeEventListener(eventName, handler, options);\n  };\n}\n/**\n * Attaches an event listener directly to the provided DOM element.\n *\n * Bypassing React's event system can be desirable, for instance when attaching non-passive\n * event handlers.\n *\n * ```jsx\n * const ref = useRef(null)\n *\n * useDomEvent(ref, 'wheel', onWheel, { passive: false })\n *\n * return <div ref={ref} />\n * ```\n *\n * @param ref - React.RefObject that's been provided to the element you want to bind the listener to.\n * @param eventName - Name of the event you want listen for.\n * @param handler - Function to fire when receiving the event.\n * @param options - Options to pass to `Event.addEventListener`.\n *\n * @public\n */\nfunction useDomEvent(ref, eventName, handler, options) {\n  useEffect(function () {\n    var element = ref.current;\n    if (handler && element) {\n      return addDomEvent(element, eventName, handler, options);\n    }\n  }, [ref, eventName, handler, options]);\n}\nexport { addDomEvent, useDomEvent };","function isMouseEvent(event) {\n  // PointerEvent inherits from MouseEvent so we can't use a straight instanceof check.\n  if (typeof PointerEvent !== \"undefined\" && event instanceof PointerEvent) {\n    return !!(event.pointerType === \"mouse\");\n  }\n  return event instanceof MouseEvent;\n}\nfunction isTouchEvent(event) {\n  var hasTouches = !!event.touches;\n  return hasTouches;\n}\nexport { isMouseEvent, isTouchEvent };","import { isTouchEvent } from '../gestures/utils/event-type.js';\n\n/**\n * Filters out events not attached to the primary pointer (currently left mouse button)\n * @param eventHandler\n */\nfunction filterPrimaryPointer(eventHandler) {\n  return function (event) {\n    var isMouseEvent = event instanceof MouseEvent;\n    var isPrimaryPointer = !isMouseEvent || isMouseEvent && event.button === 0;\n    if (isPrimaryPointer) {\n      eventHandler(event);\n    }\n  };\n}\nvar defaultPagePoint = {\n  pageX: 0,\n  pageY: 0\n};\nfunction pointFromTouch(e, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n  var primaryTouch = e.touches[0] || e.changedTouches[0];\n  var point = primaryTouch || defaultPagePoint;\n  return {\n    x: point[pointType + \"X\"],\n    y: point[pointType + \"Y\"]\n  };\n}\nfunction pointFromMouse(point, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n  return {\n    x: point[pointType + \"X\"],\n    y: point[pointType + \"Y\"]\n  };\n}\nfunction extractEventInfo(event, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n  return {\n    point: isTouchEvent(event) ? pointFromTouch(event, pointType) : pointFromMouse(event, pointType)\n  };\n}\nfunction getViewportPointFromEvent(event) {\n  return extractEventInfo(event, \"client\");\n}\nvar wrapHandler = function wrapHandler(handler, shouldFilterPrimaryPointer) {\n  if (shouldFilterPrimaryPointer === void 0) {\n    shouldFilterPrimaryPointer = false;\n  }\n  var listener = function listener(event) {\n    return handler(event, extractEventInfo(event));\n  };\n  return shouldFilterPrimaryPointer ? filterPrimaryPointer(listener) : listener;\n};\nexport { extractEventInfo, getViewportPointFromEvent, wrapHandler };","import { isBrowser } from '../utils/is-browser.js';\n\n// We check for event support via functions in case they've been mocked by a testing suite.\nvar supportsPointerEvents = function supportsPointerEvents() {\n  return isBrowser && window.onpointerdown === null;\n};\nvar supportsTouchEvents = function supportsTouchEvents() {\n  return isBrowser && window.ontouchstart === null;\n};\nvar supportsMouseEvents = function supportsMouseEvents() {\n  return isBrowser && window.onmousedown === null;\n};\nexport { supportsMouseEvents, supportsPointerEvents, supportsTouchEvents };","import { useDomEvent, addDomEvent } from './use-dom-event.js';\nimport { wrapHandler } from './event-info.js';\nimport { supportsPointerEvents, supportsTouchEvents, supportsMouseEvents } from './utils.js';\nvar mouseEventNames = {\n  pointerdown: \"mousedown\",\n  pointermove: \"mousemove\",\n  pointerup: \"mouseup\",\n  pointercancel: \"mousecancel\",\n  pointerover: \"mouseover\",\n  pointerout: \"mouseout\",\n  pointerenter: \"mouseenter\",\n  pointerleave: \"mouseleave\"\n};\nvar touchEventNames = {\n  pointerdown: \"touchstart\",\n  pointermove: \"touchmove\",\n  pointerup: \"touchend\",\n  pointercancel: \"touchcancel\"\n};\nfunction getPointerEventName(name) {\n  if (supportsPointerEvents()) {\n    return name;\n  } else if (supportsTouchEvents()) {\n    return touchEventNames[name];\n  } else if (supportsMouseEvents()) {\n    return mouseEventNames[name];\n  }\n  return name;\n}\nfunction addPointerEvent(target, eventName, handler, options) {\n  return addDomEvent(target, getPointerEventName(eventName), wrapHandler(handler, eventName === \"pointerdown\"), options);\n}\nfunction usePointerEvent(ref, eventName, handler, options) {\n  return useDomEvent(ref, getPointerEventName(eventName), handler && wrapHandler(handler, eventName === \"pointerdown\"), options);\n}\nexport { addPointerEvent, usePointerEvent };","function createLock(name) {\n  var lock = null;\n  return function () {\n    var openLock = function openLock() {\n      lock = null;\n    };\n    if (lock === null) {\n      lock = name;\n      return openLock;\n    }\n    return false;\n  };\n}\nvar globalHorizontalLock = createLock(\"dragHorizontal\");\nvar globalVerticalLock = createLock(\"dragVertical\");\nfunction getGlobalLock(drag) {\n  var lock = false;\n  if (drag === \"y\") {\n    lock = globalVerticalLock();\n  } else if (drag === \"x\") {\n    lock = globalHorizontalLock();\n  } else {\n    var openHorizontal_1 = globalHorizontalLock();\n    var openVertical_1 = globalVerticalLock();\n    if (openHorizontal_1 && openVertical_1) {\n      lock = function lock() {\n        openHorizontal_1();\n        openVertical_1();\n      };\n    } else {\n      // Release the locks because we don't use them\n      if (openHorizontal_1) openHorizontal_1();\n      if (openVertical_1) openVertical_1();\n    }\n  }\n  return lock;\n}\nfunction isDragActive() {\n  // Check the gesture lock - if we get it, it means no drag gesture is active\n  // and we can safely fire the tap gesture.\n  var openGestureLock = getGlobalLock(true);\n  if (!openGestureLock) return true;\n  openGestureLock();\n  return false;\n}\nexport { createLock, getGlobalLock, isDragActive };","import { isMouseEvent } from './utils/event-type.js';\nimport { AnimationType } from '../render/utils/types.js';\nimport { usePointerEvent } from '../events/use-pointer-event.js';\nimport { isDragActive } from './drag/utils/lock.js';\nfunction createHoverEvent(visualElement, isActive, callback) {\n  return function (event, info) {\n    var _a;\n    if (!isMouseEvent(event) || isDragActive()) return;\n    callback === null || callback === void 0 ? void 0 : callback(event, info);\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Hover, isActive);\n  };\n}\nfunction useHoverGesture(_a) {\n  var onHoverStart = _a.onHoverStart,\n    onHoverEnd = _a.onHoverEnd,\n    whileHover = _a.whileHover,\n    visualElement = _a.visualElement;\n  usePointerEvent(visualElement, \"pointerenter\", onHoverStart || whileHover ? createHoverEvent(visualElement, true, onHoverStart) : undefined);\n  usePointerEvent(visualElement, \"pointerleave\", onHoverEnd || whileHover ? createHoverEvent(visualElement, false, onHoverEnd) : undefined);\n}\nexport { useHoverGesture };","/**\n * Recursively traverse up the tree to check whether the provided child node\n * is the parent or a descendant of it.\n *\n * @param parent - Element to find\n * @param child - Element to test against parent\n */\nvar isNodeOrChild = function isNodeOrChild(parent, child) {\n  if (!child) {\n    return false;\n  } else if (parent === child) {\n    return true;\n  } else {\n    return isNodeOrChild(parent, child.parentElement);\n  }\n};\nexport { isNodeOrChild };","var combineFunctions = function combineFunctions(a, b) {\n  return function (v) {\n    return b(a(v));\n  };\n};\nvar pipe = function pipe() {\n  var transformers = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    transformers[_i] = arguments[_i];\n  }\n  return transformers.reduce(combineFunctions);\n};\nexport { pipe };","var makeRenderlessComponent = function makeRenderlessComponent(hook) {\n  return function (props) {\n    hook(props);\n    return null;\n  };\n};\nexport { makeRenderlessComponent };","import { useFocusGesture } from '../../gestures/use-focus-gesture.js';\nimport { useHoverGesture } from '../../gestures/use-hover-gesture.js';\nimport { useTapGesture } from '../../gestures/use-tap-gesture.js';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.js';\nvar gestureAnimations = {\n  tap: makeRenderlessComponent(useTapGesture),\n  focus: makeRenderlessComponent(useFocusGesture),\n  hover: makeRenderlessComponent(useHoverGesture)\n};\nexport { gestureAnimations };","import { useRef } from 'react';\nimport { isNodeOrChild } from './utils/is-node-or-child.js';\nimport { usePointerEvent, addPointerEvent } from '../events/use-pointer-event.js';\nimport { useUnmountEffect } from '../utils/use-unmount-effect.js';\nimport { pipe } from 'popmotion';\nimport { AnimationType } from '../render/utils/types.js';\nimport { isDragActive } from './drag/utils/lock.js';\n\n/**\n * @param handlers -\n * @internal\n */\nfunction useTapGesture(_a) {\n  var onTap = _a.onTap,\n    onTapStart = _a.onTapStart,\n    onTapCancel = _a.onTapCancel,\n    whileTap = _a.whileTap,\n    visualElement = _a.visualElement;\n  var hasPressListeners = onTap || onTapStart || onTapCancel || whileTap;\n  var isPressing = useRef(false);\n  var cancelPointerEndListeners = useRef(null);\n  function removePointerEndListener() {\n    var _a;\n    (_a = cancelPointerEndListeners.current) === null || _a === void 0 ? void 0 : _a.call(cancelPointerEndListeners);\n    cancelPointerEndListeners.current = null;\n  }\n  function checkPointerEnd() {\n    var _a;\n    removePointerEndListener();\n    isPressing.current = false;\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, false);\n    return !isDragActive();\n  }\n  function onPointerUp(event, info) {\n    if (!checkPointerEnd()) return;\n    /**\n     * We only count this as a tap gesture if the event.target is the same\n     * as, or a child of, this component's element\n     */\n    !isNodeOrChild(visualElement.getInstance(), event.target) ? onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info) : onTap === null || onTap === void 0 ? void 0 : onTap(event, info);\n  }\n  function onPointerCancel(event, info) {\n    if (!checkPointerEnd()) return;\n    onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info);\n  }\n  function onPointerDown(event, info) {\n    var _a;\n    removePointerEndListener();\n    if (isPressing.current) return;\n    isPressing.current = true;\n    cancelPointerEndListeners.current = pipe(addPointerEvent(window, \"pointerup\", onPointerUp), addPointerEvent(window, \"pointercancel\", onPointerCancel));\n    onTapStart === null || onTapStart === void 0 ? void 0 : onTapStart(event, info);\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, true);\n  }\n  usePointerEvent(visualElement, \"pointerdown\", hasPressListeners ? onPointerDown : undefined);\n  useUnmountEffect(removePointerEndListener);\n}\nexport { useTapGesture };","import { AnimationType } from '../render/utils/types.js';\nimport { useDomEvent } from '../events/use-dom-event.js';\n\n/**\n *\n * @param props\n * @param ref\n * @internal\n */\nfunction useFocusGesture(_a) {\n  var whileFocus = _a.whileFocus,\n    visualElement = _a.visualElement;\n  var onFocus = function onFocus() {\n    var _a;\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Focus, true);\n  };\n  var onBlur = function onBlur() {\n    var _a;\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Focus, false);\n  };\n  useDomEvent(visualElement, \"focus\", whileFocus ? onFocus : undefined);\n  useDomEvent(visualElement, \"blur\", whileFocus ? onBlur : undefined);\n}\nexport { useFocusGesture };","function shallowCompare(next, prev) {\n  if (!Array.isArray(prev)) return false;\n  var prevLength = prev.length;\n  if (prevLength !== next.length) return false;\n  for (var i = 0; i < prevLength; i++) {\n    if (prev[i] !== next[i]) return false;\n  }\n  return true;\n}\nexport { shallowCompare };","var warning = function warning() {};\nvar invariant = function invariant() {};\nif (process.env.NODE_ENV !== 'production') {\n  warning = function warning(check, message) {\n    if (!check && typeof console !== 'undefined') {\n      console.warn(message);\n    }\n  };\n  invariant = function invariant(check, message) {\n    if (!check) {\n      throw new Error(message);\n    }\n  };\n}\nexport { invariant, warning };","var clamp = function clamp(min, max, v) {\n  return Math.min(Math.max(v, min), max);\n};\nexport { clamp };","import { warning } from 'hey-listen';\nimport { clamp } from '../../utils/clamp.js';\nvar safeMin = 0.001;\nvar minDuration = 0.01;\nvar maxDuration = 10.0;\nvar minDamping = 0.05;\nvar maxDamping = 1;\nfunction findSpring(_a) {\n  var _b = _a.duration,\n    duration = _b === void 0 ? 800 : _b,\n    _c = _a.bounce,\n    bounce = _c === void 0 ? 0.25 : _c,\n    _d = _a.velocity,\n    velocity = _d === void 0 ? 0 : _d,\n    _e = _a.mass,\n    mass = _e === void 0 ? 1 : _e;\n  var envelope;\n  var derivative;\n  warning(duration <= maxDuration * 1000, \"Spring duration must be 10 seconds or less\");\n  var dampingRatio = 1 - bounce;\n  dampingRatio = clamp(minDamping, maxDamping, dampingRatio);\n  duration = clamp(minDuration, maxDuration, duration / 1000);\n  if (dampingRatio < 1) {\n    envelope = function envelope(undampedFreq) {\n      var exponentialDecay = undampedFreq * dampingRatio;\n      var delta = exponentialDecay * duration;\n      var a = exponentialDecay - velocity;\n      var b = calcAngularFreq(undampedFreq, dampingRatio);\n      var c = Math.exp(-delta);\n      return safeMin - a / b * c;\n    };\n    derivative = function derivative(undampedFreq) {\n      var exponentialDecay = undampedFreq * dampingRatio;\n      var delta = exponentialDecay * duration;\n      var d = delta * velocity + velocity;\n      var e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;\n      var f = Math.exp(-delta);\n      var g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);\n      var factor = -envelope(undampedFreq) + safeMin > 0 ? -1 : 1;\n      return factor * ((d - e) * f) / g;\n    };\n  } else {\n    envelope = function envelope(undampedFreq) {\n      var a = Math.exp(-undampedFreq * duration);\n      var b = (undampedFreq - velocity) * duration + 1;\n      return -safeMin + a * b;\n    };\n    derivative = function derivative(undampedFreq) {\n      var a = Math.exp(-undampedFreq * duration);\n      var b = (velocity - undampedFreq) * (duration * duration);\n      return a * b;\n    };\n  }\n  var initialGuess = 5 / duration;\n  var undampedFreq = approximateRoot(envelope, derivative, initialGuess);\n  duration = duration * 1000;\n  if (isNaN(undampedFreq)) {\n    return {\n      stiffness: 100,\n      damping: 10,\n      duration: duration\n    };\n  } else {\n    var stiffness = Math.pow(undampedFreq, 2) * mass;\n    return {\n      stiffness: stiffness,\n      damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),\n      duration: duration\n    };\n  }\n}\nvar rootIterations = 12;\nfunction approximateRoot(envelope, derivative, initialGuess) {\n  var result = initialGuess;\n  for (var i = 1; i < rootIterations; i++) {\n    result = result - envelope(result) / derivative(result);\n  }\n  return result;\n}\nfunction calcAngularFreq(undampedFreq, dampingRatio) {\n  return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\n}\nexport { calcAngularFreq, findSpring, maxDamping, maxDuration, minDamping, minDuration };","import { __rest, __assign } from 'tslib';\nimport { findSpring, calcAngularFreq } from '../utils/find-spring.js';\nvar durationKeys = [\"duration\", \"bounce\"];\nvar physicsKeys = [\"stiffness\", \"damping\", \"mass\"];\nfunction isSpringType(options, keys) {\n  return keys.some(function (key) {\n    return options[key] !== undefined;\n  });\n}\nfunction getSpringOptions(options) {\n  var springOptions = __assign({\n    velocity: 0.0,\n    stiffness: 100,\n    damping: 10,\n    mass: 1.0,\n    isResolvedFromDuration: false\n  }, options);\n  if (!isSpringType(options, physicsKeys) && isSpringType(options, durationKeys)) {\n    var derived = findSpring(options);\n    springOptions = __assign(__assign(__assign({}, springOptions), derived), {\n      velocity: 0.0,\n      mass: 1.0\n    });\n    springOptions.isResolvedFromDuration = true;\n  }\n  return springOptions;\n}\nfunction spring(_a) {\n  var _b = _a.from,\n    from = _b === void 0 ? 0.0 : _b,\n    _c = _a.to,\n    to = _c === void 0 ? 1.0 : _c,\n    _d = _a.restSpeed,\n    restSpeed = _d === void 0 ? 2 : _d,\n    restDelta = _a.restDelta,\n    options = __rest(_a, [\"from\", \"to\", \"restSpeed\", \"restDelta\"]);\n  var state = {\n    done: false,\n    value: from\n  };\n  var _e = getSpringOptions(options),\n    stiffness = _e.stiffness,\n    damping = _e.damping,\n    mass = _e.mass,\n    velocity = _e.velocity,\n    duration = _e.duration,\n    isResolvedFromDuration = _e.isResolvedFromDuration;\n  var resolveSpring = zero;\n  var resolveVelocity = zero;\n  function createSpring() {\n    var initialVelocity = velocity ? -(velocity / 1000) : 0.0;\n    var initialDelta = to - from;\n    var dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n    var undampedAngularFreq = Math.sqrt(stiffness / mass) / 1000;\n    restDelta !== null && restDelta !== void 0 ? restDelta : restDelta = Math.abs(to - from) <= 1 ? 0.01 : 0.4;\n    if (dampingRatio < 1) {\n      var angularFreq_1 = calcAngularFreq(undampedAngularFreq, dampingRatio);\n      resolveSpring = function resolveSpring(t) {\n        var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n        return to - envelope * ((initialVelocity + dampingRatio * undampedAngularFreq * initialDelta) / angularFreq_1 * Math.sin(angularFreq_1 * t) + initialDelta * Math.cos(angularFreq_1 * t));\n      };\n      resolveVelocity = function resolveVelocity(t) {\n        var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n        return dampingRatio * undampedAngularFreq * envelope * (Math.sin(angularFreq_1 * t) * (initialVelocity + dampingRatio * undampedAngularFreq * initialDelta) / angularFreq_1 + initialDelta * Math.cos(angularFreq_1 * t)) - envelope * (Math.cos(angularFreq_1 * t) * (initialVelocity + dampingRatio * undampedAngularFreq * initialDelta) - angularFreq_1 * initialDelta * Math.sin(angularFreq_1 * t));\n      };\n    } else if (dampingRatio === 1) {\n      resolveSpring = function resolveSpring(t) {\n        return to - Math.exp(-undampedAngularFreq * t) * (initialDelta + (initialVelocity + undampedAngularFreq * initialDelta) * t);\n      };\n    } else {\n      var dampedAngularFreq_1 = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);\n      resolveSpring = function resolveSpring(t) {\n        var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n        var freqForT = Math.min(dampedAngularFreq_1 * t, 300);\n        return to - envelope * ((initialVelocity + dampingRatio * undampedAngularFreq * initialDelta) * Math.sinh(freqForT) + dampedAngularFreq_1 * initialDelta * Math.cosh(freqForT)) / dampedAngularFreq_1;\n      };\n    }\n  }\n  createSpring();\n  return {\n    next: function next(t) {\n      var current = resolveSpring(t);\n      if (!isResolvedFromDuration) {\n        var currentVelocity = resolveVelocity(t) * 1000;\n        var isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n        var isBelowDisplacementThreshold = Math.abs(to - current) <= restDelta;\n        state.done = isBelowVelocityThreshold && isBelowDisplacementThreshold;\n      } else {\n        state.done = t >= duration;\n      }\n      state.value = state.done ? to : current;\n      return state;\n    },\n    flipTarget: function flipTarget() {\n      var _a;\n      velocity = -velocity;\n      _a = [to, from], from = _a[0], to = _a[1];\n      createSpring();\n    }\n  };\n}\nspring.needsInterpolation = function (a, b) {\n  return typeof a === \"string\" || typeof b === \"string\";\n};\nvar zero = function zero(_t) {\n  return 0;\n};\nexport { spring };","var progress = function progress(from, to, value) {\n  var toFromDifference = to - from;\n  return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\nexport { progress };","var mix = function mix(from, to, progress) {\n  return -progress * from + progress * to + from;\n};\nexport { mix };","import { isString, singleColorRegex, floatRegex } from '../utils.js';\nvar isColorString = function isColorString(type, testProp) {\n  return function (v) {\n    return Boolean(isString(v) && singleColorRegex.test(v) && v.startsWith(type) || testProp && Object.prototype.hasOwnProperty.call(v, testProp));\n  };\n};\nvar splitColor = function splitColor(aName, bName, cName) {\n  return function (v) {\n    var _a;\n    if (!isString(v)) return v;\n    var _b = v.match(floatRegex),\n      a = _b[0],\n      b = _b[1],\n      c = _b[2],\n      alpha = _b[3];\n    return _a = {}, _a[aName] = parseFloat(a), _a[bName] = parseFloat(b), _a[cName] = parseFloat(c), _a.alpha = alpha !== undefined ? parseFloat(alpha) : 1, _a;\n  };\n};\nexport { isColorString, splitColor };","import { __assign } from 'tslib';\nimport { number, alpha } from '../numbers/index.js';\nimport { sanitize, clamp } from '../utils.js';\nimport { isColorString, splitColor } from './utils.js';\nvar clampRgbUnit = clamp(0, 255);\nvar rgbUnit = __assign(__assign({}, number), {\n  transform: function transform(v) {\n    return Math.round(clampRgbUnit(v));\n  }\n});\nvar rgba = {\n  test: isColorString('rgb', 'red'),\n  parse: splitColor('red', 'green', 'blue'),\n  transform: function transform(_a) {\n    var red = _a.red,\n      green = _a.green,\n      blue = _a.blue,\n      _b = _a.alpha,\n      alpha$1 = _b === void 0 ? 1 : _b;\n    return 'rgba(' + rgbUnit.transform(red) + ', ' + rgbUnit.transform(green) + ', ' + rgbUnit.transform(blue) + ', ' + sanitize(alpha.transform(alpha$1)) + ')';\n  }\n};\nexport { rgbUnit, rgba };","import { rgba } from './rgba.js';\nimport { isColorString } from './utils.js';\nfunction parseHex(v) {\n  var r = '';\n  var g = '';\n  var b = '';\n  var a = '';\n  if (v.length > 5) {\n    r = v.substr(1, 2);\n    g = v.substr(3, 2);\n    b = v.substr(5, 2);\n    a = v.substr(7, 2);\n  } else {\n    r = v.substr(1, 1);\n    g = v.substr(2, 1);\n    b = v.substr(3, 1);\n    a = v.substr(4, 1);\n    r += r;\n    g += g;\n    b += b;\n    a += a;\n  }\n  return {\n    red: parseInt(r, 16),\n    green: parseInt(g, 16),\n    blue: parseInt(b, 16),\n    alpha: a ? parseInt(a, 16) / 255 : 1\n  };\n}\nvar hex = {\n  test: isColorString('#'),\n  parse: parseHex,\n  transform: rgba.transform\n};\nexport { hex };","import { alpha } from '../numbers/index.js';\nimport { percent } from '../numbers/units.js';\nimport { sanitize } from '../utils.js';\nimport { isColorString, splitColor } from './utils.js';\nvar hsla = {\n  test: isColorString('hsl', 'hue'),\n  parse: splitColor('hue', 'saturation', 'lightness'),\n  transform: function transform(_a) {\n    var hue = _a.hue,\n      saturation = _a.saturation,\n      lightness = _a.lightness,\n      _b = _a.alpha,\n      alpha$1 = _b === void 0 ? 1 : _b;\n    return 'hsla(' + Math.round(hue) + ', ' + percent.transform(sanitize(saturation)) + ', ' + percent.transform(sanitize(lightness)) + ', ' + sanitize(alpha.transform(alpha$1)) + ')';\n  }\n};\nexport { hsla };","import { __assign } from 'tslib';\nimport { mix } from './mix.js';\nimport { hex, rgba, hsla } from 'style-value-types';\nimport { invariant } from 'hey-listen';\nvar mixLinearColor = function mixLinearColor(from, to, v) {\n  var fromExpo = from * from;\n  var toExpo = to * to;\n  return Math.sqrt(Math.max(0, v * (toExpo - fromExpo) + fromExpo));\n};\nvar colorTypes = [hex, rgba, hsla];\nvar getColorType = function getColorType(v) {\n  return colorTypes.find(function (type) {\n    return type.test(v);\n  });\n};\nvar notAnimatable = function notAnimatable(color) {\n  return \"'\" + color + \"' is not an animatable color. Use the equivalent color code instead.\";\n};\nvar mixColor = function mixColor(from, to) {\n  var fromColorType = getColorType(from);\n  var toColorType = getColorType(to);\n  invariant(!!fromColorType, notAnimatable(from));\n  invariant(!!toColorType, notAnimatable(to));\n  invariant(fromColorType.transform === toColorType.transform, \"Both colors must be hex/RGBA, OR both must be HSLA.\");\n  var fromColor = fromColorType.parse(from);\n  var toColor = toColorType.parse(to);\n  var blended = __assign({}, fromColor);\n  var mixFunc = fromColorType === hsla ? mix : mixLinearColor;\n  return function (v) {\n    for (var key in blended) {\n      if (key !== \"alpha\") {\n        blended[key] = mixFunc(fromColor[key], toColor[key], v);\n      }\n    }\n    blended.alpha = mix(fromColor.alpha, toColor.alpha, v);\n    return fromColorType.transform(blended);\n  };\n};\nexport { mixColor, mixLinearColor };","import { isString } from '../utils.js';\nimport { hex } from './hex.js';\nimport { hsla } from './hsla.js';\nimport { rgba } from './rgba.js';\nvar color = {\n  test: function test(v) {\n    return rgba.test(v) || hex.test(v) || hsla.test(v);\n  },\n  parse: function parse(v) {\n    if (rgba.test(v)) {\n      return rgba.parse(v);\n    } else if (hsla.test(v)) {\n      return hsla.parse(v);\n    } else {\n      return hex.parse(v);\n    }\n  },\n  transform: function transform(v) {\n    return isString(v) ? v : v.hasOwnProperty('red') ? rgba.transform(v) : hsla.transform(v);\n  }\n};\nexport { color };","import { color } from '../color/index.js';\nimport { number } from '../numbers/index.js';\nimport { isString, floatRegex, colorRegex, sanitize } from '../utils.js';\nvar colorToken = '${c}';\nvar numberToken = '${n}';\nfunction test(v) {\n  var _a, _b, _c, _d;\n  return isNaN(v) && isString(v) && ((_b = (_a = v.match(floatRegex)) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) + ((_d = (_c = v.match(colorRegex)) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0) > 0;\n}\nfunction analyse(v) {\n  var values = [];\n  var numColors = 0;\n  var colors = v.match(colorRegex);\n  if (colors) {\n    numColors = colors.length;\n    v = v.replace(colorRegex, colorToken);\n    values.push.apply(values, colors.map(color.parse));\n  }\n  var numbers = v.match(floatRegex);\n  if (numbers) {\n    v = v.replace(floatRegex, numberToken);\n    values.push.apply(values, numbers.map(number.parse));\n  }\n  return {\n    values: values,\n    numColors: numColors,\n    tokenised: v\n  };\n}\nfunction parse(v) {\n  return analyse(v).values;\n}\nfunction createTransformer(v) {\n  var _a = analyse(v),\n    values = _a.values,\n    numColors = _a.numColors,\n    tokenised = _a.tokenised;\n  var numValues = values.length;\n  return function (v) {\n    var output = tokenised;\n    for (var i = 0; i < numValues; i++) {\n      output = output.replace(i < numColors ? colorToken : numberToken, i < numColors ? color.transform(v[i]) : sanitize(v[i]));\n    }\n    return output;\n  };\n}\nvar convertNumbersToZero = function convertNumbersToZero(v) {\n  return typeof v === 'number' ? 0 : v;\n};\nfunction getAnimatableNone(v) {\n  var parsed = parse(v);\n  var transformer = createTransformer(v);\n  return transformer(parsed.map(convertNumbersToZero));\n}\nvar complex = {\n  test: test,\n  parse: parse,\n  createTransformer: createTransformer,\n  getAnimatableNone: getAnimatableNone\n};\nexport { complex };","var zeroPoint = {\n  x: 0,\n  y: 0,\n  z: 0\n};\nvar isNum = function isNum(v) {\n  return typeof v === 'number';\n};\nexport { isNum, zeroPoint };","import { __spreadArray, __assign } from 'tslib';\nimport { complex, color } from 'style-value-types';\nimport { mix } from './mix.js';\nimport { mixColor } from './mix-color.js';\nimport { isNum } from './inc.js';\nimport { pipe } from './pipe.js';\nimport { invariant } from 'hey-listen';\nfunction getMixer(origin, target) {\n  if (isNum(origin)) {\n    return function (v) {\n      return mix(origin, target, v);\n    };\n  } else if (color.test(origin)) {\n    return mixColor(origin, target);\n  } else {\n    return mixComplex(origin, target);\n  }\n}\nvar mixArray = function mixArray(from, to) {\n  var output = __spreadArray([], from);\n  var numValues = output.length;\n  var blendValue = from.map(function (fromThis, i) {\n    return getMixer(fromThis, to[i]);\n  });\n  return function (v) {\n    for (var i = 0; i < numValues; i++) {\n      output[i] = blendValue[i](v);\n    }\n    return output;\n  };\n};\nvar mixObject = function mixObject(origin, target) {\n  var output = __assign(__assign({}, origin), target);\n  var blendValue = {};\n  for (var key in output) {\n    if (origin[key] !== undefined && target[key] !== undefined) {\n      blendValue[key] = getMixer(origin[key], target[key]);\n    }\n  }\n  return function (v) {\n    for (var key in blendValue) {\n      output[key] = blendValue[key](v);\n    }\n    return output;\n  };\n};\nfunction analyse(value) {\n  var parsed = complex.parse(value);\n  var numValues = parsed.length;\n  var numNumbers = 0;\n  var numRGB = 0;\n  var numHSL = 0;\n  for (var i = 0; i < numValues; i++) {\n    if (numNumbers || typeof parsed[i] === \"number\") {\n      numNumbers++;\n    } else {\n      if (parsed[i].hue !== undefined) {\n        numHSL++;\n      } else {\n        numRGB++;\n      }\n    }\n  }\n  return {\n    parsed: parsed,\n    numNumbers: numNumbers,\n    numRGB: numRGB,\n    numHSL: numHSL\n  };\n}\nvar mixComplex = function mixComplex(origin, target) {\n  var template = complex.createTransformer(target);\n  var originStats = analyse(origin);\n  var targetStats = analyse(target);\n  invariant(originStats.numHSL === targetStats.numHSL && originStats.numRGB === targetStats.numRGB && originStats.numNumbers >= targetStats.numNumbers, \"Complex values '\" + origin + \"' and '\" + target + \"' too different to mix. Ensure all colors are of the same type.\");\n  return pipe(mixArray(originStats.parsed, targetStats.parsed), template);\n};\nexport { mixArray, mixComplex, mixObject };","import { progress } from './progress.js';\nimport { mix } from './mix.js';\nimport { mixColor } from './mix-color.js';\nimport { mixComplex, mixArray, mixObject } from './mix-complex.js';\nimport { color } from 'style-value-types';\nimport { clamp } from './clamp.js';\nimport { pipe } from './pipe.js';\nimport { invariant } from 'hey-listen';\nvar mixNumber = function mixNumber(from, to) {\n  return function (p) {\n    return mix(from, to, p);\n  };\n};\nfunction detectMixerFactory(v) {\n  if (typeof v === 'number') {\n    return mixNumber;\n  } else if (typeof v === 'string') {\n    if (color.test(v)) {\n      return mixColor;\n    } else {\n      return mixComplex;\n    }\n  } else if (Array.isArray(v)) {\n    return mixArray;\n  } else if (typeof v === 'object') {\n    return mixObject;\n  }\n}\nfunction createMixers(output, ease, customMixer) {\n  var mixers = [];\n  var mixerFactory = customMixer || detectMixerFactory(output[0]);\n  var numMixers = output.length - 1;\n  for (var i = 0; i < numMixers; i++) {\n    var mixer = mixerFactory(output[i], output[i + 1]);\n    if (ease) {\n      var easingFunction = Array.isArray(ease) ? ease[i] : ease;\n      mixer = pipe(easingFunction, mixer);\n    }\n    mixers.push(mixer);\n  }\n  return mixers;\n}\nfunction fastInterpolate(_a, _b) {\n  var from = _a[0],\n    to = _a[1];\n  var mixer = _b[0];\n  return function (v) {\n    return mixer(progress(from, to, v));\n  };\n}\nfunction slowInterpolate(input, mixers) {\n  var inputLength = input.length;\n  var lastInputIndex = inputLength - 1;\n  return function (v) {\n    var mixerIndex = 0;\n    var foundMixerIndex = false;\n    if (v <= input[0]) {\n      foundMixerIndex = true;\n    } else if (v >= input[lastInputIndex]) {\n      mixerIndex = lastInputIndex - 1;\n      foundMixerIndex = true;\n    }\n    if (!foundMixerIndex) {\n      var i = 1;\n      for (; i < inputLength; i++) {\n        if (input[i] > v || i === lastInputIndex) {\n          break;\n        }\n      }\n      mixerIndex = i - 1;\n    }\n    var progressInRange = progress(input[mixerIndex], input[mixerIndex + 1], v);\n    return mixers[mixerIndex](progressInRange);\n  };\n}\nfunction interpolate(input, output, _a) {\n  var _b = _a === void 0 ? {} : _a,\n    _c = _b.clamp,\n    isClamp = _c === void 0 ? true : _c,\n    ease = _b.ease,\n    mixer = _b.mixer;\n  var inputLength = input.length;\n  invariant(inputLength === output.length, 'Both input and output ranges must be the same length');\n  invariant(!ease || !Array.isArray(ease) || ease.length === inputLength - 1, 'Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values.');\n  if (input[0] > input[inputLength - 1]) {\n    input = [].concat(input);\n    output = [].concat(output);\n    input.reverse();\n    output.reverse();\n  }\n  var mixers = createMixers(output, ease, mixer);\n  var interpolator = inputLength === 2 ? fastInterpolate(input, mixers) : slowInterpolate(input, mixers);\n  return isClamp ? function (v) {\n    return interpolator(clamp(input[0], input[inputLength - 1], v));\n  } : interpolator;\n}\nexport { interpolate };","var reverseEasing = function reverseEasing(easing) {\n  return function (p) {\n    return 1 - easing(1 - p);\n  };\n};\nvar mirrorEasing = function mirrorEasing(easing) {\n  return function (p) {\n    return p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n  };\n};\nvar createExpoIn = function createExpoIn(power) {\n  return function (p) {\n    return Math.pow(p, power);\n  };\n};\nvar createBackIn = function createBackIn(power) {\n  return function (p) {\n    return p * p * ((power + 1) * p - power);\n  };\n};\nvar createAnticipate = function createAnticipate(power) {\n  var backEasing = createBackIn(power);\n  return function (p) {\n    return (p *= 2) < 1 ? 0.5 * backEasing(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n  };\n};\nexport { createAnticipate, createBackIn, createExpoIn, mirrorEasing, reverseEasing };","import { createExpoIn, reverseEasing, mirrorEasing, createBackIn, createAnticipate } from './utils.js';\nvar DEFAULT_OVERSHOOT_STRENGTH = 1.525;\nvar BOUNCE_FIRST_THRESHOLD = 4.0 / 11.0;\nvar BOUNCE_SECOND_THRESHOLD = 8.0 / 11.0;\nvar BOUNCE_THIRD_THRESHOLD = 9.0 / 10.0;\nvar linear = function linear(p) {\n  return p;\n};\nvar easeIn = createExpoIn(2);\nvar easeOut = reverseEasing(easeIn);\nvar easeInOut = mirrorEasing(easeIn);\nvar circIn = function circIn(p) {\n  return 1 - Math.sin(Math.acos(p));\n};\nvar circOut = reverseEasing(circIn);\nvar circInOut = mirrorEasing(circOut);\nvar backIn = createBackIn(DEFAULT_OVERSHOOT_STRENGTH);\nvar backOut = reverseEasing(backIn);\nvar backInOut = mirrorEasing(backIn);\nvar anticipate = createAnticipate(DEFAULT_OVERSHOOT_STRENGTH);\nvar ca = 4356.0 / 361.0;\nvar cb = 35442.0 / 1805.0;\nvar cc = 16061.0 / 1805.0;\nvar bounceOut = function bounceOut(p) {\n  if (p === 1 || p === 0) return p;\n  var p2 = p * p;\n  return p < BOUNCE_FIRST_THRESHOLD ? 7.5625 * p2 : p < BOUNCE_SECOND_THRESHOLD ? 9.075 * p2 - 9.9 * p + 3.4 : p < BOUNCE_THIRD_THRESHOLD ? ca * p2 - cb * p + cc : 10.8 * p * p - 20.52 * p + 10.72;\n};\nvar bounceIn = reverseEasing(bounceOut);\nvar bounceInOut = function bounceInOut(p) {\n  return p < 0.5 ? 0.5 * (1.0 - bounceOut(1.0 - p * 2.0)) : 0.5 * bounceOut(p * 2.0 - 1.0) + 0.5;\n};\nexport { anticipate, backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, easeIn, easeInOut, easeOut, linear };","import { interpolate } from '../../utils/interpolate.js';\nimport { easeInOut } from '../../easing/index.js';\nfunction defaultEasing(values, easing) {\n  return values.map(function () {\n    return easing || easeInOut;\n  }).splice(0, values.length - 1);\n}\nfunction defaultOffset(values) {\n  var numValues = values.length;\n  return values.map(function (_value, i) {\n    return i !== 0 ? i / (numValues - 1) : 0;\n  });\n}\nfunction convertOffsetToTimes(offset, duration) {\n  return offset.map(function (o) {\n    return o * duration;\n  });\n}\nfunction keyframes(_a) {\n  var _b = _a.from,\n    from = _b === void 0 ? 0 : _b,\n    _c = _a.to,\n    to = _c === void 0 ? 1 : _c,\n    ease = _a.ease,\n    offset = _a.offset,\n    _d = _a.duration,\n    duration = _d === void 0 ? 300 : _d;\n  var state = {\n    done: false,\n    value: from\n  };\n  var values = Array.isArray(to) ? to : [from, to];\n  var times = convertOffsetToTimes(offset && offset.length === values.length ? offset : defaultOffset(values), duration);\n  function createInterpolator() {\n    return interpolate(times, values, {\n      ease: Array.isArray(ease) ? ease : defaultEasing(values, ease)\n    });\n  }\n  var interpolator = createInterpolator();\n  return {\n    next: function next(t) {\n      state.value = interpolator(t);\n      state.done = t >= duration;\n      return state;\n    },\n    flipTarget: function flipTarget() {\n      values.reverse();\n      interpolator = createInterpolator();\n    }\n  };\n}\nexport { convertOffsetToTimes, defaultEasing, defaultOffset, keyframes };","import { spring } from '../generators/spring.js';\nimport { keyframes } from '../generators/keyframes.js';\nimport { decay } from '../generators/decay.js';\nvar types = {\n  keyframes: keyframes,\n  spring: spring,\n  decay: decay\n};\nfunction detectAnimationFromOptions(config) {\n  if (Array.isArray(config.to)) {\n    return keyframes;\n  } else if (types[config.type]) {\n    return types[config.type];\n  }\n  var keys = new Set(Object.keys(config));\n  if (keys.has(\"ease\") || keys.has(\"duration\") && !keys.has(\"dampingRatio\")) {\n    return keyframes;\n  } else if (keys.has(\"dampingRatio\") || keys.has(\"stiffness\") || keys.has(\"mass\") || keys.has(\"damping\") || keys.has(\"restSpeed\") || keys.has(\"restDelta\")) {\n    return spring;\n  }\n  return keyframes;\n}\nexport { detectAnimationFromOptions };","function decay(_a) {\n  var _b = _a.velocity,\n    velocity = _b === void 0 ? 0 : _b,\n    _c = _a.from,\n    from = _c === void 0 ? 0 : _c,\n    _d = _a.power,\n    power = _d === void 0 ? 0.8 : _d,\n    _e = _a.timeConstant,\n    timeConstant = _e === void 0 ? 350 : _e,\n    _f = _a.restDelta,\n    restDelta = _f === void 0 ? 0.5 : _f,\n    modifyTarget = _a.modifyTarget;\n  var state = {\n    done: false,\n    value: from\n  };\n  var amplitude = power * velocity;\n  var ideal = from + amplitude;\n  var target = modifyTarget === undefined ? ideal : modifyTarget(ideal);\n  if (target !== ideal) amplitude = target - from;\n  return {\n    next: function next(t) {\n      var delta = -amplitude * Math.exp(-t / timeConstant);\n      state.done = !(delta > restDelta || delta < -restDelta);\n      state.value = state.done ? target : target + delta;\n      return state;\n    },\n    flipTarget: function flipTarget() {}\n  };\n}\nexport { decay };","function loopElapsed(elapsed, duration, delay) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n  return elapsed - duration - delay;\n}\nfunction reverseElapsed(elapsed, duration, delay, isForwardPlayback) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n  if (isForwardPlayback === void 0) {\n    isForwardPlayback = true;\n  }\n  return isForwardPlayback ? loopElapsed(duration + -elapsed, duration, delay) : duration - (elapsed - duration) + delay;\n}\nfunction hasRepeatDelayElapsed(elapsed, duration, delay, isForwardPlayback) {\n  return isForwardPlayback ? elapsed >= duration + delay : elapsed <= -delay;\n}\nexport { hasRepeatDelayElapsed, loopElapsed, reverseElapsed };","import { __rest, __assign } from 'tslib';\nimport { detectAnimationFromOptions } from './utils/detect-animation-from-options.js';\nimport sync, { cancelSync } from 'framesync';\nimport { interpolate } from '../utils/interpolate.js';\nimport { hasRepeatDelayElapsed, reverseElapsed, loopElapsed } from './utils/elapsed.js';\nvar framesync = function framesync(update) {\n  var passTimestamp = function passTimestamp(_a) {\n    var delta = _a.delta;\n    return update(delta);\n  };\n  return {\n    start: function start() {\n      return sync.update(passTimestamp, true);\n    },\n    stop: function stop() {\n      return cancelSync.update(passTimestamp);\n    }\n  };\n};\nfunction animate(_a) {\n  var _b, _c;\n  var from = _a.from,\n    _d = _a.autoplay,\n    autoplay = _d === void 0 ? true : _d,\n    _e = _a.driver,\n    driver = _e === void 0 ? framesync : _e,\n    _f = _a.elapsed,\n    elapsed = _f === void 0 ? 0 : _f,\n    _g = _a.repeat,\n    repeatMax = _g === void 0 ? 0 : _g,\n    _h = _a.repeatType,\n    repeatType = _h === void 0 ? \"loop\" : _h,\n    _j = _a.repeatDelay,\n    repeatDelay = _j === void 0 ? 0 : _j,\n    onPlay = _a.onPlay,\n    onStop = _a.onStop,\n    onComplete = _a.onComplete,\n    onRepeat = _a.onRepeat,\n    onUpdate = _a.onUpdate,\n    options = __rest(_a, [\"from\", \"autoplay\", \"driver\", \"elapsed\", \"repeat\", \"repeatType\", \"repeatDelay\", \"onPlay\", \"onStop\", \"onComplete\", \"onRepeat\", \"onUpdate\"]);\n  var to = options.to;\n  var driverControls;\n  var repeatCount = 0;\n  var computedDuration = options.duration;\n  var latest;\n  var isComplete = false;\n  var isForwardPlayback = true;\n  var interpolateFromNumber;\n  var animator = detectAnimationFromOptions(options);\n  if ((_c = (_b = animator).needsInterpolation) === null || _c === void 0 ? void 0 : _c.call(_b, from, to)) {\n    interpolateFromNumber = interpolate([0, 100], [from, to], {\n      clamp: false\n    });\n    from = 0;\n    to = 100;\n  }\n  var animation = animator(__assign(__assign({}, options), {\n    from: from,\n    to: to\n  }));\n  function repeat() {\n    repeatCount++;\n    if (repeatType === \"reverse\") {\n      isForwardPlayback = repeatCount % 2 === 0;\n      elapsed = reverseElapsed(elapsed, computedDuration, repeatDelay, isForwardPlayback);\n    } else {\n      elapsed = loopElapsed(elapsed, computedDuration, repeatDelay);\n      if (repeatType === \"mirror\") animation.flipTarget();\n    }\n    isComplete = false;\n    onRepeat && onRepeat();\n  }\n  function complete() {\n    driverControls.stop();\n    onComplete && onComplete();\n  }\n  function update(delta) {\n    if (!isForwardPlayback) delta = -delta;\n    elapsed += delta;\n    if (!isComplete) {\n      var state = animation.next(Math.max(0, elapsed));\n      latest = state.value;\n      if (interpolateFromNumber) latest = interpolateFromNumber(latest);\n      isComplete = isForwardPlayback ? state.done : elapsed <= 0;\n    }\n    onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(latest);\n    if (isComplete) {\n      if (repeatCount === 0) computedDuration !== null && computedDuration !== void 0 ? computedDuration : computedDuration = elapsed;\n      if (repeatCount < repeatMax) {\n        hasRepeatDelayElapsed(elapsed, computedDuration, repeatDelay, isForwardPlayback) && repeat();\n      } else {\n        complete();\n      }\n    }\n  }\n  function play() {\n    onPlay === null || onPlay === void 0 ? void 0 : onPlay();\n    driverControls = driver(update);\n    driverControls.start();\n  }\n  autoplay && play();\n  return {\n    stop: function stop() {\n      onStop === null || onStop === void 0 ? void 0 : onStop();\n      driverControls.stop();\n    }\n  };\n}\nexport { animate };","function velocityPerSecond(velocity, frameDuration) {\n  return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\nexport { velocityPerSecond };","/**\n * Converts seconds to milliseconds\n *\n * @param seconds - Time in seconds.\n * @return milliseconds - Converted time in milliseconds.\n */\nvar secondsToMilliseconds = function secondsToMilliseconds(seconds) {\n  return seconds * 1000;\n};\nexport { secondsToMilliseconds };","import { linear } from './index.js';\nvar a = function a(a1, a2) {\n  return 1.0 - 3.0 * a2 + 3.0 * a1;\n};\nvar b = function b(a1, a2) {\n  return 3.0 * a2 - 6.0 * a1;\n};\nvar c = function c(a1) {\n  return 3.0 * a1;\n};\nvar calcBezier = function calcBezier(t, a1, a2) {\n  return ((a(a1, a2) * t + b(a1, a2)) * t + c(a1)) * t;\n};\nvar getSlope = function getSlope(t, a1, a2) {\n  return 3.0 * a(a1, a2) * t * t + 2.0 * b(a1, a2) * t + c(a1);\n};\nvar subdivisionPrecision = 0.0000001;\nvar subdivisionMaxIterations = 10;\nfunction binarySubdivide(aX, aA, aB, mX1, mX2) {\n  var currentX;\n  var currentT;\n  var i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > subdivisionPrecision && ++i < subdivisionMaxIterations);\n  return currentT;\n}\nvar newtonIterations = 8;\nvar newtonMinSlope = 0.001;\nfunction newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n  for (var i = 0; i < newtonIterations; ++i) {\n    var currentSlope = getSlope(aGuessT, mX1, mX2);\n    if (currentSlope === 0.0) {\n      return aGuessT;\n    }\n    var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n    aGuessT -= currentX / currentSlope;\n  }\n  return aGuessT;\n}\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n  if (mX1 === mY1 && mX2 === mY2) return linear;\n  var sampleValues = new Float32Array(kSplineTableSize);\n  for (var i = 0; i < kSplineTableSize; ++i) {\n    sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n  }\n  function getTForX(aX) {\n    var intervalStart = 0.0;\n    var currentSample = 1;\n    var lastSample = kSplineTableSize - 1;\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n    --currentSample;\n    var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    var guessForT = intervalStart + dist * kSampleStepSize;\n    var initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= newtonMinSlope) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    }\n  }\n  return function (t) {\n    return t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n  };\n}\nexport { cubicBezier };","import { __read } from 'tslib';\nimport { invariant } from 'hey-listen';\nimport { cubicBezier, linear, easeIn, easeInOut, easeOut, circIn, circInOut, circOut, backIn, backInOut, backOut, anticipate, bounceIn, bounceInOut, bounceOut } from 'popmotion';\nvar easingLookup = {\n  linear: linear,\n  easeIn: easeIn,\n  easeInOut: easeInOut,\n  easeOut: easeOut,\n  circIn: circIn,\n  circInOut: circInOut,\n  circOut: circOut,\n  backIn: backIn,\n  backInOut: backInOut,\n  backOut: backOut,\n  anticipate: anticipate,\n  bounceIn: bounceIn,\n  bounceInOut: bounceInOut,\n  bounceOut: bounceOut\n};\nvar easingDefinitionToFunction = function easingDefinitionToFunction(definition) {\n  if (Array.isArray(definition)) {\n    // If cubic bezier definition, create bezier curve\n    invariant(definition.length === 4, \"Cubic bezier arrays must contain four numerical values.\");\n    var _a = __read(definition, 4),\n      x1 = _a[0],\n      y1 = _a[1],\n      x2 = _a[2],\n      y2 = _a[3];\n    return cubicBezier(x1, y1, x2, y2);\n  } else if (typeof definition === \"string\") {\n    // Else lookup from table\n    invariant(easingLookup[definition] !== undefined, \"Invalid easing type '\" + definition + \"'\");\n    return easingLookup[definition];\n  }\n  return definition;\n};\nvar isEasingArray = function isEasingArray(ease) {\n  return Array.isArray(ease) && typeof ease[0] !== \"number\";\n};\nexport { easingDefinitionToFunction, isEasingArray };","import { complex } from 'style-value-types';\n\n/**\n * Check if a value is animatable. Examples:\n *\n * ✅: 100, \"100px\", \"#fff\"\n * ❌: \"block\", \"url(2.jpg)\"\n * @param value\n *\n * @internal\n */\nvar isAnimatable = function isAnimatable(key, value) {\n  // If the list of keys tat might be non-animatable grows, replace with Set\n  if (key === \"zIndex\") return false;\n  // If it's a number or a keyframes array, we can animate it. We might at some point\n  // need to do a deep isAnimatable check of keyframes, or let Popmotion handle this,\n  // but for now lets leave it like this for performance reasons\n  if (typeof value === \"number\" || Array.isArray(value)) return true;\n  if (typeof value === \"string\" &&\n  // It's animatable if we have a string\n  complex.test(value) &&\n  // And it contains numbers and/or colors\n  !value.startsWith(\"url(\") // Unless it starts with \"url(\"\n  ) {\n    return true;\n  }\n  return false;\n};\nexport { isAnimatable };","import { __assign } from 'tslib';\nimport { isKeyframesTarget } from './is-keyframes-target.js';\nvar underDampedSpring = function underDampedSpring() {\n  return {\n    type: \"spring\",\n    stiffness: 500,\n    damping: 25,\n    restDelta: 0.5,\n    restSpeed: 10\n  };\n};\nvar criticallyDampedSpring = function criticallyDampedSpring(to) {\n  return {\n    type: \"spring\",\n    stiffness: 550,\n    damping: to === 0 ? 2 * Math.sqrt(550) : 30,\n    restDelta: 0.01,\n    restSpeed: 10\n  };\n};\nvar linearTween = function linearTween() {\n  return {\n    type: \"keyframes\",\n    ease: \"linear\",\n    duration: 0.3\n  };\n};\nvar keyframes = function keyframes(values) {\n  return {\n    type: \"keyframes\",\n    duration: 0.8,\n    values: values\n  };\n};\nvar defaultTransitions = {\n  x: underDampedSpring,\n  y: underDampedSpring,\n  z: underDampedSpring,\n  rotate: underDampedSpring,\n  rotateX: underDampedSpring,\n  rotateY: underDampedSpring,\n  rotateZ: underDampedSpring,\n  scaleX: criticallyDampedSpring,\n  scaleY: criticallyDampedSpring,\n  scale: criticallyDampedSpring,\n  opacity: linearTween,\n  backgroundColor: linearTween,\n  color: linearTween,\n  default: criticallyDampedSpring\n};\nvar getDefaultTransition = function getDefaultTransition(valueKey, to) {\n  var transitionFactory;\n  if (isKeyframesTarget(to)) {\n    transitionFactory = keyframes;\n  } else {\n    transitionFactory = defaultTransitions[valueKey] || defaultTransitions.default;\n  }\n  return __assign({\n    to: to\n  }, transitionFactory(to));\n};\nexport { criticallyDampedSpring, getDefaultTransition, linearTween, underDampedSpring };","import { __assign } from 'tslib';\nimport { complex } from './index.js';\nimport { floatRegex } from '../utils.js';\nvar maxDefaults = new Set(['brightness', 'contrast', 'saturate', 'opacity']);\nfunction applyDefaultFilter(v) {\n  var _a = v.slice(0, -1).split('('),\n    name = _a[0],\n    value = _a[1];\n  if (name === 'drop-shadow') return v;\n  var number = (value.match(floatRegex) || [])[0];\n  if (!number) return v;\n  var unit = value.replace(number, '');\n  var defaultValue = maxDefaults.has(name) ? 1 : 0;\n  if (number !== value) defaultValue *= 100;\n  return name + '(' + defaultValue + unit + ')';\n}\nvar functionRegex = /([a-z-]*)\\(.*?\\)/g;\nvar filter = __assign(__assign({}, complex), {\n  getAnimatableNone: function getAnimatableNone(v) {\n    var functions = v.match(functionRegex);\n    return functions ? functions.map(applyDefaultFilter).join(' ') : v;\n  }\n});\nexport { filter };","import { __assign } from 'tslib';\nimport { color, filter } from 'style-value-types';\nimport { numberValueTypes } from './number.js';\n\n/**\n * A map of default value types for common values\n */\nvar defaultValueTypes = __assign(__assign({}, numberValueTypes), {\n  // Color props\n  color: color,\n  backgroundColor: color,\n  outlineColor: color,\n  fill: color,\n  stroke: color,\n  // Border props\n  borderColor: color,\n  borderTopColor: color,\n  borderRightColor: color,\n  borderBottomColor: color,\n  borderLeftColor: color,\n  filter: filter,\n  WebkitFilter: filter\n});\n/**\n * Gets the default ValueType for the provided value key\n */\nvar getDefaultValueType = function getDefaultValueType(key) {\n  return defaultValueTypes[key];\n};\nexport { defaultValueTypes, getDefaultValueType };","import { filter, complex } from 'style-value-types';\nimport { getDefaultValueType } from './defaults.js';\nfunction getAnimatableNone(key, value) {\n  var _a;\n  var defaultValueType = getDefaultValueType(key);\n  if (defaultValueType !== filter) defaultValueType = complex;\n  // If value is not recognised as animatable, ie \"none\", create an animatable version origin based on the target\n  return (_a = defaultValueType.getAnimatableNone) === null || _a === void 0 ? void 0 : _a.call(defaultValueType, value);\n}\nexport { getAnimatableNone };","import { __assign, __rest, __spreadArray, __read } from 'tslib';\nimport { inertia, animate } from 'popmotion';\nimport { secondsToMilliseconds } from '../../utils/time-conversion.js';\nimport { isEasingArray, easingDefinitionToFunction } from './easing.js';\nimport { isAnimatable } from './is-animatable.js';\nimport { getDefaultTransition } from './default-transitions.js';\nimport { warning } from 'hey-listen';\nimport { getAnimatableNone } from '../../render/dom/value-types/animatable-none.js';\n\n/**\n * Decide whether a transition is defined on a given Transition.\n * This filters out orchestration options and returns true\n * if any options are left.\n */\nfunction isTransitionDefined(_a) {\n  _a.when;\n  _a.delay;\n  _a.delayChildren;\n  _a.staggerChildren;\n  _a.staggerDirection;\n  _a.repeat;\n  _a.repeatType;\n  _a.repeatDelay;\n  _a.from;\n  var transition = __rest(_a, [\"when\", \"delay\", \"delayChildren\", \"staggerChildren\", \"staggerDirection\", \"repeat\", \"repeatType\", \"repeatDelay\", \"from\"]);\n  return !!Object.keys(transition).length;\n}\nvar legacyRepeatWarning = false;\n/**\n * Convert Framer Motion's Transition type into Popmotion-compatible options.\n */\nfunction convertTransitionToAnimationOptions(_a) {\n  var ease = _a.ease,\n    times = _a.times,\n    yoyo = _a.yoyo,\n    flip = _a.flip,\n    loop = _a.loop,\n    transition = __rest(_a, [\"ease\", \"times\", \"yoyo\", \"flip\", \"loop\"]);\n  var options = __assign({}, transition);\n  if (times) options[\"offset\"] = times;\n  /**\n   * Convert any existing durations from seconds to milliseconds\n   */\n  if (transition.duration) options[\"duration\"] = secondsToMilliseconds(transition.duration);\n  if (transition.repeatDelay) options.repeatDelay = secondsToMilliseconds(transition.repeatDelay);\n  /**\n   * Map easing names to Popmotion's easing functions\n   */\n  if (ease) {\n    options[\"ease\"] = isEasingArray(ease) ? ease.map(easingDefinitionToFunction) : easingDefinitionToFunction(ease);\n  }\n  /**\n   * Support legacy transition API\n   */\n  if (transition.type === \"tween\") options.type = \"keyframes\";\n  /**\n   * TODO: These options are officially removed from the API.\n   */\n  if (yoyo || loop || flip) {\n    warning(!legacyRepeatWarning, \"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options.\");\n    legacyRepeatWarning = true;\n    if (yoyo) {\n      options.repeatType = \"reverse\";\n    } else if (loop) {\n      options.repeatType = \"loop\";\n    } else if (flip) {\n      options.repeatType = \"mirror\";\n    }\n    options.repeat = loop || yoyo || flip || transition.repeat;\n  }\n  /**\n   * TODO: Popmotion 9 has the ability to automatically detect whether to use\n   * a keyframes or spring animation, but does so by detecting velocity and other spring options.\n   * It'd be good to introduce a similar thing here.\n   */\n  if (transition.type !== \"spring\") options.type = \"keyframes\";\n  return options;\n}\n/**\n * Get the delay for a value by checking Transition with decreasing specificity.\n */\nfunction getDelayFromTransition(transition, key) {\n  var _a;\n  var valueTransition = getValueTransition(transition, key) || {};\n  return (_a = valueTransition.delay) !== null && _a !== void 0 ? _a : 0;\n}\nfunction hydrateKeyframes(options) {\n  if (Array.isArray(options.to) && options.to[0] === null) {\n    options.to = __spreadArray([], __read(options.to));\n    options.to[0] = options.from;\n  }\n  return options;\n}\nfunction getPopmotionAnimationOptions(transition, options, key) {\n  var _a;\n  if (Array.isArray(options.to)) {\n    (_a = transition.duration) !== null && _a !== void 0 ? _a : transition.duration = 0.8;\n  }\n  hydrateKeyframes(options);\n  /**\n   * Get a default transition if none is determined to be defined.\n   */\n  if (!isTransitionDefined(transition)) {\n    transition = __assign(__assign({}, transition), getDefaultTransition(key, options.to));\n  }\n  return __assign(__assign({}, options), convertTransitionToAnimationOptions(transition));\n}\n/**\n *\n */\nfunction getAnimation(key, value, target, transition, onComplete) {\n  var _a;\n  var valueTransition = getValueTransition(transition, key);\n  var origin = (_a = valueTransition.from) !== null && _a !== void 0 ? _a : value.get();\n  var isTargetAnimatable = isAnimatable(key, target);\n  if (origin === \"none\" && isTargetAnimatable && typeof target === \"string\") {\n    /**\n     * If we're trying to animate from \"none\", try and get an animatable version\n     * of the target. This could be improved to work both ways.\n     */\n    origin = getAnimatableNone(key, target);\n  } else if (isZero(origin) && typeof target === \"string\") {\n    origin = getZeroUnit(target);\n  } else if (!Array.isArray(target) && isZero(target) && typeof origin === \"string\") {\n    target = getZeroUnit(origin);\n  }\n  var isOriginAnimatable = isAnimatable(key, origin);\n  warning(isOriginAnimatable === isTargetAnimatable, \"You are trying to animate \" + key + \" from \\\"\" + origin + \"\\\" to \\\"\" + target + \"\\\". \" + origin + \" is not an animatable value - to enable this animation set \" + origin + \" to a value animatable to \" + target + \" via the `style` property.\");\n  function start() {\n    var options = {\n      from: origin,\n      to: target,\n      velocity: value.getVelocity(),\n      onComplete: onComplete,\n      onUpdate: function onUpdate(v) {\n        return value.set(v);\n      }\n    };\n    return valueTransition.type === \"inertia\" || valueTransition.type === \"decay\" ? inertia(__assign(__assign({}, options), valueTransition)) : animate(__assign(__assign({}, getPopmotionAnimationOptions(valueTransition, options, key)), {\n      onUpdate: function onUpdate(v) {\n        var _a;\n        options.onUpdate(v);\n        (_a = valueTransition.onUpdate) === null || _a === void 0 ? void 0 : _a.call(valueTransition, v);\n      },\n      onComplete: function onComplete() {\n        var _a;\n        options.onComplete();\n        (_a = valueTransition.onComplete) === null || _a === void 0 ? void 0 : _a.call(valueTransition);\n      }\n    }));\n  }\n  function set() {\n    var _a;\n    value.set(target);\n    onComplete();\n    (_a = valueTransition === null || valueTransition === void 0 ? void 0 : valueTransition.onComplete) === null || _a === void 0 ? void 0 : _a.call(valueTransition);\n    return {\n      stop: function stop() {}\n    };\n  }\n  return !isOriginAnimatable || !isTargetAnimatable || valueTransition.type === false ? set : start;\n}\nfunction isZero(value) {\n  return value === 0 || typeof value === \"string\" && parseFloat(value) === 0 && value.indexOf(\" \") === -1;\n}\nfunction getZeroUnit(potentialUnitType) {\n  return typeof potentialUnitType === \"number\" ? 0 : getAnimatableNone(\"\", potentialUnitType);\n}\nfunction getValueTransition(transition, key) {\n  return transition[key] || transition[\"default\"] || transition;\n}\n/**\n * Start animation on a MotionValue. This function is an interface between\n * Framer Motion and Popmotion\n *\n * @internal\n */\nfunction startAnimation(key, value, target, transition) {\n  if (transition === void 0) {\n    transition = {};\n  }\n  return value.start(function (onComplete) {\n    var delayTimer;\n    var controls;\n    var animation = getAnimation(key, value, target, transition, onComplete);\n    var delay = getDelayFromTransition(transition, key);\n    var start = function start() {\n      return controls = animation();\n    };\n    if (delay) {\n      delayTimer = setTimeout(start, secondsToMilliseconds(delay));\n    } else {\n      start();\n    }\n    return function () {\n      clearTimeout(delayTimer);\n      controls === null || controls === void 0 ? void 0 : controls.stop();\n    };\n  });\n}\nexport { convertTransitionToAnimationOptions, getDelayFromTransition, getPopmotionAnimationOptions, getValueTransition, getZeroUnit, hydrateKeyframes, isTransitionDefined, isZero, startAnimation };","import { __assign } from 'tslib';\nimport { animate } from './index.js';\nimport { velocityPerSecond } from '../utils/velocity-per-second.js';\nimport { getFrameData } from 'framesync';\nfunction inertia(_a) {\n  var _b = _a.from,\n    from = _b === void 0 ? 0 : _b,\n    _c = _a.velocity,\n    velocity = _c === void 0 ? 0 : _c,\n    min = _a.min,\n    max = _a.max,\n    _d = _a.power,\n    power = _d === void 0 ? 0.8 : _d,\n    _e = _a.timeConstant,\n    timeConstant = _e === void 0 ? 750 : _e,\n    _f = _a.bounceStiffness,\n    bounceStiffness = _f === void 0 ? 500 : _f,\n    _g = _a.bounceDamping,\n    bounceDamping = _g === void 0 ? 10 : _g,\n    _h = _a.restDelta,\n    restDelta = _h === void 0 ? 1 : _h,\n    modifyTarget = _a.modifyTarget,\n    driver = _a.driver,\n    _onUpdate = _a.onUpdate,\n    onComplete = _a.onComplete;\n  var currentAnimation;\n  function isOutOfBounds(v) {\n    return min !== undefined && v < min || max !== undefined && v > max;\n  }\n  function boundaryNearest(v) {\n    if (min === undefined) return max;\n    if (max === undefined) return min;\n    return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n  }\n  function startAnimation(options) {\n    currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop();\n    currentAnimation = animate(__assign(__assign({}, options), {\n      driver: driver,\n      onUpdate: function onUpdate(v) {\n        var _a;\n        _onUpdate === null || _onUpdate === void 0 ? void 0 : _onUpdate(v);\n        (_a = options.onUpdate) === null || _a === void 0 ? void 0 : _a.call(options, v);\n      },\n      onComplete: onComplete\n    }));\n  }\n  function startSpring(options) {\n    startAnimation(__assign({\n      type: \"spring\",\n      stiffness: bounceStiffness,\n      damping: bounceDamping,\n      restDelta: restDelta\n    }, options));\n  }\n  if (isOutOfBounds(from)) {\n    startSpring({\n      from: from,\n      velocity: velocity,\n      to: boundaryNearest(from)\n    });\n  } else {\n    var target = power * velocity + from;\n    if (typeof modifyTarget !== \"undefined\") target = modifyTarget(target);\n    var boundary_1 = boundaryNearest(target);\n    var heading_1 = boundary_1 === min ? -1 : 1;\n    var prev_1;\n    var current_1;\n    var checkBoundary = function checkBoundary(v) {\n      prev_1 = current_1;\n      current_1 = v;\n      velocity = velocityPerSecond(v - prev_1, getFrameData().delta);\n      if (heading_1 === 1 && v > boundary_1 || heading_1 === -1 && v < boundary_1) {\n        startSpring({\n          from: v,\n          to: boundary_1,\n          velocity: velocity\n        });\n      }\n    };\n    startAnimation({\n      type: \"decay\",\n      from: from,\n      velocity: velocity,\n      timeConstant: timeConstant,\n      power: power,\n      restDelta: restDelta,\n      modifyTarget: modifyTarget,\n      onUpdate: isOutOfBounds(target) ? checkBoundary : undefined\n    });\n  }\n  return {\n    stop: function stop() {\n      return currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop();\n    }\n  };\n}\nexport { inertia };","function addUniqueItem(arr, item) {\n  arr.indexOf(item) === -1 && arr.push(item);\n}\nfunction removeItem(arr, item) {\n  var index = arr.indexOf(item);\n  index > -1 && arr.splice(index, 1);\n}\nexport { addUniqueItem, removeItem };","import { addUniqueItem, removeItem } from './array.js';\nvar SubscriptionManager = /** @class */function () {\n  function SubscriptionManager() {\n    this.subscriptions = [];\n  }\n  SubscriptionManager.prototype.add = function (handler) {\n    var _this = this;\n    addUniqueItem(this.subscriptions, handler);\n    return function () {\n      return removeItem(_this.subscriptions, handler);\n    };\n  };\n  SubscriptionManager.prototype.notify = function (a, b, c) {\n    var numSubscriptions = this.subscriptions.length;\n    if (!numSubscriptions) return;\n    if (numSubscriptions === 1) {\n      /**\n       * If there's only a single handler we can just call it without invoking a loop.\n       */\n      this.subscriptions[0](a, b, c);\n    } else {\n      for (var i = 0; i < numSubscriptions; i++) {\n        /**\n         * Check whether the handler exists before firing as it's possible\n         * the subscriptions were modified during this loop running.\n         */\n        var handler = this.subscriptions[i];\n        handler && handler(a, b, c);\n      }\n    }\n  };\n  SubscriptionManager.prototype.getSize = function () {\n    return this.subscriptions.length;\n  };\n  SubscriptionManager.prototype.clear = function () {\n    this.subscriptions.length = 0;\n  };\n  return SubscriptionManager;\n}();\nexport { SubscriptionManager };","import sync, { getFrameData } from 'framesync';\nimport { velocityPerSecond } from 'popmotion';\nimport { SubscriptionManager } from '../utils/subscription-manager.js';\nvar isFloat = function isFloat(value) {\n  return !isNaN(parseFloat(value));\n};\n/**\n * `MotionValue` is used to track the state and velocity of motion values.\n *\n * @public\n */\nvar MotionValue = /** @class */function () {\n  /**\n   * @param init - The initiating value\n   * @param config - Optional configuration options\n   *\n   * -  `transformer`: A function to transform incoming values with.\n   *\n   * @internal\n   */\n  function MotionValue(init) {\n    var _this = this;\n    /**\n     * Duration, in milliseconds, since last updating frame.\n     *\n     * @internal\n     */\n    this.timeDelta = 0;\n    /**\n     * Timestamp of the last time this `MotionValue` was updated.\n     *\n     * @internal\n     */\n    this.lastUpdated = 0;\n    /**\n     * Functions to notify when the `MotionValue` updates.\n     *\n     * @internal\n     */\n    this.updateSubscribers = new SubscriptionManager();\n    /**\n     * Functions to notify when the velocity updates.\n     *\n     * @internal\n     */\n    this.velocityUpdateSubscribers = new SubscriptionManager();\n    /**\n     * Functions to notify when the `MotionValue` updates and `render` is set to `true`.\n     *\n     * @internal\n     */\n    this.renderSubscribers = new SubscriptionManager();\n    /**\n     * Tracks whether this value can output a velocity. Currently this is only true\n     * if the value is numerical, but we might be able to widen the scope here and support\n     * other value types.\n     *\n     * @internal\n     */\n    this.canTrackVelocity = false;\n    this.updateAndNotify = function (v, render) {\n      if (render === void 0) {\n        render = true;\n      }\n      _this.prev = _this.current;\n      _this.current = v;\n      // Update timestamp\n      var _a = getFrameData(),\n        delta = _a.delta,\n        timestamp = _a.timestamp;\n      if (_this.lastUpdated !== timestamp) {\n        _this.timeDelta = delta;\n        _this.lastUpdated = timestamp;\n        sync.postRender(_this.scheduleVelocityCheck);\n      }\n      // Update update subscribers\n      if (_this.prev !== _this.current) {\n        _this.updateSubscribers.notify(_this.current);\n      }\n      // Update velocity subscribers\n      if (_this.velocityUpdateSubscribers.getSize()) {\n        _this.velocityUpdateSubscribers.notify(_this.getVelocity());\n      }\n      // Update render subscribers\n      if (render) {\n        _this.renderSubscribers.notify(_this.current);\n      }\n    };\n    /**\n     * Schedule a velocity check for the next frame.\n     *\n     * This is an instanced and bound function to prevent generating a new\n     * function once per frame.\n     *\n     * @internal\n     */\n    this.scheduleVelocityCheck = function () {\n      return sync.postRender(_this.velocityCheck);\n    };\n    /**\n     * Updates `prev` with `current` if the value hasn't been updated this frame.\n     * This ensures velocity calculations return `0`.\n     *\n     * This is an instanced and bound function to prevent generating a new\n     * function once per frame.\n     *\n     * @internal\n     */\n    this.velocityCheck = function (_a) {\n      var timestamp = _a.timestamp;\n      if (timestamp !== _this.lastUpdated) {\n        _this.prev = _this.current;\n        _this.velocityUpdateSubscribers.notify(_this.getVelocity());\n      }\n    };\n    this.hasAnimated = false;\n    this.prev = this.current = init;\n    this.canTrackVelocity = isFloat(this.current);\n  }\n  /**\n   * Adds a function that will be notified when the `MotionValue` is updated.\n   *\n   * It returns a function that, when called, will cancel the subscription.\n   *\n   * When calling `onChange` inside a React component, it should be wrapped with the\n   * `useEffect` hook. As it returns an unsubscribe function, this should be returned\n   * from the `useEffect` function to ensure you don't add duplicate subscribers..\n   *\n   * @library\n   *\n   * ```jsx\n   * function MyComponent() {\n   *   const x = useMotionValue(0)\n   *   const y = useMotionValue(0)\n   *   const opacity = useMotionValue(1)\n   *\n   *   useEffect(() => {\n   *     function updateOpacity() {\n   *       const maxXY = Math.max(x.get(), y.get())\n   *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n   *       opacity.set(newOpacity)\n   *     }\n   *\n   *     const unsubscribeX = x.onChange(updateOpacity)\n   *     const unsubscribeY = y.onChange(updateOpacity)\n   *\n   *     return () => {\n   *       unsubscribeX()\n   *       unsubscribeY()\n   *     }\n   *   }, [])\n   *\n   *   return <Frame x={x} />\n   * }\n   * ```\n   *\n   * @motion\n   *\n   * ```jsx\n   * export const MyComponent = () => {\n   *   const x = useMotionValue(0)\n   *   const y = useMotionValue(0)\n   *   const opacity = useMotionValue(1)\n   *\n   *   useEffect(() => {\n   *     function updateOpacity() {\n   *       const maxXY = Math.max(x.get(), y.get())\n   *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n   *       opacity.set(newOpacity)\n   *     }\n   *\n   *     const unsubscribeX = x.onChange(updateOpacity)\n   *     const unsubscribeY = y.onChange(updateOpacity)\n   *\n   *     return () => {\n   *       unsubscribeX()\n   *       unsubscribeY()\n   *     }\n   *   }, [])\n   *\n   *   return <motion.div style={{ x }} />\n   * }\n   * ```\n   *\n   * @internalremarks\n   *\n   * We could look into a `useOnChange` hook if the above lifecycle management proves confusing.\n   *\n   * ```jsx\n   * useOnChange(x, () => {})\n   * ```\n   *\n   * @param subscriber - A function that receives the latest value.\n   * @returns A function that, when called, will cancel this subscription.\n   *\n   * @public\n   */\n  MotionValue.prototype.onChange = function (subscription) {\n    return this.updateSubscribers.add(subscription);\n  };\n  MotionValue.prototype.clearListeners = function () {\n    this.updateSubscribers.clear();\n  };\n  /**\n   * Adds a function that will be notified when the `MotionValue` requests a render.\n   *\n   * @param subscriber - A function that's provided the latest value.\n   * @returns A function that, when called, will cancel this subscription.\n   *\n   * @internal\n   */\n  MotionValue.prototype.onRenderRequest = function (subscription) {\n    // Render immediately\n    subscription(this.get());\n    return this.renderSubscribers.add(subscription);\n  };\n  /**\n   * Attaches a passive effect to the `MotionValue`.\n   *\n   * @internal\n   */\n  MotionValue.prototype.attach = function (passiveEffect) {\n    this.passiveEffect = passiveEffect;\n  };\n  /**\n   * Sets the state of the `MotionValue`.\n   *\n   * @remarks\n   *\n   * ```jsx\n   * const x = useMotionValue(0)\n   * x.set(10)\n   * ```\n   *\n   * @param latest - Latest value to set.\n   * @param render - Whether to notify render subscribers. Defaults to `true`\n   *\n   * @public\n   */\n  MotionValue.prototype.set = function (v, render) {\n    if (render === void 0) {\n      render = true;\n    }\n    if (!render || !this.passiveEffect) {\n      this.updateAndNotify(v, render);\n    } else {\n      this.passiveEffect(v, this.updateAndNotify);\n    }\n  };\n  /**\n   * Returns the latest state of `MotionValue`\n   *\n   * @returns - The latest state of `MotionValue`\n   *\n   * @public\n   */\n  MotionValue.prototype.get = function () {\n    return this.current;\n  };\n  /**\n   * @public\n   */\n  MotionValue.prototype.getPrevious = function () {\n    return this.prev;\n  };\n  /**\n   * Returns the latest velocity of `MotionValue`\n   *\n   * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\n   *\n   * @public\n   */\n  MotionValue.prototype.getVelocity = function () {\n    // This could be isFloat(this.prev) && isFloat(this.current), but that would be wasteful\n    return this.canTrackVelocity ?\n    // These casts could be avoided if parseFloat would be typed better\n    velocityPerSecond(parseFloat(this.current) - parseFloat(this.prev), this.timeDelta) : 0;\n  };\n  /**\n   * Registers a new animation to control this `MotionValue`. Only one\n   * animation can drive a `MotionValue` at one time.\n   *\n   * ```jsx\n   * value.start()\n   * ```\n   *\n   * @param animation - A function that starts the provided animation\n   *\n   * @internal\n   */\n  MotionValue.prototype.start = function (animation) {\n    var _this = this;\n    this.stop();\n    return new Promise(function (resolve) {\n      _this.hasAnimated = true;\n      _this.stopAnimation = animation(resolve);\n    }).then(function () {\n      return _this.clearAnimation();\n    });\n  };\n  /**\n   * Stop the currently active animation.\n   *\n   * @public\n   */\n  MotionValue.prototype.stop = function () {\n    if (this.stopAnimation) this.stopAnimation();\n    this.clearAnimation();\n  };\n  /**\n   * Returns `true` if this value is currently animating.\n   *\n   * @public\n   */\n  MotionValue.prototype.isAnimating = function () {\n    return !!this.stopAnimation;\n  };\n  MotionValue.prototype.clearAnimation = function () {\n    this.stopAnimation = null;\n  };\n  /**\n   * Destroy and clean up subscribers to this `MotionValue`.\n   *\n   * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically\n   * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually\n   * created a `MotionValue` via the `motionValue` function.\n   *\n   * @public\n   */\n  MotionValue.prototype.destroy = function () {\n    this.updateSubscribers.clear();\n    this.renderSubscribers.clear();\n    this.stop();\n  };\n  return MotionValue;\n}();\n/**\n * @internal\n */\nfunction motionValue(init) {\n  return new MotionValue(init);\n}\nexport { MotionValue, motionValue };","/**\n * Tests a provided value against a ValueType\n */\nvar testValueType = function testValueType(v) {\n  return function (type) {\n    return type.test(v);\n  };\n};\nexport { testValueType };","import { number, px, percent, degrees, vw, vh } from 'style-value-types';\nimport { testValueType } from './test.js';\nimport { auto } from './type-auto.js';\n\n/**\n * A list of value types commonly used for dimensions\n */\nvar dimensionValueTypes = [number, px, percent, degrees, vw, vh, auto];\n/**\n * Tests a dimensional value against the list of dimension ValueTypes\n */\nvar findDimensionValueType = function findDimensionValueType(v) {\n  return dimensionValueTypes.find(testValueType(v));\n};\nexport { dimensionValueTypes, findDimensionValueType };","/**\n * ValueType for \"auto\"\n */\nvar auto = {\n  test: function test(v) {\n    return v === \"auto\";\n  },\n  parse: function parse(v) {\n    return v;\n  }\n};\nexport { auto };","import { __spreadArray, __read } from 'tslib';\nimport { color, complex } from 'style-value-types';\nimport { dimensionValueTypes } from './dimensions.js';\nimport { testValueType } from './test.js';\n\n/**\n * A list of all ValueTypes\n */\nvar valueTypes = __spreadArray(__spreadArray([], __read(dimensionValueTypes)), [color, complex]);\n/**\n * Tests a value against the list of ValueTypes\n */\nvar findValueType = function findValueType(v) {\n  return valueTypes.find(testValueType(v));\n};\nexport { findValueType };","import { __rest, __assign, __spreadArray, __read } from 'tslib';\nimport { complex } from 'style-value-types';\nimport { isNumericalString } from '../../utils/is-numerical-string.js';\nimport { resolveFinalValueInKeyframes } from '../../utils/resolve-value.js';\nimport { motionValue } from '../../value/index.js';\nimport { getAnimatableNone } from '../dom/value-types/animatable-none.js';\nimport { findValueType } from '../dom/value-types/find.js';\nimport { resolveVariant } from './variants.js';\n\n/**\n * Set VisualElement's MotionValue, creating a new MotionValue for it if\n * it doesn't exist.\n */\nfunction setMotionValue(visualElement, key, value) {\n  if (visualElement.hasValue(key)) {\n    visualElement.getValue(key).set(value);\n  } else {\n    visualElement.addValue(key, motionValue(value));\n  }\n}\nfunction setTarget(visualElement, definition) {\n  var resolved = resolveVariant(visualElement, definition);\n  var _a = resolved ? visualElement.makeTargetAnimatable(resolved, false) : {},\n    _b = _a.transitionEnd,\n    transitionEnd = _b === void 0 ? {} : _b;\n  _a.transition;\n  var target = __rest(_a, [\"transitionEnd\", \"transition\"]);\n  target = __assign(__assign({}, target), transitionEnd);\n  for (var key in target) {\n    var value = resolveFinalValueInKeyframes(target[key]);\n    setMotionValue(visualElement, key, value);\n  }\n}\nfunction setVariants(visualElement, variantLabels) {\n  var reversedLabels = __spreadArray([], __read(variantLabels)).reverse();\n  reversedLabels.forEach(function (key) {\n    var _a;\n    var variant = visualElement.getVariant(key);\n    variant && setTarget(visualElement, variant);\n    (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n      setVariants(child, variantLabels);\n    });\n  });\n}\nfunction setValues(visualElement, definition) {\n  if (Array.isArray(definition)) {\n    return setVariants(visualElement, definition);\n  } else if (typeof definition === \"string\") {\n    return setVariants(visualElement, [definition]);\n  } else {\n    setTarget(visualElement, definition);\n  }\n}\nfunction checkTargetForNewValues(visualElement, target, origin) {\n  var _a, _b, _c;\n  var _d;\n  var newValueKeys = Object.keys(target).filter(function (key) {\n    return !visualElement.hasValue(key);\n  });\n  var numNewValues = newValueKeys.length;\n  if (!numNewValues) return;\n  for (var i = 0; i < numNewValues; i++) {\n    var key = newValueKeys[i];\n    var targetValue = target[key];\n    var value = null;\n    /**\n     * If the target is a series of keyframes, we can use the first value\n     * in the array. If this first value is null, we'll still need to read from the DOM.\n     */\n    if (Array.isArray(targetValue)) {\n      value = targetValue[0];\n    }\n    /**\n     * If the target isn't keyframes, or the first keyframe was null, we need to\n     * first check if an origin value was explicitly defined in the transition as \"from\",\n     * if not read the value from the DOM. As an absolute fallback, take the defined target value.\n     */\n    if (value === null) {\n      value = (_b = (_a = origin[key]) !== null && _a !== void 0 ? _a : visualElement.readValue(key)) !== null && _b !== void 0 ? _b : target[key];\n    }\n    /**\n     * If value is still undefined or null, ignore it. Preferably this would throw,\n     * but this was causing issues in Framer.\n     */\n    if (value === undefined || value === null) continue;\n    if (typeof value === \"string\" && isNumericalString(value)) {\n      // If this is a number read as a string, ie \"0\" or \"200\", convert it to a number\n      value = parseFloat(value);\n    } else if (!findValueType(value) && complex.test(targetValue)) {\n      value = getAnimatableNone(key, targetValue);\n    }\n    visualElement.addValue(key, motionValue(value));\n    (_c = (_d = origin)[key]) !== null && _c !== void 0 ? _c : _d[key] = value;\n    visualElement.setBaseTarget(key, value);\n  }\n}\nfunction getOriginFromTransition(key, transition) {\n  if (!transition) return;\n  var valueTransition = transition[key] || transition[\"default\"] || transition;\n  return valueTransition.from;\n}\nfunction getOrigin(target, transition, visualElement) {\n  var _a, _b;\n  var origin = {};\n  for (var key in target) {\n    origin[key] = (_a = getOriginFromTransition(key, transition)) !== null && _a !== void 0 ? _a : (_b = visualElement.getValue(key)) === null || _b === void 0 ? void 0 : _b.get();\n  }\n  return origin;\n}\nexport { checkTargetForNewValues, getOrigin, getOriginFromTransition, setTarget, setValues };","import { __read, __rest, __assign } from 'tslib';\nimport { startAnimation } from '../../animation/utils/transitions.js';\nimport { setTarget } from './setters.js';\nimport { resolveVariant } from './variants.js';\n\n/**\n * @internal\n */\nfunction animateVisualElement(visualElement, definition, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  visualElement.notifyAnimationStart();\n  var animation;\n  if (Array.isArray(definition)) {\n    var animations = definition.map(function (variant) {\n      return animateVariant(visualElement, variant, options);\n    });\n    animation = Promise.all(animations);\n  } else if (typeof definition === \"string\") {\n    animation = animateVariant(visualElement, definition, options);\n  } else {\n    var resolvedDefinition = typeof definition === \"function\" ? resolveVariant(visualElement, definition, options.custom) : definition;\n    animation = animateTarget(visualElement, resolvedDefinition, options);\n  }\n  return animation.then(function () {\n    return visualElement.notifyAnimationComplete(definition);\n  });\n}\nfunction animateVariant(visualElement, variant, options) {\n  var _a;\n  if (options === void 0) {\n    options = {};\n  }\n  var resolved = resolveVariant(visualElement, variant, options.custom);\n  var _b = (resolved || {}).transition,\n    transition = _b === void 0 ? visualElement.getDefaultTransition() || {} : _b;\n  if (options.transitionOverride) {\n    transition = options.transitionOverride;\n  }\n  /**\n   * If we have a variant, create a callback that runs it as an animation.\n   * Otherwise, we resolve a Promise immediately for a composable no-op.\n   */\n  var getAnimation = resolved ? function () {\n    return animateTarget(visualElement, resolved, options);\n  } : function () {\n    return Promise.resolve();\n  };\n  /**\n   * If we have children, create a callback that runs all their animations.\n   * Otherwise, we resolve a Promise immediately for a composable no-op.\n   */\n  var getChildAnimations = ((_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.size) ? function (forwardDelay) {\n    if (forwardDelay === void 0) {\n      forwardDelay = 0;\n    }\n    var _a = transition.delayChildren,\n      delayChildren = _a === void 0 ? 0 : _a,\n      staggerChildren = transition.staggerChildren,\n      staggerDirection = transition.staggerDirection;\n    return animateChildren(visualElement, variant, delayChildren + forwardDelay, staggerChildren, staggerDirection, options);\n  } : function () {\n    return Promise.resolve();\n  };\n  /**\n   * If the transition explicitly defines a \"when\" option, we need to resolve either\n   * this animation or all children animations before playing the other.\n   */\n  var when = transition.when;\n  if (when) {\n    var _c = __read(when === \"beforeChildren\" ? [getAnimation, getChildAnimations] : [getChildAnimations, getAnimation], 2),\n      first = _c[0],\n      last = _c[1];\n    return first().then(last);\n  } else {\n    return Promise.all([getAnimation(), getChildAnimations(options.delay)]);\n  }\n}\n/**\n * @internal\n */\nfunction animateTarget(visualElement, definition, _a) {\n  var _b;\n  var _c = _a === void 0 ? {} : _a,\n    _d = _c.delay,\n    delay = _d === void 0 ? 0 : _d,\n    transitionOverride = _c.transitionOverride,\n    type = _c.type;\n  var _e = visualElement.makeTargetAnimatable(definition),\n    _f = _e.transition,\n    transition = _f === void 0 ? visualElement.getDefaultTransition() : _f,\n    transitionEnd = _e.transitionEnd,\n    target = __rest(_e, [\"transition\", \"transitionEnd\"]);\n  if (transitionOverride) transition = transitionOverride;\n  var animations = [];\n  var animationTypeState = type && ((_b = visualElement.animationState) === null || _b === void 0 ? void 0 : _b.getState()[type]);\n  for (var key in target) {\n    var value = visualElement.getValue(key);\n    var valueTarget = target[key];\n    if (!value || valueTarget === undefined || animationTypeState && shouldBlockAnimation(animationTypeState, key)) {\n      continue;\n    }\n    var animation = startAnimation(key, value, valueTarget, __assign({\n      delay: delay\n    }, transition));\n    animations.push(animation);\n  }\n  return Promise.all(animations).then(function () {\n    transitionEnd && setTarget(visualElement, transitionEnd);\n  });\n}\nfunction animateChildren(visualElement, variant, delayChildren, staggerChildren, staggerDirection, options) {\n  if (delayChildren === void 0) {\n    delayChildren = 0;\n  }\n  if (staggerChildren === void 0) {\n    staggerChildren = 0;\n  }\n  if (staggerDirection === void 0) {\n    staggerDirection = 1;\n  }\n  var animations = [];\n  var maxStaggerDuration = (visualElement.variantChildren.size - 1) * staggerChildren;\n  var generateStaggerDuration = staggerDirection === 1 ? function (i) {\n    if (i === void 0) {\n      i = 0;\n    }\n    return i * staggerChildren;\n  } : function (i) {\n    if (i === void 0) {\n      i = 0;\n    }\n    return maxStaggerDuration - i * staggerChildren;\n  };\n  Array.from(visualElement.variantChildren).sort(sortByTreeOrder).forEach(function (child, i) {\n    animations.push(animateVariant(child, variant, __assign(__assign({}, options), {\n      delay: delayChildren + generateStaggerDuration(i)\n    })).then(function () {\n      return child.notifyAnimationComplete(variant);\n    }));\n  });\n  return Promise.all(animations);\n}\nfunction stopAnimation(visualElement) {\n  visualElement.forEachValue(function (value) {\n    return value.stop();\n  });\n}\nfunction sortByTreeOrder(a, b) {\n  return a.sortNodePosition(b);\n}\n/**\n * Decide whether we should block this animation. Previously, we achieved this\n * just by checking whether the key was listed in protectedKeys, but this\n * posed problems if an animation was triggered by afterChildren and protectedKeys\n * had been set to true in the meantime.\n */\nfunction shouldBlockAnimation(_a, key) {\n  var protectedKeys = _a.protectedKeys,\n    needsAnimating = _a.needsAnimating;\n  var shouldBlock = protectedKeys.hasOwnProperty(key) && needsAnimating[key] !== true;\n  needsAnimating[key] = false;\n  return shouldBlock;\n}\nexport { animateVisualElement, sortByTreeOrder, stopAnimation };","import { __spreadArray, __read, __assign, __rest } from 'tslib';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.js';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.js';\nimport { shallowCompare } from '../../utils/shallow-compare.js';\nimport { animateVisualElement } from './animation.js';\nimport { AnimationType } from './types.js';\nimport { isVariantLabels, resolveVariant, isVariantLabel } from './variants.js';\nvar variantPriorityOrder = [AnimationType.Animate, AnimationType.Hover, AnimationType.Tap, AnimationType.Drag, AnimationType.Focus, AnimationType.Exit];\nvar reversePriorityOrder = __spreadArray([], __read(variantPriorityOrder)).reverse();\nvar numAnimationTypes = variantPriorityOrder.length;\nfunction animateList(visualElement) {\n  return function (animations) {\n    return Promise.all(animations.map(function (_a) {\n      var animation = _a.animation,\n        options = _a.options;\n      return animateVisualElement(visualElement, animation, options);\n    }));\n  };\n}\nfunction createAnimationState(visualElement) {\n  var animate = animateList(visualElement);\n  var state = createState();\n  var allAnimatedKeys = {};\n  var isInitialRender = true;\n  /**\n   * This function will be used to reduce the animation definitions for\n   * each active animation type into an object of resolved values for it.\n   */\n  var buildResolvedTypeValues = function buildResolvedTypeValues(acc, definition) {\n    var resolved = resolveVariant(visualElement, definition);\n    if (resolved) {\n      resolved.transition;\n      var transitionEnd = resolved.transitionEnd,\n        target = __rest(resolved, [\"transition\", \"transitionEnd\"]);\n      acc = __assign(__assign(__assign({}, acc), target), transitionEnd);\n    }\n    return acc;\n  };\n  function isAnimated(key) {\n    return allAnimatedKeys[key] !== undefined;\n  }\n  /**\n   * This just allows us to inject mocked animation functions\n   * @internal\n   */\n  function setAnimateFunction(makeAnimator) {\n    animate = makeAnimator(visualElement);\n  }\n  /**\n   * When we receive new props, we need to:\n   * 1. Create a list of protected keys for each type. This is a directory of\n   *    value keys that are currently being \"handled\" by types of a higher priority\n   *    so that whenever an animation is played of a given type, these values are\n   *    protected from being animated.\n   * 2. Determine if an animation type needs animating.\n   * 3. Determine if any values have been removed from a type and figure out\n   *    what to animate those to.\n   */\n  function animateChanges(options, changedActiveType) {\n    var _a;\n    var props = visualElement.getProps();\n    var context = visualElement.getVariantContext(true) || {};\n    /**\n     * A list of animations that we'll build into as we iterate through the animation\n     * types. This will get executed at the end of the function.\n     */\n    var animations = [];\n    /**\n     * Keep track of which values have been removed. Then, as we hit lower priority\n     * animation types, we can check if they contain removed values and animate to that.\n     */\n    var removedKeys = new Set();\n    /**\n     * A dictionary of all encountered keys. This is an object to let us build into and\n     * copy it without iteration. Each time we hit an animation type we set its protected\n     * keys - the keys its not allowed to animate - to the latest version of this object.\n     */\n    var encounteredKeys = {};\n    /**\n     * If a variant has been removed at a given index, and this component is controlling\n     * variant animations, we want to ensure lower-priority variants are forced to animate.\n     */\n    var removedVariantIndex = Infinity;\n    var _loop_1 = function _loop_1(i) {\n      var type = reversePriorityOrder[i];\n      var typeState = state[type];\n      var prop = (_a = props[type]) !== null && _a !== void 0 ? _a : context[type];\n      var propIsVariant = isVariantLabel(prop);\n      /**\n       * If this type has *just* changed isActive status, set activeDelta\n       * to that status. Otherwise set to null.\n       */\n      var activeDelta = type === changedActiveType ? typeState.isActive : null;\n      if (activeDelta === false) removedVariantIndex = i;\n      /**\n       * If this prop is an inherited variant, rather than been set directly on the\n       * component itself, we want to make sure we allow the parent to trigger animations.\n       *\n       * TODO: Can probably change this to a !isControllingVariants check\n       */\n      var isInherited = prop === context[type] && prop !== props[type] && propIsVariant;\n      /**\n       *\n       */\n      if (isInherited && isInitialRender && visualElement.manuallyAnimateOnMount) {\n        isInherited = false;\n      }\n      /**\n       * Set all encountered keys so far as the protected keys for this type. This will\n       * be any key that has been animated or otherwise handled by active, higher-priortiy types.\n       */\n      typeState.protectedKeys = __assign({}, encounteredKeys);\n      // Check if we can skip analysing this prop early\n      if (\n      // If it isn't active and hasn't *just* been set as inactive\n      !typeState.isActive && activeDelta === null ||\n      // If we didn't and don't have any defined prop for this animation type\n      !prop && !typeState.prevProp ||\n      // Or if the prop doesn't define an animation\n      isAnimationControls(prop) || typeof prop === \"boolean\") {\n        return \"continue\";\n      }\n      /**\n       * As we go look through the values defined on this type, if we detect\n       * a changed value or a value that was removed in a higher priority, we set\n       * this to true and add this prop to the animation list.\n       */\n      var shouldAnimateType = variantsHaveChanged(typeState.prevProp, prop) ||\n      // If we're making this variant active, we want to always make it active\n      type === changedActiveType && typeState.isActive && !isInherited && propIsVariant ||\n      // If we removed a higher-priority variant (i is in reverse order)\n      i > removedVariantIndex && propIsVariant;\n      /**\n       * As animations can be set as variant lists, variants or target objects, we\n       * coerce everything to an array if it isn't one already\n       */\n      var definitionList = Array.isArray(prop) ? prop : [prop];\n      /**\n       * Build an object of all the resolved values. We'll use this in the subsequent\n       * animateChanges calls to determine whether a value has changed.\n       */\n      var resolvedValues = definitionList.reduce(buildResolvedTypeValues, {});\n      if (activeDelta === false) resolvedValues = {};\n      /**\n       * Now we need to loop through all the keys in the prev prop and this prop,\n       * and decide:\n       * 1. If the value has changed, and needs animating\n       * 2. If it has been removed, and needs adding to the removedKeys set\n       * 3. If it has been removed in a higher priority type and needs animating\n       * 4. If it hasn't been removed in a higher priority but hasn't changed, and\n       *    needs adding to the type's protectedKeys list.\n       */\n      var _b = typeState.prevResolvedValues,\n        prevResolvedValues = _b === void 0 ? {} : _b;\n      var allKeys = __assign(__assign({}, prevResolvedValues), resolvedValues);\n      var markToAnimate = function markToAnimate(key) {\n        shouldAnimateType = true;\n        removedKeys.delete(key);\n        typeState.needsAnimating[key] = true;\n      };\n      for (var key in allKeys) {\n        var next = resolvedValues[key];\n        var prev = prevResolvedValues[key];\n        // If we've already handled this we can just skip ahead\n        if (encounteredKeys.hasOwnProperty(key)) continue;\n        /**\n         * If the value has changed, we probably want to animate it.\n         */\n        if (next !== prev) {\n          /**\n           * If both values are keyframes, we need to shallow compare them to\n           * detect whether any value has changed. If it has, we animate it.\n           */\n          if (isKeyframesTarget(next) && isKeyframesTarget(prev)) {\n            if (!shallowCompare(next, prev)) {\n              markToAnimate(key);\n            } else {\n              /**\n               * If it hasn't changed, we want to ensure it doesn't animate by\n               * adding it to the list of protected keys.\n               */\n              typeState.protectedKeys[key] = true;\n            }\n          } else if (next !== undefined) {\n            // If next is defined and doesn't equal prev, it needs animating\n            markToAnimate(key);\n          } else {\n            // If it's undefined, it's been removed.\n            removedKeys.add(key);\n          }\n        } else if (next !== undefined && removedKeys.has(key)) {\n          /**\n           * If next hasn't changed and it isn't undefined, we want to check if it's\n           * been removed by a higher priority\n           */\n          markToAnimate(key);\n        } else {\n          /**\n           * If it hasn't changed, we add it to the list of protected values\n           * to ensure it doesn't get animated.\n           */\n          typeState.protectedKeys[key] = true;\n        }\n      }\n      /**\n       * Update the typeState so next time animateChanges is called we can compare the\n       * latest prop and resolvedValues to these.\n       */\n      typeState.prevProp = prop;\n      typeState.prevResolvedValues = resolvedValues;\n      /**\n       *\n       */\n      if (typeState.isActive) {\n        encounteredKeys = __assign(__assign({}, encounteredKeys), resolvedValues);\n      }\n      if (isInitialRender && visualElement.blockInitialAnimation) {\n        shouldAnimateType = false;\n      }\n      /**\n       * If this is an inherited prop we want to hard-block animations\n       * TODO: Test as this should probably still handle animations triggered\n       * by removed values?\n       */\n      if (shouldAnimateType && !isInherited) {\n        animations.push.apply(animations, __spreadArray([], __read(definitionList.map(function (animation) {\n          return {\n            animation: animation,\n            options: __assign({\n              type: type\n            }, options)\n          };\n        }))));\n      }\n    };\n    /**\n     * Iterate through all animation types in reverse priority order. For each, we want to\n     * detect which values it's handling and whether or not they've changed (and therefore\n     * need to be animated). If any values have been removed, we want to detect those in\n     * lower priority props and flag for animation.\n     */\n    for (var i = 0; i < numAnimationTypes; i++) {\n      _loop_1(i);\n    }\n    allAnimatedKeys = __assign({}, encounteredKeys);\n    /**\n     * If there are some removed value that haven't been dealt with,\n     * we need to create a new animation that falls back either to the value\n     * defined in the style prop, or the last read value.\n     */\n    if (removedKeys.size) {\n      var fallbackAnimation_1 = {};\n      removedKeys.forEach(function (key) {\n        var fallbackTarget = visualElement.getBaseTarget(key);\n        if (fallbackTarget !== undefined) {\n          fallbackAnimation_1[key] = fallbackTarget;\n        }\n      });\n      animations.push({\n        animation: fallbackAnimation_1\n      });\n    }\n    var shouldAnimate = Boolean(animations.length);\n    if (isInitialRender && props.initial === false && !visualElement.manuallyAnimateOnMount) {\n      shouldAnimate = false;\n    }\n    isInitialRender = false;\n    return shouldAnimate ? animate(animations) : Promise.resolve();\n  }\n  /**\n   * Change whether a certain animation type is active.\n   */\n  function setActive(type, isActive, options) {\n    var _a;\n    // If the active state hasn't changed, we can safely do nothing here\n    if (state[type].isActive === isActive) return Promise.resolve();\n    // Propagate active change to children\n    (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n      var _a;\n      return (_a = child.animationState) === null || _a === void 0 ? void 0 : _a.setActive(type, isActive);\n    });\n    state[type].isActive = isActive;\n    return animateChanges(options, type);\n  }\n  return {\n    isAnimated: isAnimated,\n    animateChanges: animateChanges,\n    setActive: setActive,\n    setAnimateFunction: setAnimateFunction,\n    getState: function getState() {\n      return state;\n    }\n  };\n}\nfunction variantsHaveChanged(prev, next) {\n  if (typeof next === \"string\") {\n    return next !== prev;\n  } else if (isVariantLabels(next)) {\n    return !shallowCompare(next, prev);\n  }\n  return false;\n}\nfunction createTypeState(isActive) {\n  if (isActive === void 0) {\n    isActive = false;\n  }\n  return {\n    isActive: isActive,\n    protectedKeys: {},\n    needsAnimating: {},\n    prevResolvedValues: {}\n  };\n}\nfunction createState() {\n  var _a;\n  return _a = {}, _a[AnimationType.Animate] = createTypeState(true), _a[AnimationType.Hover] = createTypeState(), _a[AnimationType.Tap] = createTypeState(), _a[AnimationType.Drag] = createTypeState(), _a[AnimationType.Focus] = createTypeState(), _a[AnimationType.Exit] = createTypeState(), _a;\n}\nexport { createAnimationState, variantPriorityOrder, variantsHaveChanged };","import { __read } from 'tslib';\nimport { useEffect, useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.js';\nimport { usePresence } from '../../components/AnimatePresence/use-presence.js';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { createAnimationState } from '../../render/utils/animation-state.js';\nimport { AnimationType } from '../../render/utils/types.js';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.js';\nvar animations = {\n  animation: makeRenderlessComponent(function (_a) {\n    var visualElement = _a.visualElement,\n      animate = _a.animate;\n    /**\n     * We dynamically generate the AnimationState manager as it contains a reference\n     * to the underlying animation library. We only want to load that if we load this,\n     * so people can optionally code split it out using the `m` component.\n     */\n    visualElement.animationState || (visualElement.animationState = createAnimationState(visualElement));\n    /**\n     * Subscribe any provided AnimationControls to the component's VisualElement\n     */\n    if (isAnimationControls(animate)) {\n      useEffect(function () {\n        return animate.subscribe(visualElement);\n      }, [animate]);\n    }\n  }),\n  exit: makeRenderlessComponent(function (props) {\n    var custom = props.custom,\n      visualElement = props.visualElement;\n    var _a = __read(usePresence(), 2),\n      isPresent = _a[0],\n      onExitComplete = _a[1];\n    var presenceContext = useContext(PresenceContext);\n    useEffect(function () {\n      var _a, _b;\n      var animation = (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Exit, !isPresent, {\n        custom: (_b = presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.custom) !== null && _b !== void 0 ? _b : custom\n      });\n      !isPresent && (animation === null || animation === void 0 ? void 0 : animation.then(onExitComplete));\n    }, [isPresent]);\n  })\n};\nexport { animations };","var isPoint = function isPoint(point) {\n  return point.hasOwnProperty('x') && point.hasOwnProperty('y');\n};\nexport { isPoint };","import { isPoint } from './is-point.js';\nvar isPoint3D = function isPoint3D(point) {\n  return isPoint(point) && point.hasOwnProperty('z');\n};\nexport { isPoint3D };","import { isPoint } from './is-point.js';\nimport { isPoint3D } from './is-point-3d.js';\nimport { isNum } from './inc.js';\nvar distance1D = function distance1D(a, b) {\n  return Math.abs(a - b);\n};\nfunction distance(a, b) {\n  if (isNum(a) && isNum(b)) {\n    return distance1D(a, b);\n  } else if (isPoint(a) && isPoint(b)) {\n    var xDelta = distance1D(a.x, b.x);\n    var yDelta = distance1D(a.y, b.y);\n    var zDelta = isPoint3D(a) && isPoint3D(b) ? distance1D(a.z, b.z) : 0;\n    return Math.sqrt(Math.pow(xDelta, 2) + Math.pow(yDelta, 2) + Math.pow(zDelta, 2));\n  }\n}\nexport { distance };","import { __assign } from 'tslib';\nimport { isMouseEvent, isTouchEvent } from './utils/event-type.js';\nimport { extractEventInfo } from '../events/event-info.js';\nimport sync, { getFrameData, cancelSync } from 'framesync';\nimport { secondsToMilliseconds } from '../utils/time-conversion.js';\nimport { addPointerEvent } from '../events/use-pointer-event.js';\nimport { distance, pipe } from 'popmotion';\n\n/**\n * @internal\n */\nvar PanSession = /** @class */function () {\n  function PanSession(event, handlers, _a) {\n    var _this = this;\n    var _b = _a === void 0 ? {} : _a,\n      transformPagePoint = _b.transformPagePoint;\n    /**\n     * @internal\n     */\n    this.startEvent = null;\n    /**\n     * @internal\n     */\n    this.lastMoveEvent = null;\n    /**\n     * @internal\n     */\n    this.lastMoveEventInfo = null;\n    /**\n     * @internal\n     */\n    this.handlers = {};\n    this.updatePoint = function () {\n      if (!(_this.lastMoveEvent && _this.lastMoveEventInfo)) return;\n      var info = getPanInfo(_this.lastMoveEventInfo, _this.history);\n      var isPanStarted = _this.startEvent !== null;\n      // Only start panning if the offset is larger than 3 pixels. If we make it\n      // any larger than this we'll want to reset the pointer history\n      // on the first update to avoid visual snapping to the cursoe.\n      var isDistancePastThreshold = distance(info.offset, {\n        x: 0,\n        y: 0\n      }) >= 3;\n      if (!isPanStarted && !isDistancePastThreshold) return;\n      var point = info.point;\n      var timestamp = getFrameData().timestamp;\n      _this.history.push(__assign(__assign({}, point), {\n        timestamp: timestamp\n      }));\n      var _a = _this.handlers,\n        onStart = _a.onStart,\n        onMove = _a.onMove;\n      if (!isPanStarted) {\n        onStart && onStart(_this.lastMoveEvent, info);\n        _this.startEvent = _this.lastMoveEvent;\n      }\n      onMove && onMove(_this.lastMoveEvent, info);\n    };\n    this.handlePointerMove = function (event, info) {\n      _this.lastMoveEvent = event;\n      _this.lastMoveEventInfo = transformPoint(info, _this.transformPagePoint);\n      // Because Safari doesn't trigger mouseup events when it's above a `<select>`\n      if (isMouseEvent(event) && event.buttons === 0) {\n        _this.handlePointerUp(event, info);\n        return;\n      }\n      // Throttle mouse move event to once per frame\n      sync.update(_this.updatePoint, true);\n    };\n    this.handlePointerUp = function (event, info) {\n      _this.end();\n      var _a = _this.handlers,\n        onEnd = _a.onEnd,\n        onSessionEnd = _a.onSessionEnd;\n      var panInfo = getPanInfo(transformPoint(info, _this.transformPagePoint), _this.history);\n      if (_this.startEvent && onEnd) {\n        onEnd(event, panInfo);\n      }\n      onSessionEnd && onSessionEnd(event, panInfo);\n    };\n    // If we have more than one touch, don't start detecting this gesture\n    if (isTouchEvent(event) && event.touches.length > 1) return;\n    this.handlers = handlers;\n    this.transformPagePoint = transformPagePoint;\n    var info = extractEventInfo(event);\n    var initialInfo = transformPoint(info, this.transformPagePoint);\n    var point = initialInfo.point;\n    var timestamp = getFrameData().timestamp;\n    this.history = [__assign(__assign({}, point), {\n      timestamp: timestamp\n    })];\n    var onSessionStart = handlers.onSessionStart;\n    onSessionStart && onSessionStart(event, getPanInfo(initialInfo, this.history));\n    this.removeListeners = pipe(addPointerEvent(window, \"pointermove\", this.handlePointerMove), addPointerEvent(window, \"pointerup\", this.handlePointerUp), addPointerEvent(window, \"pointercancel\", this.handlePointerUp));\n  }\n  PanSession.prototype.updateHandlers = function (handlers) {\n    this.handlers = handlers;\n  };\n  PanSession.prototype.end = function () {\n    this.removeListeners && this.removeListeners();\n    cancelSync.update(this.updatePoint);\n  };\n  return PanSession;\n}();\nfunction transformPoint(info, transformPagePoint) {\n  return transformPagePoint ? {\n    point: transformPagePoint(info.point)\n  } : info;\n}\nfunction subtractPoint(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\nfunction getPanInfo(_a, history) {\n  var point = _a.point;\n  return {\n    point: point,\n    delta: subtractPoint(point, lastDevicePoint(history)),\n    offset: subtractPoint(point, startDevicePoint(history)),\n    velocity: getVelocity(history, 0.1)\n  };\n}\nfunction startDevicePoint(history) {\n  return history[0];\n}\nfunction lastDevicePoint(history) {\n  return history[history.length - 1];\n}\nfunction getVelocity(history, timeDelta) {\n  if (history.length < 2) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n  var i = history.length - 1;\n  var timestampedPoint = null;\n  var lastPoint = lastDevicePoint(history);\n  while (i >= 0) {\n    timestampedPoint = history[i];\n    if (lastPoint.timestamp - timestampedPoint.timestamp > secondsToMilliseconds(timeDelta)) {\n      break;\n    }\n    i--;\n  }\n  if (!timestampedPoint) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n  var time = (lastPoint.timestamp - timestampedPoint.timestamp) / 1000;\n  if (time === 0) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n  var currentVelocity = {\n    x: (lastPoint.x - timestampedPoint.x) / time,\n    y: (lastPoint.y - timestampedPoint.y) / time\n  };\n  if (currentVelocity.x === Infinity) {\n    currentVelocity.x = 0;\n  }\n  if (currentVelocity.y === Infinity) {\n    currentVelocity.y = 0;\n  }\n  return currentVelocity;\n}\nexport { PanSession };","// Call a handler once for each axis\nfunction eachAxis(handler) {\n  return [handler(\"x\"), handler(\"y\")];\n}\nexport { eachAxis };","import { __read } from 'tslib';\nimport { mix } from 'popmotion';\n\n/**\n * Apply constraints to a point. These constraints are both physical along an\n * axis, and an elastic factor that determines how much to constrain the point\n * by if it does lie outside the defined parameters.\n */\nfunction applyConstraints(point, _a, elastic) {\n  var min = _a.min,\n    max = _a.max;\n  if (min !== undefined && point < min) {\n    // If we have a min point defined, and this is outside of that, constrain\n    point = elastic ? mix(min, point, elastic.min) : Math.max(point, min);\n  } else if (max !== undefined && point > max) {\n    // If we have a max point defined, and this is outside of that, constrain\n    point = elastic ? mix(max, point, elastic.max) : Math.min(point, max);\n  }\n  return point;\n}\n/**\n * Calculates a min projection point based on a pointer, pointer progress\n * within the drag target, and constraints.\n *\n * For instance if an element was 100px width, we were dragging from 0.25\n * along this axis, the pointer is at 200px, and there were no constraints,\n * we would calculate a min projection point of 175px.\n */\nfunction calcConstrainedMinPoint(point, length, progress, constraints, elastic) {\n  // Calculate a min point for this axis and apply it to the current pointer\n  var min = point - length * progress;\n  return constraints ? applyConstraints(min, constraints, elastic) : min;\n}\n/**\n * Calculate constraints in terms of the viewport when defined relatively to the\n * measured axis. This is measured from the nearest edge, so a max constraint of 200\n * on an axis with a max value of 300 would return a constraint of 500 - axis length\n */\nfunction calcRelativeAxisConstraints(axis, min, max) {\n  return {\n    min: min !== undefined ? axis.min + min : undefined,\n    max: max !== undefined ? axis.max + max - (axis.max - axis.min) : undefined\n  };\n}\n/**\n * Calculate constraints in terms of the viewport when\n * defined relatively to the measured bounding box.\n */\nfunction calcRelativeConstraints(layoutBox, _a) {\n  var top = _a.top,\n    left = _a.left,\n    bottom = _a.bottom,\n    right = _a.right;\n  return {\n    x: calcRelativeAxisConstraints(layoutBox.x, left, right),\n    y: calcRelativeAxisConstraints(layoutBox.y, top, bottom)\n  };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative axis\n */\nfunction calcViewportAxisConstraints(layoutAxis, constraintsAxis) {\n  var _a;\n  var min = constraintsAxis.min - layoutAxis.min;\n  var max = constraintsAxis.max - layoutAxis.max;\n  // If the constraints axis is actually smaller than the layout axis then we can\n  // flip the constraints\n  if (constraintsAxis.max - constraintsAxis.min < layoutAxis.max - layoutAxis.min) {\n    _a = __read([max, min], 2), min = _a[0], max = _a[1];\n  }\n  return {\n    min: layoutAxis.min + min,\n    max: layoutAxis.min + max\n  };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative box\n */\nfunction calcViewportConstraints(layoutBox, constraintsBox) {\n  return {\n    x: calcViewportAxisConstraints(layoutBox.x, constraintsBox.x),\n    y: calcViewportAxisConstraints(layoutBox.y, constraintsBox.y)\n  };\n}\n/**\n * Calculate the an axis position based on two axes and a progress value.\n */\nfunction calcPositionFromProgress(axis, constraints, progress) {\n  var axisLength = axis.max - axis.min;\n  var min = mix(constraints.min, constraints.max - axisLength, progress);\n  return {\n    min: min,\n    max: min + axisLength\n  };\n}\n/**\n * Rebase the calculated viewport constraints relative to the layout.min point.\n */\nfunction rebaseAxisConstraints(layout, constraints) {\n  var relativeConstraints = {};\n  if (constraints.min !== undefined) {\n    relativeConstraints.min = constraints.min - layout.min;\n  }\n  if (constraints.max !== undefined) {\n    relativeConstraints.max = constraints.max - layout.min;\n  }\n  return relativeConstraints;\n}\nvar defaultElastic = 0.35;\n/**\n * Accepts a dragElastic prop and returns resolved elastic values for each axis.\n */\nfunction resolveDragElastic(dragElastic) {\n  if (dragElastic === false) {\n    dragElastic = 0;\n  } else if (dragElastic === true) {\n    dragElastic = defaultElastic;\n  }\n  return {\n    x: resolveAxisElastic(dragElastic, \"left\", \"right\"),\n    y: resolveAxisElastic(dragElastic, \"top\", \"bottom\")\n  };\n}\nfunction resolveAxisElastic(dragElastic, minLabel, maxLabel) {\n  return {\n    min: resolvePointElastic(dragElastic, minLabel),\n    max: resolvePointElastic(dragElastic, maxLabel)\n  };\n}\nfunction resolvePointElastic(dragElastic, label) {\n  var _a;\n  return typeof dragElastic === \"number\" ? dragElastic : (_a = dragElastic[label]) !== null && _a !== void 0 ? _a : 0;\n}\nexport { applyConstraints, calcConstrainedMinPoint, calcPositionFromProgress, calcRelativeAxisConstraints, calcRelativeConstraints, calcViewportAxisConstraints, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, resolveAxisElastic, resolveDragElastic, resolvePointElastic };","import { convertBoundingBoxToAxisBox, transformBoundingBox } from '../../../utils/geometry/index.js';\n\n/**\n * Measure and return the element bounding box.\n *\n * We convert the box into an AxisBox2D to make it easier to work with each axis\n * individually and programmatically.\n *\n * This function optionally accepts a transformPagePoint function which allows us to compensate\n * for, for instance, measuring the element within a scaled plane like a Framer devivce preview component.\n */\nfunction getBoundingBox(element, transformPagePoint) {\n  var box = element.getBoundingClientRect();\n  return convertBoundingBoxToAxisBox(transformBoundingBox(box, transformPagePoint));\n}\nexport { getBoundingBox };","import { mix, distance, clamp, progress } from 'popmotion';\nvar clampProgress = function clampProgress(v) {\n  return clamp(0, 1, v);\n};\n/**\n * Returns true if the provided value is within maxDistance of the provided target\n */\nfunction isNear(value, target, maxDistance) {\n  if (target === void 0) {\n    target = 0;\n  }\n  if (maxDistance === void 0) {\n    maxDistance = 0.01;\n  }\n  return distance(value, target) < maxDistance;\n}\nfunction calcLength(axis) {\n  return axis.max - axis.min;\n}\n/**\n * Calculate a transform origin relative to the source axis, between 0-1, that results\n * in an asthetically pleasing scale/transform needed to project from source to target.\n */\nfunction calcOrigin(source, target) {\n  var origin = 0.5;\n  var sourceLength = calcLength(source);\n  var targetLength = calcLength(target);\n  if (targetLength > sourceLength) {\n    origin = progress(target.min, target.max - sourceLength, source.min);\n  } else if (sourceLength > targetLength) {\n    origin = progress(source.min, source.max - targetLength, target.min);\n  }\n  return clampProgress(origin);\n}\n/**\n * Update the AxisDelta with a transform that projects source into target.\n *\n * The transform `origin` is optional. If not provided, it'll be automatically\n * calculated based on the relative positions of the two bounding boxes.\n */\nfunction updateAxisDelta(delta, source, target, origin) {\n  if (origin === void 0) {\n    origin = 0.5;\n  }\n  delta.origin = origin;\n  delta.originPoint = mix(source.min, source.max, delta.origin);\n  delta.scale = calcLength(target) / calcLength(source);\n  if (isNear(delta.scale, 1, 0.0001)) delta.scale = 1;\n  delta.translate = mix(target.min, target.max, delta.origin) - delta.originPoint;\n  if (isNear(delta.translate)) delta.translate = 0;\n}\n/**\n * Update the BoxDelta with a transform that projects the source into the target.\n *\n * The transform `origin` is optional. If not provided, it'll be automatically\n * calculated based on the relative positions of the two bounding boxes.\n */\nfunction updateBoxDelta(delta, source, target, origin) {\n  updateAxisDelta(delta.x, source.x, target.x, defaultOrigin(origin.originX));\n  updateAxisDelta(delta.y, source.y, target.y, defaultOrigin(origin.originY));\n}\n/**\n * Currently this only accepts numerical origins, measured as 0-1, but could\n * accept pixel values by comparing to the target axis.\n */\nfunction defaultOrigin(origin) {\n  return typeof origin === \"number\" ? origin : 0.5;\n}\nfunction calcRelativeAxis(target, relative, parent) {\n  target.min = parent.min + relative.min;\n  target.max = target.min + calcLength(relative);\n}\nfunction calcRelativeBox(projection, parentProjection) {\n  calcRelativeAxis(projection.target.x, projection.relativeTarget.x, parentProjection.target.x);\n  calcRelativeAxis(projection.target.y, projection.relativeTarget.y, parentProjection.target.y);\n}\nexport { calcOrigin, calcRelativeAxis, calcRelativeBox, isNear, updateAxisDelta, updateBoxDelta };","import { mix } from 'popmotion';\nfunction tweenAxis(target, prev, next, p) {\n  target.min = mix(prev.min, next.min, p);\n  target.max = mix(prev.max, next.max, p);\n}\nfunction calcRelativeOffsetAxis(parent, child) {\n  return {\n    min: child.min - parent.min,\n    max: child.max - parent.min\n  };\n}\nfunction calcRelativeOffset(parent, child) {\n  return {\n    x: calcRelativeOffsetAxis(parent.x, child.x),\n    y: calcRelativeOffsetAxis(parent.y, child.y)\n  };\n}\nfunction checkIfParentHasChanged(prev, next) {\n  var prevId = prev.getLayoutId();\n  var nextId = next.getLayoutId();\n  return prevId !== nextId || nextId === undefined && prev !== next;\n}\nexport { calcRelativeOffset, calcRelativeOffsetAxis, checkIfParentHasChanged, tweenAxis };","function isDraggable(visualElement) {\n  var _a = visualElement.getProps(),\n    drag = _a.drag,\n    _dragX = _a._dragX;\n  return drag && !_dragX;\n}\nexport { isDraggable };","import { __read } from 'tslib';\nimport { mix } from 'popmotion';\nimport { isDraggable } from '../../render/utils/is-draggable.js';\n\n/**\n * Reset an axis to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction resetAxis(axis, originAxis) {\n  axis.min = originAxis.min;\n  axis.max = originAxis.max;\n}\n/**\n * Reset a box to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction resetBox(box, originBox) {\n  resetAxis(box.x, originBox.x);\n  resetAxis(box.y, originBox.y);\n}\n/**\n * Scales a point based on a factor and an originPoint\n */\nfunction scalePoint(point, scale, originPoint) {\n  var distanceFromOrigin = point - originPoint;\n  var scaled = scale * distanceFromOrigin;\n  return originPoint + scaled;\n}\n/**\n * Applies a translate/scale delta to a point\n */\nfunction applyPointDelta(point, translate, scale, originPoint, boxScale) {\n  if (boxScale !== undefined) {\n    point = scalePoint(point, boxScale, originPoint);\n  }\n  return scalePoint(point, scale, originPoint) + translate;\n}\n/**\n * Applies a translate/scale delta to an axis\n */\nfunction applyAxisDelta(axis, translate, scale, originPoint, boxScale) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n  if (scale === void 0) {\n    scale = 1;\n  }\n  axis.min = applyPointDelta(axis.min, translate, scale, originPoint, boxScale);\n  axis.max = applyPointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Applies a translate/scale delta to a box\n */\nfunction applyBoxDelta(box, _a) {\n  var x = _a.x,\n    y = _a.y;\n  applyAxisDelta(box.x, x.translate, x.scale, x.originPoint);\n  applyAxisDelta(box.y, y.translate, y.scale, y.originPoint);\n}\n/**\n * Apply a transform to an axis from the latest resolved motion values.\n * This function basically acts as a bridge between a flat motion value map\n * and applyAxisDelta\n */\nfunction applyAxisTransforms(final, axis, transforms, _a) {\n  var _b = __read(_a, 3),\n    key = _b[0],\n    scaleKey = _b[1],\n    originKey = _b[2];\n  // Copy the current axis to the final axis before mutation\n  final.min = axis.min;\n  final.max = axis.max;\n  var axisOrigin = transforms[originKey] !== undefined ? transforms[originKey] : 0.5;\n  var originPoint = mix(axis.min, axis.max, axisOrigin);\n  // Apply the axis delta to the final axis\n  applyAxisDelta(final, transforms[key], transforms[scaleKey], originPoint, transforms.scale);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nvar xKeys = [\"x\", \"scaleX\", \"originX\"];\nvar yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Apply a transform to a box from the latest resolved motion values.\n */\nfunction applyBoxTransforms(finalBox, box, transforms) {\n  applyAxisTransforms(finalBox.x, box.x, transforms, xKeys);\n  applyAxisTransforms(finalBox.y, box.y, transforms, yKeys);\n}\n/**\n * Remove a delta from a point. This is essentially the steps of applyPointDelta in reverse\n */\nfunction removePointDelta(point, translate, scale, originPoint, boxScale) {\n  point -= translate;\n  point = scalePoint(point, 1 / scale, originPoint);\n  if (boxScale !== undefined) {\n    point = scalePoint(point, 1 / boxScale, originPoint);\n  }\n  return point;\n}\n/**\n * Remove a delta from an axis. This is essentially the steps of applyAxisDelta in reverse\n */\nfunction removeAxisDelta(axis, translate, scale, origin, boxScale) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n  if (scale === void 0) {\n    scale = 1;\n  }\n  if (origin === void 0) {\n    origin = 0.5;\n  }\n  var originPoint = mix(axis.min, axis.max, origin) - translate;\n  axis.min = removePointDelta(axis.min, translate, scale, originPoint, boxScale);\n  axis.max = removePointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Remove a transforms from an axis. This is essentially the steps of applyAxisTransforms in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeAxisTransforms(axis, transforms, _a) {\n  var _b = __read(_a, 3),\n    key = _b[0],\n    scaleKey = _b[1],\n    originKey = _b[2];\n  removeAxisDelta(axis, transforms[key], transforms[scaleKey], transforms[originKey], transforms.scale);\n}\n/**\n * Remove a transforms from an box. This is essentially the steps of applyAxisBox in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeBoxTransforms(box, transforms) {\n  removeAxisTransforms(box.x, transforms, xKeys);\n  removeAxisTransforms(box.y, transforms, yKeys);\n}\n/**\n * Apply a tree of deltas to a box. We do this to calculate the effect of all the transforms\n * in a tree upon our box before then calculating how to project it into our desired viewport-relative box\n *\n * This is the final nested loop within updateLayoutDelta for future refactoring\n */\nfunction applyTreeDeltas(box, treeScale, treePath) {\n  var treeLength = treePath.length;\n  if (!treeLength) return;\n  // Reset the treeScale\n  treeScale.x = treeScale.y = 1;\n  var node;\n  var delta;\n  for (var i = 0; i < treeLength; i++) {\n    node = treePath[i];\n    delta = node.getLayoutState().delta;\n    // Incoporate each ancestor's scale into a culmulative treeScale for this component\n    treeScale.x *= delta.x.scale;\n    treeScale.y *= delta.y.scale;\n    // Apply each ancestor's calculated delta into this component's recorded layout box\n    applyBoxDelta(box, delta);\n    // If this is a draggable ancestor, also incorporate the node's transform to the layout box\n    if (isDraggable(node)) {\n      applyBoxTransforms(box, box, node.getLatestValues());\n    }\n  }\n}\nexport { applyAxisDelta, applyAxisTransforms, applyBoxDelta, applyBoxTransforms, applyPointDelta, applyTreeDeltas, removeAxisDelta, removeAxisTransforms, removeBoxTransforms, removePointDelta, resetAxis, resetBox, scalePoint };","import { __rest, __assign, __spreadArray, __read } from 'tslib';\nimport { invariant } from 'hey-listen';\nimport { PanSession } from '../PanSession.js';\nimport { getGlobalLock } from './utils/lock.js';\nimport { isRefObject } from '../../utils/is-ref-object.js';\nimport { addPointerEvent } from '../../events/use-pointer-event.js';\nimport { addDomEvent } from '../../events/use-dom-event.js';\nimport { getViewportPointFromEvent } from '../../events/event-info.js';\nimport { axisBox, convertAxisBoxToBoundingBox, convertBoundingBoxToAxisBox } from '../../utils/geometry/index.js';\nimport { eachAxis } from '../../utils/each-axis.js';\nimport { calcRelativeConstraints, resolveDragElastic, rebaseAxisConstraints, calcViewportConstraints, applyConstraints, calcConstrainedMinPoint, calcPositionFromProgress, defaultElastic } from './utils/constraints.js';\nimport { getBoundingBox } from '../../render/dom/projection/measure.js';\nimport { calcOrigin } from '../../utils/geometry/delta-calc.js';\nimport { startAnimation } from '../../animation/utils/transitions.js';\nimport { AnimationType } from '../../render/utils/types.js';\nimport { collectProjectingAncestors, updateLayoutMeasurement, collectProjectingChildren } from '../../render/dom/projection/utils.js';\nimport { progress } from 'popmotion';\nimport { convertToRelativeProjection } from '../../render/dom/projection/convert-to-relative.js';\nimport { calcRelativeOffset } from '../../motion/features/layout/utils.js';\nimport { flushLayout, batchLayout } from '../../render/dom/utils/batch-layout.js';\nimport { flushSync } from 'framesync';\nvar elementDragControls = new WeakMap();\n/**\n *\n */\nvar lastPointerEvent;\nvar VisualElementDragControls = /** @class */function () {\n  function VisualElementDragControls(_a) {\n    var visualElement = _a.visualElement;\n    /**\n     * Track whether we're currently dragging.\n     *\n     * @internal\n     */\n    this.isDragging = false;\n    /**\n     * The current direction of drag, or `null` if both.\n     *\n     * @internal\n     */\n    this.currentDirection = null;\n    /**\n     * The permitted boundaries of travel, in pixels.\n     *\n     * @internal\n     */\n    this.constraints = false;\n    /**\n     * The per-axis resolved elastic values.\n     *\n     * @internal\n     */\n    this.elastic = axisBox();\n    /**\n     * A reference to the host component's latest props.\n     *\n     * @internal\n     */\n    this.props = {};\n    /**\n     * @internal\n     */\n    this.hasMutatedConstraints = false;\n    /**\n     * Track the initial position of the cursor relative to the dragging element\n     * when dragging starts as a value of 0-1 on each axis. We then use this to calculate\n     * an ideal bounding box for the VisualElement renderer to project into every frame.\n     *\n     * @internal\n     */\n    this.cursorProgress = {\n      x: 0.5,\n      y: 0.5\n    };\n    // When updating _dragX, or _dragY instead of the VisualElement,\n    // persist their values between drag gestures.\n    this.originPoint = {};\n    // This is a reference to the global drag gesture lock, ensuring only one component\n    // can \"capture\" the drag of one or both axes.\n    // TODO: Look into moving this into pansession?\n    this.openGlobalLock = null;\n    /**\n     * @internal\n     */\n    this.panSession = null;\n    this.visualElement = visualElement;\n    this.visualElement.enableLayoutProjection();\n    elementDragControls.set(visualElement, this);\n  }\n  /**\n   * Instantiate a PanSession for the drag gesture\n   *\n   * @public\n   */\n  VisualElementDragControls.prototype.start = function (originEvent, _a) {\n    var _this = this;\n    var _b = _a === void 0 ? {} : _a,\n      _c = _b.snapToCursor,\n      snapToCursor = _c === void 0 ? false : _c,\n      cursorProgress = _b.cursorProgress;\n    var onSessionStart = function onSessionStart(event) {\n      var _a;\n      // Stop any animations on both axis values immediately. This allows the user to throw and catch\n      // the component.\n      _this.stopMotion();\n      /**\n       * Save the initial point. We'll use this to calculate the pointer's position rather\n       * than the one we receive when the gesture actually starts. By then, the pointer will\n       * have already moved, and the perception will be of the pointer \"slipping\" across the element\n       */\n      var initialPoint = getViewportPointFromEvent(event).point;\n      (_a = _this.cancelLayout) === null || _a === void 0 ? void 0 : _a.call(_this);\n      _this.cancelLayout = batchLayout(function (read, write) {\n        var ancestors = collectProjectingAncestors(_this.visualElement);\n        var children = collectProjectingChildren(_this.visualElement);\n        var tree = __spreadArray(__spreadArray([], __read(ancestors)), __read(children));\n        var hasManuallySetCursorOrigin = false;\n        /**\n         * Apply a simple lock to the projection target. This ensures no animations\n         * can run on the projection box while this lock is active.\n         */\n        _this.isLayoutDrag() && _this.visualElement.lockProjectionTarget();\n        write(function () {\n          tree.forEach(function (element) {\n            return element.resetTransform();\n          });\n        });\n        read(function () {\n          updateLayoutMeasurement(_this.visualElement);\n          children.forEach(updateLayoutMeasurement);\n        });\n        write(function () {\n          tree.forEach(function (element) {\n            return element.restoreTransform();\n          });\n          if (snapToCursor) {\n            hasManuallySetCursorOrigin = _this.snapToCursor(initialPoint);\n          }\n        });\n        read(function () {\n          var isRelativeDrag = Boolean(_this.getAxisMotionValue(\"x\") && !_this.isExternalDrag());\n          if (!isRelativeDrag) {\n            _this.visualElement.rebaseProjectionTarget(true, _this.visualElement.measureViewportBox(false));\n          }\n          _this.visualElement.scheduleUpdateLayoutProjection();\n          /**\n           * When dragging starts, we want to find where the cursor is relative to the bounding box\n           * of the element. Every frame, we calculate a new bounding box using this relative position\n           * and let the visualElement renderer figure out how to reproject the element into this bounding\n           * box.\n           *\n           * By doing it this way, rather than applying an x/y transform directly to the element,\n           * we can ensure the component always visually sticks to the cursor as we'd expect, even\n           * if the DOM element itself changes layout as a result of React updates the user might\n           * make based on the drag position.\n           */\n          var projection = _this.visualElement.projection;\n          eachAxis(function (axis) {\n            if (!hasManuallySetCursorOrigin) {\n              var _a = projection.target[axis],\n                min = _a.min,\n                max = _a.max;\n              _this.cursorProgress[axis] = cursorProgress ? cursorProgress[axis] : progress(min, max, initialPoint[axis]);\n            }\n            /**\n             * If we have external drag MotionValues, record their origin point. On pointermove\n             * we'll apply the pan gesture offset directly to this value.\n             */\n            var axisValue = _this.getAxisMotionValue(axis);\n            if (axisValue) {\n              _this.originPoint[axis] = axisValue.get();\n            }\n          });\n        });\n        write(function () {\n          flushSync.update();\n          flushSync.preRender();\n          flushSync.render();\n          flushSync.postRender();\n        });\n        read(function () {\n          return _this.resolveDragConstraints();\n        });\n      });\n    };\n    var onStart = function onStart(event, info) {\n      var _a, _b, _c;\n      // Attempt to grab the global drag gesture lock - maybe make this part of PanSession\n      var _d = _this.props,\n        drag = _d.drag,\n        dragPropagation = _d.dragPropagation;\n      if (drag && !dragPropagation) {\n        if (_this.openGlobalLock) _this.openGlobalLock();\n        _this.openGlobalLock = getGlobalLock(drag);\n        // If we don 't have the lock, don't start dragging\n        if (!_this.openGlobalLock) return;\n      }\n      flushLayout();\n      // Set current drag status\n      _this.isDragging = true;\n      _this.currentDirection = null;\n      // Fire onDragStart event\n      (_b = (_a = _this.props).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, event, info);\n      (_c = _this.visualElement.animationState) === null || _c === void 0 ? void 0 : _c.setActive(AnimationType.Drag, true);\n    };\n    var onMove = function onMove(event, info) {\n      var _a, _b, _c, _d;\n      var _e = _this.props,\n        dragPropagation = _e.dragPropagation,\n        dragDirectionLock = _e.dragDirectionLock;\n      // If we didn't successfully receive the gesture lock, early return.\n      if (!dragPropagation && !_this.openGlobalLock) return;\n      var offset = info.offset;\n      // Attempt to detect drag direction if directionLock is true\n      if (dragDirectionLock && _this.currentDirection === null) {\n        _this.currentDirection = getCurrentDirection(offset);\n        // If we've successfully set a direction, notify listener\n        if (_this.currentDirection !== null) {\n          (_b = (_a = _this.props).onDirectionLock) === null || _b === void 0 ? void 0 : _b.call(_a, _this.currentDirection);\n        }\n        return;\n      }\n      // Update each point with the latest position\n      _this.updateAxis(\"x\", info.point, offset);\n      _this.updateAxis(\"y\", info.point, offset);\n      // Fire onDrag event\n      (_d = (_c = _this.props).onDrag) === null || _d === void 0 ? void 0 : _d.call(_c, event, info);\n      // Update the last pointer event\n      lastPointerEvent = event;\n    };\n    var onSessionEnd = function onSessionEnd(event, info) {\n      return _this.stop(event, info);\n    };\n    var transformPagePoint = this.props.transformPagePoint;\n    this.panSession = new PanSession(originEvent, {\n      onSessionStart: onSessionStart,\n      onStart: onStart,\n      onMove: onMove,\n      onSessionEnd: onSessionEnd\n    }, {\n      transformPagePoint: transformPagePoint\n    });\n  };\n  VisualElementDragControls.prototype.resolveDragConstraints = function () {\n    var _this = this;\n    var _a = this.props,\n      dragConstraints = _a.dragConstraints,\n      dragElastic = _a.dragElastic;\n    var layout = this.visualElement.getLayoutState().layoutCorrected;\n    if (dragConstraints) {\n      this.constraints = isRefObject(dragConstraints) ? this.resolveRefConstraints(layout, dragConstraints) : calcRelativeConstraints(layout, dragConstraints);\n    } else {\n      this.constraints = false;\n    }\n    this.elastic = resolveDragElastic(dragElastic);\n    /**\n     * If we're outputting to external MotionValues, we want to rebase the measured constraints\n     * from viewport-relative to component-relative.\n     */\n    if (this.constraints && !this.hasMutatedConstraints) {\n      eachAxis(function (axis) {\n        if (_this.getAxisMotionValue(axis)) {\n          _this.constraints[axis] = rebaseAxisConstraints(layout[axis], _this.constraints[axis]);\n        }\n      });\n    }\n  };\n  VisualElementDragControls.prototype.resolveRefConstraints = function (layoutBox, constraints) {\n    var _a = this.props,\n      onMeasureDragConstraints = _a.onMeasureDragConstraints,\n      transformPagePoint = _a.transformPagePoint;\n    var constraintsElement = constraints.current;\n    invariant(constraintsElement !== null, \"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.\");\n    this.constraintsBox = getBoundingBox(constraintsElement, transformPagePoint);\n    var measuredConstraints = calcViewportConstraints(layoutBox, this.constraintsBox);\n    /**\n     * If there's an onMeasureDragConstraints listener we call it and\n     * if different constraints are returned, set constraints to that\n     */\n    if (onMeasureDragConstraints) {\n      var userConstraints = onMeasureDragConstraints(convertAxisBoxToBoundingBox(measuredConstraints));\n      this.hasMutatedConstraints = !!userConstraints;\n      if (userConstraints) {\n        measuredConstraints = convertBoundingBoxToAxisBox(userConstraints);\n      }\n    }\n    return measuredConstraints;\n  };\n  VisualElementDragControls.prototype.cancelDrag = function () {\n    var _a, _b;\n    this.visualElement.unlockProjectionTarget();\n    (_a = this.cancelLayout) === null || _a === void 0 ? void 0 : _a.call(this);\n    this.isDragging = false;\n    this.panSession && this.panSession.end();\n    this.panSession = null;\n    if (!this.props.dragPropagation && this.openGlobalLock) {\n      this.openGlobalLock();\n      this.openGlobalLock = null;\n    }\n    (_b = this.visualElement.animationState) === null || _b === void 0 ? void 0 : _b.setActive(AnimationType.Drag, false);\n  };\n  VisualElementDragControls.prototype.stop = function (event, info) {\n    var _a, _b, _c;\n    (_a = this.panSession) === null || _a === void 0 ? void 0 : _a.end();\n    this.panSession = null;\n    var isDragging = this.isDragging;\n    this.cancelDrag();\n    if (!isDragging) return;\n    var velocity = info.velocity;\n    this.animateDragEnd(velocity);\n    (_c = (_b = this.props).onDragEnd) === null || _c === void 0 ? void 0 : _c.call(_b, event, info);\n  };\n  VisualElementDragControls.prototype.snapToCursor = function (point) {\n    var _this = this;\n    return eachAxis(function (axis) {\n      var drag = _this.props.drag;\n      // If we're not dragging this axis, do an early return.\n      if (!shouldDrag(axis, drag, _this.currentDirection)) return;\n      var axisValue = _this.getAxisMotionValue(axis);\n      if (axisValue) {\n        var box = _this.visualElement.getLayoutState().layout;\n        var length_1 = box[axis].max - box[axis].min;\n        var center = box[axis].min + length_1 / 2;\n        var offset = point[axis] - center;\n        _this.originPoint[axis] = point[axis];\n        axisValue.set(offset);\n      } else {\n        _this.cursorProgress[axis] = 0.5;\n        return true;\n      }\n    }).includes(true);\n  };\n  /**\n   * Update the specified axis with the latest pointer information.\n   */\n  VisualElementDragControls.prototype.updateAxis = function (axis, point, offset) {\n    var drag = this.props.drag;\n    // If we're not dragging this axis, do an early return.\n    if (!shouldDrag(axis, drag, this.currentDirection)) return;\n    return this.getAxisMotionValue(axis) ? this.updateAxisMotionValue(axis, offset) : this.updateVisualElementAxis(axis, point);\n  };\n  VisualElementDragControls.prototype.updateAxisMotionValue = function (axis, offset) {\n    var axisValue = this.getAxisMotionValue(axis);\n    if (!offset || !axisValue) return;\n    var nextValue = this.originPoint[axis] + offset[axis];\n    var update = this.constraints ? applyConstraints(nextValue, this.constraints[axis], this.elastic[axis]) : nextValue;\n    axisValue.set(update);\n  };\n  VisualElementDragControls.prototype.updateVisualElementAxis = function (axis, point) {\n    var _a;\n    // Get the actual layout bounding box of the element\n    var axisLayout = this.visualElement.getLayoutState().layout[axis];\n    // Calculate its current length. In the future we might want to lerp this to animate\n    // between lengths if the layout changes as we change the DOM\n    var axisLength = axisLayout.max - axisLayout.min;\n    // Get the initial progress that the pointer sat on this axis on gesture start.\n    var axisProgress = this.cursorProgress[axis];\n    // Calculate a new min point based on the latest pointer position, constraints and elastic\n    var min = calcConstrainedMinPoint(point[axis], axisLength, axisProgress, (_a = this.constraints) === null || _a === void 0 ? void 0 : _a[axis], this.elastic[axis]);\n    // Update the axis viewport target with this new min and the length\n    this.visualElement.setProjectionTargetAxis(axis, min, min + axisLength);\n  };\n  VisualElementDragControls.prototype.setProps = function (_a) {\n    var _b = _a.drag,\n      drag = _b === void 0 ? false : _b,\n      _c = _a.dragDirectionLock,\n      dragDirectionLock = _c === void 0 ? false : _c,\n      _d = _a.dragPropagation,\n      dragPropagation = _d === void 0 ? false : _d,\n      _e = _a.dragConstraints,\n      dragConstraints = _e === void 0 ? false : _e,\n      _f = _a.dragElastic,\n      dragElastic = _f === void 0 ? defaultElastic : _f,\n      _g = _a.dragMomentum,\n      dragMomentum = _g === void 0 ? true : _g,\n      remainingProps = __rest(_a, [\"drag\", \"dragDirectionLock\", \"dragPropagation\", \"dragConstraints\", \"dragElastic\", \"dragMomentum\"]);\n    this.props = __assign({\n      drag: drag,\n      dragDirectionLock: dragDirectionLock,\n      dragPropagation: dragPropagation,\n      dragConstraints: dragConstraints,\n      dragElastic: dragElastic,\n      dragMomentum: dragMomentum\n    }, remainingProps);\n  };\n  /**\n   * Drag works differently depending on which props are provided.\n   *\n   * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.\n   * - If the component will perform layout animations, we output the gesture to the component's\n   *      visual bounding box\n   * - Otherwise, we apply the delta to the x/y motion values.\n   */\n  VisualElementDragControls.prototype.getAxisMotionValue = function (axis) {\n    var _a = this.props,\n      layout = _a.layout,\n      layoutId = _a.layoutId;\n    var dragKey = \"_drag\" + axis.toUpperCase();\n    if (this.props[dragKey]) {\n      return this.props[dragKey];\n    } else if (!layout && layoutId === undefined) {\n      return this.visualElement.getValue(axis, 0);\n    }\n  };\n  VisualElementDragControls.prototype.isLayoutDrag = function () {\n    return !this.getAxisMotionValue(\"x\");\n  };\n  VisualElementDragControls.prototype.isExternalDrag = function () {\n    var _a = this.props,\n      _dragX = _a._dragX,\n      _dragY = _a._dragY;\n    return _dragX || _dragY;\n  };\n  VisualElementDragControls.prototype.animateDragEnd = function (velocity) {\n    var _this = this;\n    var _a = this.props,\n      drag = _a.drag,\n      dragMomentum = _a.dragMomentum,\n      dragElastic = _a.dragElastic,\n      dragTransition = _a.dragTransition;\n    /**\n     * Everything beyond the drag gesture should be performed with\n     * relative projection so children stay in sync with their parent element.\n     */\n    var isRelative = convertToRelativeProjection(this.visualElement, this.isLayoutDrag() && !this.isExternalDrag());\n    /**\n     * If we had previously resolved constraints relative to the viewport,\n     * we need to also convert those to a relative coordinate space for the animation\n     */\n    var constraints = this.constraints || {};\n    if (isRelative && Object.keys(constraints).length && this.isLayoutDrag()) {\n      var projectionParent = this.visualElement.getProjectionParent();\n      if (projectionParent) {\n        var relativeConstraints_1 = calcRelativeOffset(projectionParent.projection.targetFinal, constraints);\n        eachAxis(function (axis) {\n          var _a = relativeConstraints_1[axis],\n            min = _a.min,\n            max = _a.max;\n          constraints[axis] = {\n            min: isNaN(min) ? undefined : min,\n            max: isNaN(max) ? undefined : max\n          };\n        });\n      }\n    }\n    var momentumAnimations = eachAxis(function (axis) {\n      var _a;\n      if (!shouldDrag(axis, drag, _this.currentDirection)) {\n        return;\n      }\n      var transition = (_a = constraints === null || constraints === void 0 ? void 0 : constraints[axis]) !== null && _a !== void 0 ? _a : {};\n      /**\n       * Overdamp the boundary spring if `dragElastic` is disabled. There's still a frame\n       * of spring animations so we should look into adding a disable spring option to `inertia`.\n       * We could do something here where we affect the `bounceStiffness` and `bounceDamping`\n       * using the value of `dragElastic`.\n       */\n      var bounceStiffness = dragElastic ? 200 : 1000000;\n      var bounceDamping = dragElastic ? 40 : 10000000;\n      var inertia = __assign(__assign({\n        type: \"inertia\",\n        velocity: dragMomentum ? velocity[axis] : 0,\n        bounceStiffness: bounceStiffness,\n        bounceDamping: bounceDamping,\n        timeConstant: 750,\n        restDelta: 1,\n        restSpeed: 10\n      }, dragTransition), transition);\n      // If we're not animating on an externally-provided `MotionValue` we can use the\n      // component's animation controls which will handle interactions with whileHover (etc),\n      // otherwise we just have to animate the `MotionValue` itself.\n      return _this.getAxisMotionValue(axis) ? _this.startAxisValueAnimation(axis, inertia) : _this.visualElement.startLayoutAnimation(axis, inertia, isRelative);\n    });\n    // Run all animations and then resolve the new drag constraints.\n    return Promise.all(momentumAnimations).then(function () {\n      var _a, _b;\n      (_b = (_a = _this.props).onDragTransitionEnd) === null || _b === void 0 ? void 0 : _b.call(_a);\n    });\n  };\n  VisualElementDragControls.prototype.stopMotion = function () {\n    var _this = this;\n    eachAxis(function (axis) {\n      var axisValue = _this.getAxisMotionValue(axis);\n      axisValue ? axisValue.stop() : _this.visualElement.stopLayoutAnimation();\n    });\n  };\n  VisualElementDragControls.prototype.startAxisValueAnimation = function (axis, transition) {\n    var axisValue = this.getAxisMotionValue(axis);\n    if (!axisValue) return;\n    var currentValue = axisValue.get();\n    axisValue.set(currentValue);\n    axisValue.set(currentValue); // Set twice to hard-reset velocity\n    return startAnimation(axis, axisValue, 0, transition);\n  };\n  VisualElementDragControls.prototype.scalePoint = function () {\n    var _this = this;\n    var _a = this.props,\n      drag = _a.drag,\n      dragConstraints = _a.dragConstraints;\n    if (!isRefObject(dragConstraints) || !this.constraintsBox) return;\n    // Stop any current animations as there can be some visual glitching if we resize mid animation\n    this.stopMotion();\n    // Record the relative progress of the targetBox relative to the constraintsBox\n    var boxProgress = {\n      x: 0,\n      y: 0\n    };\n    eachAxis(function (axis) {\n      boxProgress[axis] = calcOrigin(_this.visualElement.projection.target[axis], _this.constraintsBox[axis]);\n    });\n    /**\n     * For each axis, calculate the current progress of the layout axis within the constraints.\n     * Then, using the latest layout and constraints measurements, reposition the new layout axis\n     * proportionally within the constraints.\n     */\n    this.updateConstraints(function () {\n      eachAxis(function (axis) {\n        if (!shouldDrag(axis, drag, null)) return;\n        // Calculate the position of the targetBox relative to the constraintsBox using the\n        // previously calculated progress\n        var _a = calcPositionFromProgress(_this.visualElement.projection.target[axis], _this.constraintsBox[axis], boxProgress[axis]),\n          min = _a.min,\n          max = _a.max;\n        _this.visualElement.setProjectionTargetAxis(axis, min, max);\n      });\n    });\n    /**\n     * If any other draggable components are queuing the same tasks synchronously\n     * this will wait until they've all been scheduled before flushing.\n     */\n    setTimeout(flushLayout, 1);\n  };\n  VisualElementDragControls.prototype.updateConstraints = function (onReady) {\n    var _this = this;\n    this.cancelLayout = batchLayout(function (read, write) {\n      var ancestors = collectProjectingAncestors(_this.visualElement);\n      write(function () {\n        return ancestors.forEach(function (element) {\n          return element.resetTransform();\n        });\n      });\n      read(function () {\n        return updateLayoutMeasurement(_this.visualElement);\n      });\n      write(function () {\n        return ancestors.forEach(function (element) {\n          return element.restoreTransform();\n        });\n      });\n      read(function () {\n        _this.resolveDragConstraints();\n      });\n      if (onReady) write(onReady);\n    });\n  };\n  VisualElementDragControls.prototype.mount = function (visualElement) {\n    var _this = this;\n    var element = visualElement.getInstance();\n    /**\n     * Attach a pointerdown event listener on this DOM element to initiate drag tracking.\n     */\n    var stopPointerListener = addPointerEvent(element, \"pointerdown\", function (event) {\n      var _a = _this.props,\n        drag = _a.drag,\n        _b = _a.dragListener,\n        dragListener = _b === void 0 ? true : _b;\n      drag && dragListener && _this.start(event);\n    });\n    /**\n     * Attach a window resize listener to scale the draggable target within its defined\n     * constraints as the window resizes.\n     */\n    var stopResizeListener = addDomEvent(window, \"resize\", function () {\n      _this.scalePoint();\n    });\n    /**\n     * Ensure drag constraints are resolved correctly relative to the dragging element\n     * whenever its layout changes.\n     */\n    var stopLayoutUpdateListener = visualElement.onLayoutUpdate(function () {\n      if (_this.isDragging) {\n        _this.resolveDragConstraints();\n      }\n    });\n    /**\n     * If the previous component with this same layoutId was dragging at the time\n     * it was unmounted, we want to continue the same gesture on this component.\n     */\n    var prevDragCursor = visualElement.prevDragCursor;\n    if (prevDragCursor) {\n      this.start(lastPointerEvent, {\n        cursorProgress: prevDragCursor\n      });\n    }\n    /**\n     * Return a function that will teardown the drag gesture\n     */\n    return function () {\n      stopPointerListener === null || stopPointerListener === void 0 ? void 0 : stopPointerListener();\n      stopResizeListener === null || stopResizeListener === void 0 ? void 0 : stopResizeListener();\n      stopLayoutUpdateListener === null || stopLayoutUpdateListener === void 0 ? void 0 : stopLayoutUpdateListener();\n      _this.cancelDrag();\n    };\n  };\n  return VisualElementDragControls;\n}();\nfunction shouldDrag(direction, drag, currentDirection) {\n  return (drag === true || drag === direction) && (currentDirection === null || currentDirection === direction);\n}\n/**\n * Based on an x/y offset determine the current drag direction. If both axis' offsets are lower\n * than the provided threshold, return `null`.\n *\n * @param offset - The x/y offset from origin.\n * @param lockThreshold - (Optional) - the minimum absolute offset before we can determine a drag direction.\n */\nfunction getCurrentDirection(offset, lockThreshold) {\n  if (lockThreshold === void 0) {\n    lockThreshold = 10;\n  }\n  var direction = null;\n  if (Math.abs(offset.y) > lockThreshold) {\n    direction = \"y\";\n  } else if (Math.abs(offset.x) > lockThreshold) {\n    direction = \"x\";\n  }\n  return direction;\n}\nexport { VisualElementDragControls, elementDragControls };","import { calcRelativeOffset } from '../../../motion/features/layout/utils.js';\nimport { eachAxis } from '../../../utils/each-axis.js';\nimport { removeBoxTransforms } from '../../../utils/geometry/delta-apply.js';\n\n/**\n * Returns a boolean stating whether or not we converted the projection\n * to relative projection.\n */\nfunction convertToRelativeProjection(visualElement, isLayoutDrag) {\n  if (isLayoutDrag === void 0) {\n    isLayoutDrag = true;\n  }\n  var projectionParent = visualElement.getProjectionParent();\n  if (!projectionParent) return false;\n  var offset;\n  if (isLayoutDrag) {\n    offset = calcRelativeOffset(projectionParent.projection.target, visualElement.projection.target);\n    removeBoxTransforms(offset, projectionParent.getLatestValues());\n  } else {\n    offset = calcRelativeOffset(projectionParent.getLayoutState().layout, visualElement.getLayoutState().layout);\n  }\n  eachAxis(function (axis) {\n    return visualElement.setProjectionTargetAxis(axis, offset[axis].min, offset[axis].max, true);\n  });\n  return true;\n}\nexport { convertToRelativeProjection };","import { useDrag } from '../../gestures/drag/use-drag.js';\nimport { usePanGesture } from '../../gestures/use-pan-gesture.js';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.js';\nvar drag = {\n  pan: makeRenderlessComponent(usePanGesture),\n  drag: makeRenderlessComponent(useDrag)\n};\nexport { drag };","import { useRef, useContext, useEffect } from 'react';\nimport { MotionConfigContext } from '../context/MotionConfigContext.js';\nimport { useUnmountEffect } from '../utils/use-unmount-effect.js';\nimport { usePointerEvent } from '../events/use-pointer-event.js';\nimport { PanSession } from './PanSession.js';\n\n/**\n *\n * @param handlers -\n * @param ref -\n *\n * @internalremarks\n * Currently this sets new pan gesture functions every render. The memo route has been explored\n * in the past but ultimately we're still creating new functions every render. An optimisation\n * to explore is creating the pan gestures and loading them into a `ref`.\n *\n * @internal\n */\nfunction usePanGesture(_a) {\n  var onPan = _a.onPan,\n    onPanStart = _a.onPanStart,\n    onPanEnd = _a.onPanEnd,\n    onPanSessionStart = _a.onPanSessionStart,\n    visualElement = _a.visualElement;\n  var hasPanEvents = onPan || onPanStart || onPanEnd || onPanSessionStart;\n  var panSession = useRef(null);\n  var transformPagePoint = useContext(MotionConfigContext).transformPagePoint;\n  var handlers = {\n    onSessionStart: onPanSessionStart,\n    onStart: onPanStart,\n    onMove: onPan,\n    onEnd: function onEnd(event, info) {\n      panSession.current = null;\n      onPanEnd && onPanEnd(event, info);\n    }\n  };\n  useEffect(function () {\n    if (panSession.current !== null) {\n      panSession.current.updateHandlers(handlers);\n    }\n  });\n  function onPointerDown(event) {\n    panSession.current = new PanSession(event, handlers, {\n      transformPagePoint: transformPagePoint\n    });\n  }\n  usePointerEvent(visualElement, \"pointerdown\", hasPanEvents && onPointerDown);\n  useUnmountEffect(function () {\n    return panSession.current && panSession.current.end();\n  });\n}\nexport { usePanGesture };","import { __assign } from 'tslib';\nimport { useContext, useEffect } from 'react';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.js';\nimport { VisualElementDragControls } from './VisualElementDragControls.js';\nimport { useConstant } from '../../utils/use-constant.js';\n\n/**\n * A hook that allows an element to be dragged.\n *\n * @internal\n */\nfunction useDrag(props) {\n  var groupDragControls = props.dragControls,\n    visualElement = props.visualElement;\n  var transformPagePoint = useContext(MotionConfigContext).transformPagePoint;\n  var dragControls = useConstant(function () {\n    return new VisualElementDragControls({\n      visualElement: visualElement\n    });\n  });\n  dragControls.setProps(__assign(__assign({}, props), {\n    transformPagePoint: transformPagePoint\n  }));\n  // If we've been provided a DragControls for manual control over the drag gesture,\n  // subscribe this component to it on mount.\n  useEffect(function () {\n    return groupDragControls && groupDragControls.subscribe(dragControls);\n  }, [dragControls]);\n  // Mount the drag controls with the visualElement\n  useEffect(function () {\n    return dragControls.mount(visualElement);\n  }, []);\n}\nexport { useDrag };","import { __rest, __assign, __read } from 'tslib';\nimport { invariant } from 'hey-listen';\nfunction isCSSVariable(value) {\n  return typeof value === \"string\" && value.startsWith(\"var(--\");\n}\n/**\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n * @param current\n */\nvar cssVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\nfunction parseCSSVariable(current) {\n  var match = cssVariableRegex.exec(current);\n  if (!match) return [,];\n  var _a = __read(match, 3),\n    token = _a[1],\n    fallback = _a[2];\n  return [token, fallback];\n}\nvar maxDepth = 4;\nfunction getVariableValue(current, element, depth) {\n  if (depth === void 0) {\n    depth = 1;\n  }\n  invariant(depth <= maxDepth, \"Max CSS variable fallback depth detected in property \\\"\" + current + \"\\\". This may indicate a circular fallback dependency.\");\n  var _a = __read(parseCSSVariable(current), 2),\n    token = _a[0],\n    fallback = _a[1];\n  // No CSS variable detected\n  if (!token) return;\n  // Attempt to read this CSS variable off the element\n  var resolved = window.getComputedStyle(element).getPropertyValue(token);\n  if (resolved) {\n    return resolved.trim();\n  } else if (isCSSVariable(fallback)) {\n    // The fallback might itself be a CSS variable, in which case we attempt to resolve it too.\n    return getVariableValue(fallback, element, depth + 1);\n  } else {\n    return fallback;\n  }\n}\n/**\n * Resolve CSS variables from\n *\n * @internal\n */\nfunction resolveCSSVariables(visualElement, _a, transitionEnd) {\n  var _b;\n  var target = __rest(_a, []);\n  var element = visualElement.getInstance();\n  if (!(element instanceof HTMLElement)) return {\n    target: target,\n    transitionEnd: transitionEnd\n  };\n  // If `transitionEnd` isn't `undefined`, clone it. We could clone `target` and `transitionEnd`\n  // only if they change but I think this reads clearer and this isn't a performance-critical path.\n  if (transitionEnd) {\n    transitionEnd = __assign({}, transitionEnd);\n  }\n  // Go through existing `MotionValue`s and ensure any existing CSS variables are resolved\n  visualElement.forEachValue(function (value) {\n    var current = value.get();\n    if (!isCSSVariable(current)) return;\n    var resolved = getVariableValue(current, element);\n    if (resolved) value.set(resolved);\n  });\n  // Cycle through every target property and resolve CSS variables. Currently\n  // we only read single-var properties like `var(--foo)`, not `calc(var(--foo) + 20px)`\n  for (var key in target) {\n    var current = target[key];\n    if (!isCSSVariable(current)) continue;\n    var resolved = getVariableValue(current, element);\n    if (!resolved) continue;\n    // Clone target if it hasn't already been\n    target[key] = resolved;\n    // If the user hasn't already set this key on `transitionEnd`, set it to the unresolved\n    // CSS variable. This will ensure that after the animation the component will reflect\n    // changes in the value of the CSS variable.\n    if (transitionEnd) (_b = transitionEnd[key]) !== null && _b !== void 0 ? _b : transitionEnd[key] = current;\n  }\n  return {\n    target: target,\n    transitionEnd: transitionEnd\n  };\n}\nexport { cssVariableRegex, parseCSSVariable, resolveCSSVariables };","import { __assign } from 'tslib';\nimport { complex, px } from 'style-value-types';\nimport { mix } from 'popmotion';\nimport { cssVariableRegex } from '../utils/css-variables-conversion.js';\nfunction pixelsToPercent(pixels, axis) {\n  return pixels / (axis.max - axis.min) * 100;\n}\n/**\n * We always correct borderRadius as a percentage rather than pixels to reduce paints.\n * For example, if you are projecting a box that is 100px wide with a 10px borderRadius\n * into a box that is 200px wide with a 20px borderRadius, that is actually a 10%\n * borderRadius in both states. If we animate between the two in pixels that will trigger\n * a paint each time. If we animate between the two in percentage we'll avoid a paint.\n */\nfunction correctBorderRadius(latest, _layoutState, _a) {\n  var target = _a.target;\n  /**\n   * If latest is a string, if it's a percentage we can return immediately as it's\n   * going to be stretched appropriately. Otherwise, if it's a pixel, convert it to a number.\n   */\n  if (typeof latest === \"string\") {\n    if (px.test(latest)) {\n      latest = parseFloat(latest);\n    } else {\n      return latest;\n    }\n  }\n  /**\n   * If latest is a number, it's a pixel value. We use the current viewportBox to calculate that\n   * pixel value as a percentage of each axis\n   */\n  var x = pixelsToPercent(latest, target.x);\n  var y = pixelsToPercent(latest, target.y);\n  return x + \"% \" + y + \"%\";\n}\nvar varToken = \"_$css\";\nfunction correctBoxShadow(latest, _a) {\n  var delta = _a.delta,\n    treeScale = _a.treeScale;\n  var original = latest;\n  /**\n   * We need to first strip and store CSS variables from the string.\n   */\n  var containsCSSVariables = latest.includes(\"var(\");\n  var cssVariables = [];\n  if (containsCSSVariables) {\n    latest = latest.replace(cssVariableRegex, function (match) {\n      cssVariables.push(match);\n      return varToken;\n    });\n  }\n  var shadow = complex.parse(latest);\n  // TODO: Doesn't support multiple shadows\n  if (shadow.length > 5) return original;\n  var template = complex.createTransformer(latest);\n  var offset = typeof shadow[0] !== \"number\" ? 1 : 0;\n  // Calculate the overall context scale\n  var xScale = delta.x.scale * treeScale.x;\n  var yScale = delta.y.scale * treeScale.y;\n  shadow[0 + offset] /= xScale;\n  shadow[1 + offset] /= yScale;\n  /**\n   * Ideally we'd correct x and y scales individually, but because blur and\n   * spread apply to both we have to take a scale average and apply that instead.\n   * We could potentially improve the outcome of this by incorporating the ratio between\n   * the two scales.\n   */\n  var averageScale = mix(xScale, yScale, 0.5);\n  // Blur\n  if (typeof shadow[2 + offset] === \"number\") shadow[2 + offset] /= averageScale;\n  // Spread\n  if (typeof shadow[3 + offset] === \"number\") shadow[3 + offset] /= averageScale;\n  var output = template(shadow);\n  if (containsCSSVariables) {\n    var i_1 = 0;\n    output = output.replace(varToken, function () {\n      var cssVariable = cssVariables[i_1];\n      i_1++;\n      return cssVariable;\n    });\n  }\n  return output;\n}\nvar borderCorrectionDefinition = {\n  process: correctBorderRadius\n};\nvar defaultScaleCorrectors = {\n  borderRadius: __assign(__assign({}, borderCorrectionDefinition), {\n    applyTo: [\"borderTopLeftRadius\", \"borderTopRightRadius\", \"borderBottomLeftRadius\", \"borderBottomRightRadius\"]\n  }),\n  borderTopLeftRadius: borderCorrectionDefinition,\n  borderTopRightRadius: borderCorrectionDefinition,\n  borderBottomLeftRadius: borderCorrectionDefinition,\n  borderBottomRightRadius: borderCorrectionDefinition,\n  boxShadow: {\n    process: correctBoxShadow\n  }\n};\nexport { correctBorderRadius, correctBoxShadow, defaultScaleCorrectors, pixelsToPercent };","import { __extends, __rest, __assign, __read } from 'tslib';\nimport * as React from 'react';\nimport { eachAxis } from '../../../utils/each-axis.js';\nimport { startAnimation, getValueTransition } from '../../../animation/utils/transitions.js';\nimport { checkIfParentHasChanged, calcRelativeOffset, tweenAxis } from './utils.js';\nimport { VisibilityAction } from '../../../components/AnimateSharedLayout/types.js';\nimport { usePresence } from '../../../components/AnimatePresence/use-presence.js';\nimport { axisBox } from '../../../utils/geometry/index.js';\nimport { addScaleCorrection } from '../../../render/dom/projection/scale-correction.js';\nimport { defaultScaleCorrectors } from '../../../render/dom/projection/default-scale-correctors.js';\nvar progressTarget = 1000;\nvar Animate = /** @class */function (_super) {\n  __extends(Animate, _super);\n  function Animate() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\n     * A mutable object that tracks the target viewport box\n     * for the current animation frame.\n     */\n    _this.frameTarget = axisBox();\n    /**\n     * The current animation target, we use this to check whether to start\n     * a new animation or continue the existing one.\n     */\n    _this.currentAnimationTarget = axisBox();\n    /**\n     * Track whether we're animating this axis.\n     */\n    _this.isAnimating = {\n      x: false,\n      y: false\n    };\n    _this.stopAxisAnimation = {\n      x: undefined,\n      y: undefined\n    };\n    _this.isAnimatingTree = false;\n    _this.animate = function (target, origin, _a) {\n      if (_a === void 0) {\n        _a = {};\n      }\n      var originBox = _a.originBox,\n        targetBox = _a.targetBox,\n        visibilityAction = _a.visibilityAction,\n        shouldStackAnimate = _a.shouldStackAnimate,\n        onComplete = _a.onComplete,\n        prevParent = _a.prevParent,\n        config = __rest(_a, [\"originBox\", \"targetBox\", \"visibilityAction\", \"shouldStackAnimate\", \"onComplete\", \"prevParent\"]);\n      var _b = _this.props,\n        visualElement = _b.visualElement,\n        layout = _b.layout;\n      /**\n       * Early return if we've been instructed not to animate this render.\n       */\n      if (shouldStackAnimate === false) {\n        _this.isAnimatingTree = false;\n        return _this.safeToRemove();\n      }\n      /**\n       * Prioritise tree animations\n       */\n      if (_this.isAnimatingTree && shouldStackAnimate !== true) {\n        return;\n      } else if (shouldStackAnimate) {\n        _this.isAnimatingTree = true;\n      }\n      /**\n       * Allow the measured origin (prev bounding box) and target (actual layout) to be\n       * overridden by the provided config.\n       */\n      origin = originBox || origin;\n      target = targetBox || target;\n      /**\n       * If this element has a projecting parent, there's an opportunity to animate\n       * it relatively to that parent rather than relatively to the viewport. This\n       * allows us to add orchestrated animations.\n       */\n      var isRelative = false;\n      var projectionParent = visualElement.getProjectionParent();\n      if (projectionParent) {\n        var prevParentViewportBox = projectionParent.prevViewportBox;\n        var parentLayout = projectionParent.getLayoutState().layout;\n        /**\n         * If we're being provided a previous parent VisualElement by AnimateSharedLayout\n         */\n        if (prevParent) {\n          /**\n           * If we've been provided an explicit target box it means we're animating back\n           * to this previous parent. So we can make a relative box by comparing to the previous\n           * parent's layout\n           */\n          if (targetBox) {\n            parentLayout = prevParent.getLayoutState().layout;\n          }\n          /**\n           * Likewise if we've been provided an explicit origin box it means we're\n           * animating out from a different element. So we should figure out where that was\n           * on screen relative to the new parent element.\n           */\n          if (originBox && !checkIfParentHasChanged(prevParent, projectionParent) && prevParent.prevViewportBox) {\n            prevParentViewportBox = prevParent.prevViewportBox;\n          }\n        }\n        if (prevParentViewportBox && isProvidedCorrectDataForRelativeSharedLayout(prevParent, originBox, targetBox)) {\n          isRelative = true;\n          origin = calcRelativeOffset(prevParentViewportBox, origin);\n          target = calcRelativeOffset(parentLayout, target);\n        }\n      }\n      var boxHasMoved = hasMoved(origin, target);\n      var animations = eachAxis(function (axis) {\n        var _a, _b;\n        /**\n         * If layout is set to \"position\", we can resize the origin box based on the target\n         * box and only animate its position.\n         */\n        if (layout === \"position\") {\n          var targetLength = target[axis].max - target[axis].min;\n          origin[axis].max = origin[axis].min + targetLength;\n        }\n        if (visualElement.projection.isTargetLocked) {\n          return;\n        } else if (visibilityAction !== undefined) {\n          visualElement.setVisibility(visibilityAction === VisibilityAction.Show);\n        } else if (boxHasMoved) {\n          // If the box has moved, animate between it's current visual state and its\n          // final state\n          return _this.animateAxis(axis, target[axis], origin[axis], __assign(__assign({}, config), {\n            isRelative: isRelative\n          }));\n        } else {\n          (_b = (_a = _this.stopAxisAnimation)[axis]) === null || _b === void 0 ? void 0 : _b.call(_a);\n          // If the box has remained in the same place, immediately set the axis target\n          // to the final desired state\n          return visualElement.setProjectionTargetAxis(axis, target[axis].min, target[axis].max, isRelative);\n        }\n      });\n      // Force a render to ensure there's no flash of uncorrected bounding box.\n      visualElement.syncRender();\n      /**\n       * If this visualElement isn't present (ie it's been removed from the tree by the user but\n       * kept in by the tree by AnimatePresence) then call safeToRemove when all axis animations\n       * have successfully finished.\n       */\n      return Promise.all(animations).then(function () {\n        _this.isAnimatingTree = false;\n        onComplete && onComplete();\n        visualElement.notifyLayoutAnimationComplete();\n      });\n    };\n    return _this;\n  }\n  Animate.prototype.componentDidMount = function () {\n    var _this = this;\n    var visualElement = this.props.visualElement;\n    visualElement.animateMotionValue = startAnimation;\n    visualElement.enableLayoutProjection();\n    this.unsubLayoutReady = visualElement.onLayoutUpdate(this.animate);\n    visualElement.layoutSafeToRemove = function () {\n      return _this.safeToRemove();\n    };\n    addScaleCorrection(defaultScaleCorrectors);\n  };\n  Animate.prototype.componentWillUnmount = function () {\n    var _this = this;\n    this.unsubLayoutReady();\n    eachAxis(function (axis) {\n      var _a, _b;\n      return (_b = (_a = _this.stopAxisAnimation)[axis]) === null || _b === void 0 ? void 0 : _b.call(_a);\n    });\n  };\n  /**\n   * TODO: This manually performs animations on the visualElement's layout progress\n   * values. It'd be preferable to amend the startLayoutAxisAnimation\n   * API to accept more custom animations like this.\n   */\n  Animate.prototype.animateAxis = function (axis, target, origin, _a) {\n    var _this = this;\n    var _b, _c;\n    var _d = _a === void 0 ? {} : _a,\n      transition = _d.transition,\n      isRelative = _d.isRelative;\n    /**\n     * If we're not animating to a new target, don't run this animation\n     */\n    if (this.isAnimating[axis] && axisIsEqual(target, this.currentAnimationTarget[axis])) {\n      return;\n    }\n    (_c = (_b = this.stopAxisAnimation)[axis]) === null || _c === void 0 ? void 0 : _c.call(_b);\n    this.isAnimating[axis] = true;\n    var visualElement = this.props.visualElement;\n    var frameTarget = this.frameTarget[axis];\n    var layoutProgress = visualElement.getProjectionAnimationProgress()[axis];\n    /**\n     * Set layout progress back to 0. We set it twice to hard-reset any velocity that might\n     * be re-incoporated into a subsequent spring animation.\n     */\n    layoutProgress.clearListeners();\n    layoutProgress.set(0);\n    layoutProgress.set(0);\n    /**\n     * Create an animation function to run once per frame. This will tween the visual bounding box from\n     * origin to target using the latest progress value.\n     */\n    var frame = function frame() {\n      // Convert the latest layoutProgress, which is a value from 0-1000, into a 0-1 progress\n      var p = layoutProgress.get() / progressTarget;\n      // Tween the axis and update the visualElement with the latest values\n      tweenAxis(frameTarget, origin, target, p);\n      visualElement.setProjectionTargetAxis(axis, frameTarget.min, frameTarget.max, isRelative);\n    };\n    // Synchronously run a frame to ensure there's no flash of the uncorrected bounding box.\n    frame();\n    // Create a function to stop animation on this specific axis\n    var unsubscribeProgress = layoutProgress.onChange(frame);\n    this.stopAxisAnimation[axis] = function () {\n      _this.isAnimating[axis] = false;\n      layoutProgress.stop();\n      unsubscribeProgress();\n    };\n    this.currentAnimationTarget[axis] = target;\n    var layoutTransition = transition || visualElement.getDefaultTransition() || defaultLayoutTransition;\n    // Start the animation on this axis\n    var animation = startAnimation(axis === \"x\" ? \"layoutX\" : \"layoutY\", layoutProgress, progressTarget, layoutTransition && getValueTransition(layoutTransition, \"layout\")).then(this.stopAxisAnimation[axis]);\n    return animation;\n  };\n  Animate.prototype.safeToRemove = function () {\n    var _a, _b;\n    (_b = (_a = this.props).safeToRemove) === null || _b === void 0 ? void 0 : _b.call(_a);\n  };\n  Animate.prototype.render = function () {\n    return null;\n  };\n  return Animate;\n}(React.Component);\nfunction AnimateLayoutContextProvider(props) {\n  var _a = __read(usePresence(), 2),\n    safeToRemove = _a[1];\n  return React.createElement(Animate, __assign({}, props, {\n    safeToRemove: safeToRemove\n  }));\n}\nfunction hasMoved(a, b) {\n  return !isZeroBox(a) && !isZeroBox(b) && (!axisIsEqual(a.x, b.x) || !axisIsEqual(a.y, b.y));\n}\nvar zeroAxis = {\n  min: 0,\n  max: 0\n};\nfunction isZeroBox(a) {\n  return axisIsEqual(a.x, zeroAxis) && axisIsEqual(a.y, zeroAxis);\n}\nfunction axisIsEqual(a, b) {\n  return a.min === b.min && a.max === b.max;\n}\nvar defaultLayoutTransition = {\n  duration: 0.45,\n  ease: [0.4, 0, 0.1, 1]\n};\nfunction isProvidedCorrectDataForRelativeSharedLayout(prevParent, originBox, targetBox) {\n  return prevParent || !prevParent && !(originBox || targetBox);\n}\nexport { AnimateLayoutContextProvider };","import { __extends, __assign } from 'tslib';\nimport React__default, { useContext } from 'react';\nimport { isSharedLayout, SharedLayoutContext, FramerTreeLayoutContext } from '../../../context/SharedLayoutContext.js';\nimport { snapshotViewportBox } from '../../../render/dom/projection/utils.js';\n\n/**\n * This component is responsible for scheduling the measuring of the motion component\n */\nvar Measure = /** @class */function (_super) {\n  __extends(Measure, _super);\n  function Measure() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * If this is a child of a SyncContext, register the VisualElement with it on mount.\n   */\n  Measure.prototype.componentDidMount = function () {\n    var _a = this.props,\n      syncLayout = _a.syncLayout,\n      framerSyncLayout = _a.framerSyncLayout,\n      visualElement = _a.visualElement;\n    isSharedLayout(syncLayout) && syncLayout.register(visualElement);\n    isSharedLayout(framerSyncLayout) && framerSyncLayout.register(visualElement);\n    visualElement.onUnmount(function () {\n      if (isSharedLayout(syncLayout)) {\n        syncLayout.remove(visualElement);\n      }\n      if (isSharedLayout(framerSyncLayout)) {\n        framerSyncLayout.remove(visualElement);\n      }\n    });\n  };\n  /**\n   * If this is a child of a SyncContext, notify it that it needs to re-render. It will then\n   * handle the snapshotting.\n   *\n   * If it is stand-alone component, add it to the batcher.\n   */\n  Measure.prototype.getSnapshotBeforeUpdate = function () {\n    var _a = this.props,\n      syncLayout = _a.syncLayout,\n      visualElement = _a.visualElement;\n    if (isSharedLayout(syncLayout)) {\n      syncLayout.syncUpdate();\n    } else {\n      snapshotViewportBox(visualElement);\n      syncLayout.add(visualElement);\n    }\n    return null;\n  };\n  Measure.prototype.componentDidUpdate = function () {\n    var syncLayout = this.props.syncLayout;\n    if (!isSharedLayout(syncLayout)) syncLayout.flush();\n  };\n  Measure.prototype.render = function () {\n    return null;\n  };\n  return Measure;\n}(React__default.Component);\nfunction MeasureContextProvider(props) {\n  var syncLayout = useContext(SharedLayoutContext);\n  var framerSyncLayout = useContext(FramerTreeLayoutContext);\n  return React__default.createElement(Measure, __assign({}, props, {\n    syncLayout: syncLayout,\n    framerSyncLayout: framerSyncLayout\n  }));\n}\nexport { MeasureContextProvider };","import { AnimateLayoutContextProvider } from './Animate.js';\nimport { MeasureContextProvider } from './Measure.js';\nvar layoutAnimations = {\n  measureLayout: MeasureContextProvider,\n  layoutAnimation: AnimateLayoutContextProvider\n};\nexport { layoutAnimations };","import { axisBox, delta } from '../../utils/geometry/index.js';\nvar createProjectionState = function createProjectionState() {\n  return {\n    isEnabled: false,\n    isHydrated: false,\n    isTargetLocked: false,\n    target: axisBox(),\n    targetFinal: axisBox()\n  };\n};\nfunction createLayoutState() {\n  return {\n    isHydrated: false,\n    layout: axisBox(),\n    layoutCorrected: axisBox(),\n    treeScale: {\n      x: 1,\n      y: 1\n    },\n    delta: delta(),\n    deltaFinal: delta(),\n    deltaTransform: \"\"\n  };\n}\nvar zeroLayout = createLayoutState();\nexport { createLayoutState, createProjectionState, zeroLayout };","import { zeroLayout } from '../../utils/state.js';\n\n/**\n * Build a transform style that takes a calculated delta between the element's current\n * space on screen and projects it into the desired space.\n */\nfunction buildLayoutProjectionTransform(_a, treeScale, latestTransform) {\n  var x = _a.x,\n    y = _a.y;\n  /**\n   * The translations we use to calculate are always relative to the viewport coordinate space.\n   * But when we apply scales, we also scale the coordinate space of an element and its children.\n   * For instance if we have a treeScale (the culmination of all parent scales) of 0.5 and we need\n   * to move an element 100 pixels, we actually need to move it 200 in within that scaled space.\n   */\n  var xTranslate = x.translate / treeScale.x;\n  var yTranslate = y.translate / treeScale.y;\n  var transform = \"translate3d(\" + xTranslate + \"px, \" + yTranslate + \"px, 0) \";\n  if (latestTransform) {\n    var rotate = latestTransform.rotate,\n      rotateX = latestTransform.rotateX,\n      rotateY = latestTransform.rotateY;\n    if (rotate) transform += \"rotate(\" + rotate + \") \";\n    if (rotateX) transform += \"rotateX(\" + rotateX + \") \";\n    if (rotateY) transform += \"rotateY(\" + rotateY + \") \";\n  }\n  transform += \"scale(\" + x.scale + \", \" + y.scale + \")\";\n  return !latestTransform && transform === identityProjection ? \"\" : transform;\n}\n/**\n * Take the calculated delta origin and apply it as a transform string.\n */\nfunction buildLayoutProjectionTransformOrigin(_a) {\n  var deltaFinal = _a.deltaFinal;\n  return deltaFinal.x.origin * 100 + \"% \" + deltaFinal.y.origin * 100 + \"% 0\";\n}\nvar identityProjection = buildLayoutProjectionTransform(zeroLayout.delta, zeroLayout.treeScale, {\n  x: 1,\n  y: 1\n});\nexport { buildLayoutProjectionTransform, buildLayoutProjectionTransformOrigin, identityProjection };","import { __spreadArray, __read } from 'tslib';\nimport { SubscriptionManager } from '../../utils/subscription-manager.js';\nvar names = [\"LayoutMeasure\", \"BeforeLayoutMeasure\", \"LayoutUpdate\", \"ViewportBoxUpdate\", \"Update\", \"Render\", \"AnimationComplete\", \"LayoutAnimationComplete\", \"AnimationStart\", \"SetAxisTarget\", \"Unmount\"];\nfunction createLifecycles() {\n  var managers = names.map(function () {\n    return new SubscriptionManager();\n  });\n  var propSubscriptions = {};\n  var lifecycles = {\n    clearAllListeners: function clearAllListeners() {\n      return managers.forEach(function (manager) {\n        return manager.clear();\n      });\n    },\n    updatePropListeners: function updatePropListeners(props) {\n      return names.forEach(function (name) {\n        var _a;\n        (_a = propSubscriptions[name]) === null || _a === void 0 ? void 0 : _a.call(propSubscriptions);\n        var on = \"on\" + name;\n        var propListener = props[on];\n        if (propListener) {\n          propSubscriptions[name] = lifecycles[on](propListener);\n        }\n      });\n    }\n  };\n  managers.forEach(function (manager, i) {\n    lifecycles[\"on\" + names[i]] = function (handler) {\n      return manager.add(handler);\n    };\n    lifecycles[\"notify\" + names[i]] = function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return manager.notify.apply(manager, __spreadArray([], __read(args)));\n    };\n  });\n  return lifecycles;\n}\nexport { createLifecycles };","import { resetBox, applyTreeDeltas } from '../../utils/geometry/delta-apply.js';\nimport { updateBoxDelta } from '../../utils/geometry/delta-calc.js';\nfunction updateLayoutDeltas(_a, _b, treePath, transformOrigin) {\n  var delta = _a.delta,\n    layout = _a.layout,\n    layoutCorrected = _a.layoutCorrected,\n    treeScale = _a.treeScale;\n  var target = _b.target;\n  /**\n   * Reset the corrected box with the latest values from box, as we're then going\n   * to perform mutative operations on it.\n   */\n  resetBox(layoutCorrected, layout);\n  /**\n   * Apply all the parent deltas to this box to produce the corrected box. This\n   * is the layout box, as it will appear on screen as a result of the transforms of its parents.\n   */\n  applyTreeDeltas(layoutCorrected, treeScale, treePath);\n  /**\n   * Update the delta between the corrected box and the target box before user-set transforms were applied.\n   * This will allow us to calculate the corrected borderRadius and boxShadow to compensate\n   * for our layout reprojection, but still allow them to be scaled correctly by the user.\n   * It might be that to simplify this we may want to accept that user-set scale is also corrected\n   * and we wouldn't have to keep and calc both deltas, OR we could support a user setting\n   * to allow people to choose whether these styles are corrected based on just the\n   * layout reprojection or the final bounding box.\n   */\n  updateBoxDelta(delta, layoutCorrected, target, transformOrigin);\n}\nexport { updateLayoutDeltas };","import { addUniqueItem, removeItem } from '../../utils/array.js';\nimport { compareByDepth } from './compare-by-depth.js';\nvar FlatTree = /** @class */function () {\n  function FlatTree() {\n    this.children = [];\n    this.isDirty = false;\n  }\n  FlatTree.prototype.add = function (child) {\n    addUniqueItem(this.children, child);\n    this.isDirty = true;\n  };\n  FlatTree.prototype.remove = function (child) {\n    removeItem(this.children, child);\n    this.isDirty = true;\n  };\n  FlatTree.prototype.forEach = function (callback) {\n    this.isDirty && this.children.sort(compareByDepth);\n    this.isDirty = false;\n    this.children.forEach(callback);\n  };\n  return FlatTree;\n}();\nexport { FlatTree };","import { __assign, __spreadArray, __read } from 'tslib';\nimport sync, { cancelSync } from 'framesync';\nimport { pipe } from 'popmotion';\nimport { Presence } from '../components/AnimateSharedLayout/types.js';\nimport { eachAxis } from '../utils/each-axis.js';\nimport { axisBox } from '../utils/geometry/index.js';\nimport { removeBoxTransforms, applyBoxTransforms } from '../utils/geometry/delta-apply.js';\nimport { calcRelativeBox, updateBoxDelta } from '../utils/geometry/delta-calc.js';\nimport { motionValue } from '../value/index.js';\nimport { isMotionValue } from '../value/utils/is-motion-value.js';\nimport { buildLayoutProjectionTransform } from './html/utils/build-projection-transform.js';\nimport { variantPriorityOrder } from './utils/animation-state.js';\nimport { createLifecycles } from './utils/lifecycles.js';\nimport { updateMotionValuesFromProps } from './utils/motion-values.js';\nimport { updateLayoutDeltas } from './utils/projection.js';\nimport { createLayoutState, createProjectionState } from './utils/state.js';\nimport { FlatTree } from './utils/flat-tree.js';\nimport { checkIfControllingVariants, checkIfVariantNode, isVariantLabel } from './utils/variants.js';\nimport { setCurrentViewportBox } from './dom/projection/relative-set.js';\nimport { isDraggable } from './utils/is-draggable.js';\nvar visualElement = function visualElement(_a) {\n  var _b = _a.treeType,\n    treeType = _b === void 0 ? \"\" : _b,\n    build = _a.build,\n    _getBaseTarget = _a.getBaseTarget,\n    _makeTargetAnimatable = _a.makeTargetAnimatable,\n    _measureViewportBox = _a.measureViewportBox,\n    renderInstance = _a.render,\n    readValueFromInstance = _a.readValueFromInstance,\n    _resetTransform = _a.resetTransform,\n    _restoreTransform = _a.restoreTransform,\n    removeValueFromRenderState = _a.removeValueFromRenderState,\n    _sortNodePosition = _a.sortNodePosition,\n    scrapeMotionValuesFromProps = _a.scrapeMotionValuesFromProps;\n  return function (_a, options) {\n    var parent = _a.parent,\n      props = _a.props,\n      presenceId = _a.presenceId,\n      blockInitialAnimation = _a.blockInitialAnimation,\n      visualState = _a.visualState;\n    if (options === void 0) {\n      options = {};\n    }\n    var latestValues = visualState.latestValues,\n      renderState = visualState.renderState;\n    /**\n     * The instance of the render-specific node that will be hydrated by the\n     * exposed React ref. So for example, this visual element can host a\n     * HTMLElement, plain object, or Three.js object. The functions provided\n     * in VisualElementConfig allow us to interface with this instance.\n     */\n    var instance;\n    /**\n     * Manages the subscriptions for a visual element's lifecycle, for instance\n     * onRender and onViewportBoxUpdate.\n     */\n    var lifecycles = createLifecycles();\n    /**\n     *\n     */\n    var projection = createProjectionState();\n    /**\n     * A reference to the nearest projecting parent. This is either\n     * undefined if we haven't looked for the nearest projecting parent,\n     * false if there is no parent performing layout projection, or a reference\n     * to the projecting parent.\n     */\n    var projectionParent;\n    /**\n     * This is a reference to the visual state of the \"lead\" visual element.\n     * Usually, this will be this visual element. But if it shares a layoutId\n     * with other visual elements, only one of them will be designated lead by\n     * AnimateSharedLayout. All the other visual elements will take on the visual\n     * appearance of the lead while they crossfade to it.\n     */\n    var leadProjection = projection;\n    var leadLatestValues = latestValues;\n    var unsubscribeFromLeadVisualElement;\n    /**\n     * The latest layout measurements and calculated projections. This\n     * is seperate from the target projection data in visualState as\n     * many visual elements might point to the same piece of visualState as\n     * a target, whereas they might each have different layouts and thus\n     * projection calculations needed to project into the same viewport box.\n     */\n    var layoutState = createLayoutState();\n    /**\n     *\n     */\n    var crossfader;\n    /**\n     * Keep track of whether the viewport box has been updated since the\n     * last time the layout projection was re-calculated.\n     */\n    var hasViewportBoxUpdated = false;\n    /**\n     * A map of all motion values attached to this visual element. Motion\n     * values are source of truth for any given animated value. A motion\n     * value might be provided externally by the component via props.\n     */\n    var values = new Map();\n    /**\n     * A map of every subscription that binds the provided or generated\n     * motion values onChange listeners to this visual element.\n     */\n    var valueSubscriptions = new Map();\n    /**\n     * A reference to the previously-provided motion values as returned\n     * from scrapeMotionValuesFromProps. We use the keys in here to determine\n     * if any motion values need to be removed after props are updated.\n     */\n    var prevMotionValues = {};\n    /**\n     * x/y motion values that track the progress of initiated layout\n     * animations.\n     *\n     * TODO: Target for removal\n     */\n    var projectionTargetProgress;\n    /**\n     * When values are removed from all animation props we need to search\n     * for a fallback value to animate to. These values are tracked in baseTarget.\n     */\n    var baseTarget = __assign({}, latestValues);\n    // Internal methods ========================\n    /**\n     * On mount, this will be hydrated with a callback to disconnect\n     * this visual element from its parent on unmount.\n     */\n    var removeFromVariantTree;\n    /**\n     *\n     */\n    function render() {\n      if (!instance) return;\n      if (element.isProjectionReady()) {\n        /**\n         * Apply the latest user-set transforms to the targetBox to produce the targetBoxFinal.\n         * This is the final box that we will then project into by calculating a transform delta and\n         * applying it to the corrected box.\n         */\n        applyBoxTransforms(leadProjection.targetFinal, leadProjection.target, leadLatestValues);\n        /**\n         * Update the delta between the corrected box and the final target box, after\n         * user-set transforms are applied to it. This will be used by the renderer to\n         * create a transform style that will reproject the element from its actual layout\n         * into the desired bounding box.\n         */\n        updateBoxDelta(layoutState.deltaFinal, layoutState.layoutCorrected, leadProjection.targetFinal, latestValues);\n      }\n      triggerBuild();\n      renderInstance(instance, renderState);\n    }\n    function triggerBuild() {\n      var valuesToRender = latestValues;\n      if (crossfader && crossfader.isActive()) {\n        var crossfadedValues = crossfader.getCrossfadeState(element);\n        if (crossfadedValues) valuesToRender = crossfadedValues;\n      }\n      build(element, renderState, valuesToRender, leadProjection, layoutState, options, props);\n    }\n    function update() {\n      lifecycles.notifyUpdate(latestValues);\n    }\n    function updateLayoutProjection() {\n      if (!element.isProjectionReady()) return;\n      var delta = layoutState.delta,\n        treeScale = layoutState.treeScale;\n      var prevTreeScaleX = treeScale.x;\n      var prevTreeScaleY = treeScale.y;\n      var prevDeltaTransform = layoutState.deltaTransform;\n      updateLayoutDeltas(layoutState, leadProjection, element.path, latestValues);\n      hasViewportBoxUpdated && element.notifyViewportBoxUpdate(leadProjection.target, delta);\n      hasViewportBoxUpdated = false;\n      var deltaTransform = buildLayoutProjectionTransform(delta, treeScale);\n      if (deltaTransform !== prevDeltaTransform ||\n      // Also compare calculated treeScale, for values that rely on this only for scale correction\n      prevTreeScaleX !== treeScale.x || prevTreeScaleY !== treeScale.y) {\n        element.scheduleRender();\n      }\n      layoutState.deltaTransform = deltaTransform;\n    }\n    function _updateTreeLayoutProjection() {\n      element.layoutTree.forEach(fireUpdateLayoutProjection);\n    }\n    /**\n     *\n     */\n    function bindToMotionValue(key, value) {\n      var removeOnChange = value.onChange(function (latestValue) {\n        latestValues[key] = latestValue;\n        props.onUpdate && sync.update(update, false, true);\n      });\n      var removeOnRenderRequest = value.onRenderRequest(element.scheduleRender);\n      valueSubscriptions.set(key, function () {\n        removeOnChange();\n        removeOnRenderRequest();\n      });\n    }\n    /**\n     * Any motion values that are provided to the element when created\n     * aren't yet bound to the element, as this would technically be impure.\n     * However, we iterate through the motion values and set them to the\n     * initial values for this component.\n     *\n     * TODO: This is impure and we should look at changing this to run on mount.\n     * Doing so will break some tests but this isn't neccessarily a breaking change,\n     * more a reflection of the test.\n     */\n    var initialMotionValues = scrapeMotionValuesFromProps(props);\n    for (var key in initialMotionValues) {\n      var value = initialMotionValues[key];\n      if (latestValues[key] !== undefined && isMotionValue(value)) {\n        value.set(latestValues[key], false);\n      }\n    }\n    /**\n     * Determine what role this visual element should take in the variant tree.\n     */\n    var isControllingVariants = checkIfControllingVariants(props);\n    var isVariantNode = checkIfVariantNode(props);\n    var element = __assign(__assign({\n      treeType: treeType,\n      /**\n       * This is a mirror of the internal instance prop, which keeps\n       * VisualElement type-compatible with React's RefObject.\n       */\n      current: null,\n      /**\n       * The depth of this visual element within the visual element tree.\n       */\n      depth: parent ? parent.depth + 1 : 0,\n      parent: parent,\n      children: new Set(),\n      /**\n       * An ancestor path back to the root visual element. This is used\n       * by layout projection to quickly recurse back up the tree.\n       */\n      path: parent ? __spreadArray(__spreadArray([], __read(parent.path)), [parent]) : [],\n      layoutTree: parent ? parent.layoutTree : new FlatTree(),\n      /**\n       *\n       */\n      presenceId: presenceId,\n      projection: projection,\n      /**\n       * If this component is part of the variant tree, it should track\n       * any children that are also part of the tree. This is essentially\n       * a shadow tree to simplify logic around how to stagger over children.\n       */\n      variantChildren: isVariantNode ? new Set() : undefined,\n      /**\n       * Whether this instance is visible. This can be changed imperatively\n       * by AnimateSharedLayout, is analogous to CSS's visibility in that\n       * hidden elements should take up layout, and needs enacting by the configured\n       * render function.\n       */\n      isVisible: undefined,\n      /**\n       * Normally, if a component is controlled by a parent's variants, it can\n       * rely on that ancestor to trigger animations further down the tree.\n       * However, if a component is created after its parent is mounted, the parent\n       * won't trigger that mount animation so the child needs to.\n       *\n       * TODO: This might be better replaced with a method isParentMounted\n       */\n      manuallyAnimateOnMount: Boolean(parent === null || parent === void 0 ? void 0 : parent.isMounted()),\n      /**\n       * This can be set by AnimatePresence to force components that mount\n       * at the same time as it to mount as if they have initial={false} set.\n       */\n      blockInitialAnimation: blockInitialAnimation,\n      /**\n       * Determine whether this component has mounted yet. This is mostly used\n       * by variant children to determine whether they need to trigger their\n       * own animations on mount.\n       */\n      isMounted: function isMounted() {\n        return Boolean(instance);\n      },\n      mount: function mount(newInstance) {\n        instance = element.current = newInstance;\n        element.pointTo(element);\n        if (isVariantNode && parent && !isControllingVariants) {\n          removeFromVariantTree = parent === null || parent === void 0 ? void 0 : parent.addVariantChild(element);\n        }\n        parent === null || parent === void 0 ? void 0 : parent.children.add(element);\n      },\n      /**\n       *\n       */\n      unmount: function unmount() {\n        cancelSync.update(update);\n        cancelSync.render(render);\n        cancelSync.preRender(element.updateLayoutProjection);\n        valueSubscriptions.forEach(function (remove) {\n          return remove();\n        });\n        element.stopLayoutAnimation();\n        element.layoutTree.remove(element);\n        removeFromVariantTree === null || removeFromVariantTree === void 0 ? void 0 : removeFromVariantTree();\n        parent === null || parent === void 0 ? void 0 : parent.children.delete(element);\n        unsubscribeFromLeadVisualElement === null || unsubscribeFromLeadVisualElement === void 0 ? void 0 : unsubscribeFromLeadVisualElement();\n        lifecycles.clearAllListeners();\n      },\n      /**\n       * Add a child visual element to our set of children.\n       */\n      addVariantChild: function addVariantChild(child) {\n        var _a;\n        var closestVariantNode = element.getClosestVariantNode();\n        if (closestVariantNode) {\n          (_a = closestVariantNode.variantChildren) === null || _a === void 0 ? void 0 : _a.add(child);\n          return function () {\n            return closestVariantNode.variantChildren.delete(child);\n          };\n        }\n      },\n      sortNodePosition: function sortNodePosition(other) {\n        /**\n         * If these nodes aren't even of the same type we can't compare their depth.\n         */\n        if (!_sortNodePosition || treeType !== other.treeType) return 0;\n        return _sortNodePosition(element.getInstance(), other.getInstance());\n      },\n      /**\n       * Returns the closest variant node in the tree starting from\n       * this visual element.\n       */\n      getClosestVariantNode: function getClosestVariantNode() {\n        return isVariantNode ? element : parent === null || parent === void 0 ? void 0 : parent.getClosestVariantNode();\n      },\n      /**\n       * A method that schedules an update to layout projections throughout\n       * the tree. We inherit from the parent so there's only ever one\n       * job scheduled on the next frame - that of the root visual element.\n       */\n      scheduleUpdateLayoutProjection: parent ? parent.scheduleUpdateLayoutProjection : function () {\n        return sync.preRender(element.updateTreeLayoutProjection, false, true);\n      },\n      /**\n       * Expose the latest layoutId prop.\n       */\n      getLayoutId: function getLayoutId() {\n        return props.layoutId;\n      },\n      /**\n       * Returns the current instance.\n       */\n      getInstance: function getInstance() {\n        return instance;\n      },\n      /**\n       * Get/set the latest static values.\n       */\n      getStaticValue: function getStaticValue(key) {\n        return latestValues[key];\n      },\n      setStaticValue: function setStaticValue(key, value) {\n        return latestValues[key] = value;\n      },\n      /**\n       * Returns the latest motion value state. Currently only used to take\n       * a snapshot of the visual element - perhaps this can return the whole\n       * visual state\n       */\n      getLatestValues: function getLatestValues() {\n        return latestValues;\n      },\n      /**\n       * Set the visiblity of the visual element. If it's changed, schedule\n       * a render to reflect these changes.\n       */\n      setVisibility: function setVisibility(visibility) {\n        if (element.isVisible === visibility) return;\n        element.isVisible = visibility;\n        element.scheduleRender();\n      },\n      /**\n       * Make a target animatable by Popmotion. For instance, if we're\n       * trying to animate width from 100px to 100vw we need to measure 100vw\n       * in pixels to determine what we really need to animate to. This is also\n       * pluggable to support Framer's custom value types like Color,\n       * and CSS variables.\n       */\n      makeTargetAnimatable: function makeTargetAnimatable(target, canMutate) {\n        if (canMutate === void 0) {\n          canMutate = true;\n        }\n        return _makeTargetAnimatable(element, target, props, canMutate);\n      },\n      // Motion values ========================\n      /**\n       * Add a motion value and bind it to this visual element.\n       */\n      addValue: function addValue(key, value) {\n        // Remove existing value if it exists\n        if (element.hasValue(key)) element.removeValue(key);\n        values.set(key, value);\n        latestValues[key] = value.get();\n        bindToMotionValue(key, value);\n      },\n      /**\n       * Remove a motion value and unbind any active subscriptions.\n       */\n      removeValue: function removeValue(key) {\n        var _a;\n        values.delete(key);\n        (_a = valueSubscriptions.get(key)) === null || _a === void 0 ? void 0 : _a();\n        valueSubscriptions.delete(key);\n        delete latestValues[key];\n        removeValueFromRenderState(key, renderState);\n      },\n      /**\n       * Check whether we have a motion value for this key\n       */\n      hasValue: function hasValue(key) {\n        return values.has(key);\n      },\n      /**\n       * Get a motion value for this key. If called with a default\n       * value, we'll create one if none exists.\n       */\n      getValue: function getValue(key, defaultValue) {\n        var value = values.get(key);\n        if (value === undefined && defaultValue !== undefined) {\n          value = motionValue(defaultValue);\n          element.addValue(key, value);\n        }\n        return value;\n      },\n      /**\n       * Iterate over our motion values.\n       */\n      forEachValue: function forEachValue(callback) {\n        return values.forEach(callback);\n      },\n      /**\n       * If we're trying to animate to a previously unencountered value,\n       * we need to check for it in our state and as a last resort read it\n       * directly from the instance (which might have performance implications).\n       */\n      readValue: function readValue(key) {\n        var _a;\n        return (_a = latestValues[key]) !== null && _a !== void 0 ? _a : readValueFromInstance(instance, key, options);\n      },\n      /**\n       * Set the base target to later animate back to. This is currently\n       * only hydrated on creation and when we first read a value.\n       */\n      setBaseTarget: function setBaseTarget(key, value) {\n        baseTarget[key] = value;\n      },\n      /**\n       * Find the base target for a value thats been removed from all animation\n       * props.\n       */\n      getBaseTarget: function getBaseTarget(key) {\n        if (_getBaseTarget) {\n          var target = _getBaseTarget(props, key);\n          if (target !== undefined && !isMotionValue(target)) return target;\n        }\n        return baseTarget[key];\n      }\n    }, lifecycles), {\n      /**\n       * Build the renderer state based on the latest visual state.\n       */\n      build: function build() {\n        triggerBuild();\n        return renderState;\n      },\n      /**\n       * Schedule a render on the next animation frame.\n       */\n      scheduleRender: function scheduleRender() {\n        sync.render(render, false, true);\n      },\n      /**\n       * Synchronously fire render. It's prefered that we batch renders but\n       * in many circumstances, like layout measurement, we need to run this\n       * synchronously. However in those instances other measures should be taken\n       * to batch reads/writes.\n       */\n      syncRender: render,\n      /**\n       * Update the provided props. Ensure any newly-added motion values are\n       * added to our map, old ones removed, and listeners updated.\n       */\n      setProps: function setProps(newProps) {\n        props = newProps;\n        lifecycles.updatePropListeners(newProps);\n        prevMotionValues = updateMotionValuesFromProps(element, scrapeMotionValuesFromProps(props), prevMotionValues);\n      },\n      getProps: function getProps() {\n        return props;\n      },\n      // Variants ==============================\n      /**\n       * Returns the variant definition with a given name.\n       */\n      getVariant: function getVariant(name) {\n        var _a;\n        return (_a = props.variants) === null || _a === void 0 ? void 0 : _a[name];\n      },\n      /**\n       * Returns the defined default transition on this component.\n       */\n      getDefaultTransition: function getDefaultTransition() {\n        return props.transition;\n      },\n      /**\n       * Used by child variant nodes to get the closest ancestor variant props.\n       */\n      getVariantContext: function getVariantContext(startAtParent) {\n        if (startAtParent === void 0) {\n          startAtParent = false;\n        }\n        if (startAtParent) return parent === null || parent === void 0 ? void 0 : parent.getVariantContext();\n        if (!isControllingVariants) {\n          var context_1 = (parent === null || parent === void 0 ? void 0 : parent.getVariantContext()) || {};\n          if (props.initial !== undefined) {\n            context_1.initial = props.initial;\n          }\n          return context_1;\n        }\n        var context = {};\n        for (var i = 0; i < numVariantProps; i++) {\n          var name_1 = variantProps[i];\n          var prop = props[name_1];\n          if (isVariantLabel(prop) || prop === false) {\n            context[name_1] = prop;\n          }\n        }\n        return context;\n      },\n      // Layout projection ==============================\n      /**\n       * Enable layout projection for this visual element. Won't actually\n       * occur until we also have hydrated layout measurements.\n       */\n      enableLayoutProjection: function enableLayoutProjection() {\n        projection.isEnabled = true;\n        element.layoutTree.add(element);\n      },\n      /**\n       * Lock the projection target, for instance when dragging, so\n       * nothing else can try and animate it.\n       */\n      lockProjectionTarget: function lockProjectionTarget() {\n        projection.isTargetLocked = true;\n      },\n      unlockProjectionTarget: function unlockProjectionTarget() {\n        element.stopLayoutAnimation();\n        projection.isTargetLocked = false;\n      },\n      getLayoutState: function getLayoutState() {\n        return layoutState;\n      },\n      setCrossfader: function setCrossfader(newCrossfader) {\n        crossfader = newCrossfader;\n      },\n      isProjectionReady: function isProjectionReady() {\n        return projection.isEnabled && projection.isHydrated && layoutState.isHydrated;\n      },\n      /**\n       * Start a layout animation on a given axis.\n       */\n      startLayoutAnimation: function startLayoutAnimation(axis, transition, isRelative) {\n        if (isRelative === void 0) {\n          isRelative = false;\n        }\n        var progress = element.getProjectionAnimationProgress()[axis];\n        var _a = isRelative ? projection.relativeTarget[axis] : projection.target[axis],\n          min = _a.min,\n          max = _a.max;\n        var length = max - min;\n        progress.clearListeners();\n        progress.set(min);\n        progress.set(min); // Set twice to hard-reset velocity\n        progress.onChange(function (v) {\n          element.setProjectionTargetAxis(axis, v, v + length, isRelative);\n        });\n        return element.animateMotionValue(axis, progress, 0, transition);\n      },\n      /**\n       * Stop layout animations.\n       */\n      stopLayoutAnimation: function stopLayoutAnimation() {\n        eachAxis(function (axis) {\n          return element.getProjectionAnimationProgress()[axis].stop();\n        });\n      },\n      /**\n       * Measure the current viewport box with or without transforms.\n       * Only measures axis-aligned boxes, rotate and skew must be manually\n       * removed with a re-render to work.\n       */\n      measureViewportBox: function measureViewportBox(withTransform) {\n        if (withTransform === void 0) {\n          withTransform = true;\n        }\n        var viewportBox = _measureViewportBox(instance, options);\n        if (!withTransform) removeBoxTransforms(viewportBox, latestValues);\n        return viewportBox;\n      },\n      /**\n       * Get the motion values tracking the layout animations on each\n       * axis. Lazy init if not already created.\n       */\n      getProjectionAnimationProgress: function getProjectionAnimationProgress() {\n        projectionTargetProgress || (projectionTargetProgress = {\n          x: motionValue(0),\n          y: motionValue(0)\n        });\n        return projectionTargetProgress;\n      },\n      /**\n       * Update the projection of a single axis. Schedule an update to\n       * the tree layout projection.\n       */\n      setProjectionTargetAxis: function setProjectionTargetAxis(axis, min, max, isRelative) {\n        if (isRelative === void 0) {\n          isRelative = false;\n        }\n        var target;\n        if (isRelative) {\n          if (!projection.relativeTarget) {\n            projection.relativeTarget = axisBox();\n          }\n          target = projection.relativeTarget[axis];\n        } else {\n          projection.relativeTarget = undefined;\n          target = projection.target[axis];\n        }\n        projection.isHydrated = true;\n        target.min = min;\n        target.max = max;\n        // Flag that we want to fire the onViewportBoxUpdate event handler\n        hasViewportBoxUpdated = true;\n        lifecycles.notifySetAxisTarget();\n      },\n      /**\n       * Rebase the projection target on top of the provided viewport box\n       * or the measured layout. This ensures that non-animating elements\n       * don't fall out of sync differences in measurements vs projections\n       * after a page scroll or other relayout.\n       */\n      rebaseProjectionTarget: function rebaseProjectionTarget(force, box) {\n        if (box === void 0) {\n          box = layoutState.layout;\n        }\n        var _a = element.getProjectionAnimationProgress(),\n          x = _a.x,\n          y = _a.y;\n        var shouldRebase = !projection.relativeTarget && !projection.isTargetLocked && !x.isAnimating() && !y.isAnimating();\n        if (force || shouldRebase) {\n          eachAxis(function (axis) {\n            var _a = box[axis],\n              min = _a.min,\n              max = _a.max;\n            element.setProjectionTargetAxis(axis, min, max);\n          });\n        }\n      },\n      /**\n       * Notify the visual element that its layout is up-to-date.\n       * Currently Animate.tsx uses this to check whether a layout animation\n       * needs to be performed.\n       */\n      notifyLayoutReady: function notifyLayoutReady(config) {\n        setCurrentViewportBox(element);\n        element.notifyLayoutUpdate(layoutState.layout, element.prevViewportBox || layoutState.layout, config);\n      },\n      /**\n       * Temporarily reset the transform of the instance.\n       */\n      resetTransform: function resetTransform() {\n        return _resetTransform(element, instance, props);\n      },\n      restoreTransform: function restoreTransform() {\n        return _restoreTransform(instance, renderState);\n      },\n      updateLayoutProjection: updateLayoutProjection,\n      updateTreeLayoutProjection: function updateTreeLayoutProjection() {\n        element.layoutTree.forEach(fireResolveRelativeTargetBox);\n        /**\n         * Schedule the projection updates at the end of the current preRender\n         * step. This will ensure that all layout trees will first resolve\n         * relative projection boxes into viewport boxes, and *then*\n         * update projections.\n         */\n        sync.preRender(_updateTreeLayoutProjection, false, true);\n        // sync.postRender(() => element.scheduleUpdateLayoutProjection())\n      },\n\n      getProjectionParent: function getProjectionParent() {\n        if (projectionParent === undefined) {\n          var foundParent = false;\n          // Search backwards through the tree path\n          for (var i = element.path.length - 1; i >= 0; i--) {\n            var ancestor = element.path[i];\n            if (ancestor.projection.isEnabled) {\n              foundParent = ancestor;\n              break;\n            }\n          }\n          projectionParent = foundParent;\n        }\n        return projectionParent;\n      },\n      resolveRelativeTargetBox: function resolveRelativeTargetBox() {\n        var relativeParent = element.getProjectionParent();\n        if (!projection.relativeTarget || !relativeParent) return;\n        calcRelativeBox(projection, relativeParent.projection);\n        if (isDraggable(relativeParent)) {\n          var target = projection.target;\n          applyBoxTransforms(target, target, relativeParent.getLatestValues());\n        }\n      },\n      shouldResetTransform: function shouldResetTransform() {\n        return Boolean(props._layoutResetTransform);\n      },\n      /**\n       *\n       */\n      pointTo: function pointTo(newLead) {\n        leadProjection = newLead.projection;\n        leadLatestValues = newLead.getLatestValues();\n        /**\n         * Subscribe to lead component's layout animations\n         */\n        unsubscribeFromLeadVisualElement === null || unsubscribeFromLeadVisualElement === void 0 ? void 0 : unsubscribeFromLeadVisualElement();\n        unsubscribeFromLeadVisualElement = pipe(newLead.onSetAxisTarget(element.scheduleUpdateLayoutProjection), newLead.onLayoutAnimationComplete(function () {\n          var _a;\n          if (element.isPresent) {\n            element.presence = Presence.Present;\n          } else {\n            (_a = element.layoutSafeToRemove) === null || _a === void 0 ? void 0 : _a.call(element);\n          }\n        }));\n      },\n      // TODO: Clean this up\n      isPresent: true,\n      presence: Presence.Entering\n    });\n    return element;\n  };\n};\nfunction fireResolveRelativeTargetBox(child) {\n  child.resolveRelativeTargetBox();\n}\nfunction fireUpdateLayoutProjection(child) {\n  child.updateLayoutProjection();\n}\nvar variantProps = __spreadArray([\"initial\"], __read(variantPriorityOrder));\nvar numVariantProps = variantProps.length;\nexport { visualElement };","import { motionValue } from '../../value/index.js';\nimport { isMotionValue } from '../../value/utils/is-motion-value.js';\nfunction updateMotionValuesFromProps(element, next, prev) {\n  var _a;\n  for (var key in next) {\n    var nextValue = next[key];\n    var prevValue = prev[key];\n    if (isMotionValue(nextValue)) {\n      /**\n       * If this is a motion value found in props or style, we want to add it\n       * to our visual element's motion value map.\n       */\n      element.addValue(key, nextValue);\n    } else if (isMotionValue(prevValue)) {\n      /**\n       * If we're swapping to a new motion value, create a new motion value\n       * from that\n       */\n      element.addValue(key, motionValue(nextValue));\n    } else if (prevValue !== nextValue) {\n      /**\n       * If this is a flat value that has changed, update the motion value\n       * or create one if it doesn't exist. We only want to do this if we're\n       * not handling the value with our animation state.\n       */\n      if (element.hasValue(key)) {\n        var existingValue = element.getValue(key);\n        // TODO: Only update values that aren't being animated or even looked at\n        !existingValue.hasAnimated && existingValue.set(nextValue);\n      } else {\n        element.addValue(key, motionValue((_a = element.getStaticValue(key)) !== null && _a !== void 0 ? _a : nextValue));\n      }\n    }\n  }\n  // Handle removed values\n  for (var key in prev) {\n    if (next[key] === undefined) element.removeValue(key);\n  }\n  return next;\n}\nexport { updateMotionValuesFromProps };","import { calcRelativeOffset } from '../../../motion/features/layout/utils.js';\nimport { eachAxis } from '../../../utils/each-axis.js';\nfunction setCurrentViewportBox(visualElement) {\n  var projectionParent = visualElement.getProjectionParent();\n  if (!projectionParent) {\n    visualElement.rebaseProjectionTarget();\n    return;\n  }\n  var relativeOffset = calcRelativeOffset(projectionParent.getLayoutState().layout, visualElement.getLayoutState().layout);\n  eachAxis(function (axis) {\n    visualElement.setProjectionTargetAxis(axis, relativeOffset[axis].min, relativeOffset[axis].max, true);\n  });\n}\nexport { setCurrentViewportBox };","import { __assign, __read } from 'tslib';\nimport { number, px } from 'style-value-types';\nimport { isKeyframesTarget } from '../../../animation/utils/is-keyframes-target.js';\nimport { invariant } from 'hey-listen';\nimport { transformProps } from '../../html/utils/transform.js';\nimport { findDimensionValueType } from '../value-types/dimensions.js';\nvar positionalKeys = new Set([\"width\", \"height\", \"top\", \"left\", \"right\", \"bottom\", \"x\", \"y\"]);\nvar isPositionalKey = function isPositionalKey(key) {\n  return positionalKeys.has(key);\n};\nvar hasPositionalKey = function hasPositionalKey(target) {\n  return Object.keys(target).some(isPositionalKey);\n};\nvar setAndResetVelocity = function setAndResetVelocity(value, to) {\n  // Looks odd but setting it twice doesn't render, it'll just\n  // set both prev and current to the latest value\n  value.set(to, false);\n  value.set(to);\n};\nvar isNumOrPxType = function isNumOrPxType(v) {\n  return v === number || v === px;\n};\nvar BoundingBoxDimension;\n(function (BoundingBoxDimension) {\n  BoundingBoxDimension[\"width\"] = \"width\";\n  BoundingBoxDimension[\"height\"] = \"height\";\n  BoundingBoxDimension[\"left\"] = \"left\";\n  BoundingBoxDimension[\"right\"] = \"right\";\n  BoundingBoxDimension[\"top\"] = \"top\";\n  BoundingBoxDimension[\"bottom\"] = \"bottom\";\n})(BoundingBoxDimension || (BoundingBoxDimension = {}));\nvar getPosFromMatrix = function getPosFromMatrix(matrix, pos) {\n  return parseFloat(matrix.split(\", \")[pos]);\n};\nvar getTranslateFromMatrix = function getTranslateFromMatrix(pos2, pos3) {\n  return function (_bbox, _a) {\n    var transform = _a.transform;\n    if (transform === \"none\" || !transform) return 0;\n    var matrix3d = transform.match(/^matrix3d\\((.+)\\)$/);\n    if (matrix3d) {\n      return getPosFromMatrix(matrix3d[1], pos3);\n    } else {\n      var matrix = transform.match(/^matrix\\((.+)\\)$/);\n      if (matrix) {\n        return getPosFromMatrix(matrix[1], pos2);\n      } else {\n        return 0;\n      }\n    }\n  };\n};\nvar transformKeys = new Set([\"x\", \"y\", \"z\"]);\nvar nonTranslationalTransformKeys = transformProps.filter(function (key) {\n  return !transformKeys.has(key);\n});\nfunction removeNonTranslationalTransform(visualElement) {\n  var removedTransforms = [];\n  nonTranslationalTransformKeys.forEach(function (key) {\n    var value = visualElement.getValue(key);\n    if (value !== undefined) {\n      removedTransforms.push([key, value.get()]);\n      value.set(key.startsWith(\"scale\") ? 1 : 0);\n    }\n  });\n  // Apply changes to element before measurement\n  if (removedTransforms.length) visualElement.syncRender();\n  return removedTransforms;\n}\nvar positionalValues = {\n  // Dimensions\n  width: function width(_a) {\n    var x = _a.x;\n    return x.max - x.min;\n  },\n  height: function height(_a) {\n    var y = _a.y;\n    return y.max - y.min;\n  },\n  top: function top(_bbox, _a) {\n    var top = _a.top;\n    return parseFloat(top);\n  },\n  left: function left(_bbox, _a) {\n    var left = _a.left;\n    return parseFloat(left);\n  },\n  bottom: function bottom(_a, _b) {\n    var y = _a.y;\n    var top = _b.top;\n    return parseFloat(top) + (y.max - y.min);\n  },\n  right: function right(_a, _b) {\n    var x = _a.x;\n    var left = _b.left;\n    return parseFloat(left) + (x.max - x.min);\n  },\n  // Transform\n  x: getTranslateFromMatrix(4, 13),\n  y: getTranslateFromMatrix(5, 14)\n};\nvar convertChangedValueTypes = function convertChangedValueTypes(target, visualElement, changedKeys) {\n  var originBbox = visualElement.measureViewportBox();\n  var element = visualElement.getInstance();\n  var elementComputedStyle = getComputedStyle(element);\n  var display = elementComputedStyle.display,\n    top = elementComputedStyle.top,\n    left = elementComputedStyle.left,\n    bottom = elementComputedStyle.bottom,\n    right = elementComputedStyle.right,\n    transform = elementComputedStyle.transform;\n  var originComputedStyle = {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    transform: transform\n  };\n  // If the element is currently set to display: \"none\", make it visible before\n  // measuring the target bounding box\n  if (display === \"none\") {\n    visualElement.setStaticValue(\"display\", target.display || \"block\");\n  }\n  // Apply the latest values (as set in checkAndConvertChangedValueTypes)\n  visualElement.syncRender();\n  var targetBbox = visualElement.measureViewportBox();\n  changedKeys.forEach(function (key) {\n    // Restore styles to their **calculated computed style**, not their actual\n    // originally set style. This allows us to animate between equivalent pixel units.\n    var value = visualElement.getValue(key);\n    setAndResetVelocity(value, positionalValues[key](originBbox, originComputedStyle));\n    target[key] = positionalValues[key](targetBbox, elementComputedStyle);\n  });\n  return target;\n};\nvar checkAndConvertChangedValueTypes = function checkAndConvertChangedValueTypes(visualElement, target, origin, transitionEnd) {\n  if (origin === void 0) {\n    origin = {};\n  }\n  if (transitionEnd === void 0) {\n    transitionEnd = {};\n  }\n  target = __assign({}, target);\n  transitionEnd = __assign({}, transitionEnd);\n  var targetPositionalKeys = Object.keys(target).filter(isPositionalKey);\n  // We want to remove any transform values that could affect the element's bounding box before\n  // it's measured. We'll reapply these later.\n  var removedTransformValues = [];\n  var hasAttemptedToRemoveTransformValues = false;\n  var changedValueTypeKeys = [];\n  targetPositionalKeys.forEach(function (key) {\n    var value = visualElement.getValue(key);\n    if (!visualElement.hasValue(key)) return;\n    var from = origin[key];\n    var to = target[key];\n    var fromType = findDimensionValueType(from);\n    var toType;\n    // TODO: The current implementation of this basically throws an error\n    // if you try and do value conversion via keyframes. There's probably\n    // a way of doing this but the performance implications would need greater scrutiny,\n    // as it'd be doing multiple resize-remeasure operations.\n    if (isKeyframesTarget(to)) {\n      var numKeyframes = to.length;\n      for (var i = to[0] === null ? 1 : 0; i < numKeyframes; i++) {\n        if (!toType) {\n          toType = findDimensionValueType(to[i]);\n          invariant(toType === fromType || isNumOrPxType(fromType) && isNumOrPxType(toType), \"Keyframes must be of the same dimension as the current value\");\n        } else {\n          invariant(findDimensionValueType(to[i]) === toType, \"All keyframes must be of the same type\");\n        }\n      }\n    } else {\n      toType = findDimensionValueType(to);\n    }\n    if (fromType !== toType) {\n      // If they're both just number or px, convert them both to numbers rather than\n      // relying on resize/remeasure to convert (which is wasteful in this situation)\n      if (isNumOrPxType(fromType) && isNumOrPxType(toType)) {\n        var current = value.get();\n        if (typeof current === \"string\") {\n          value.set(parseFloat(current));\n        }\n        if (typeof to === \"string\") {\n          target[key] = parseFloat(to);\n        } else if (Array.isArray(to) && toType === px) {\n          target[key] = to.map(parseFloat);\n        }\n      } else if ((fromType === null || fromType === void 0 ? void 0 : fromType.transform) && (toType === null || toType === void 0 ? void 0 : toType.transform) && (from === 0 || to === 0)) {\n        // If one or the other value is 0, it's safe to coerce it to the\n        // type of the other without measurement\n        if (from === 0) {\n          value.set(toType.transform(from));\n        } else {\n          target[key] = fromType.transform(to);\n        }\n      } else {\n        // If we're going to do value conversion via DOM measurements, we first\n        // need to remove non-positional transform values that could affect the bbox measurements.\n        if (!hasAttemptedToRemoveTransformValues) {\n          removedTransformValues = removeNonTranslationalTransform(visualElement);\n          hasAttemptedToRemoveTransformValues = true;\n        }\n        changedValueTypeKeys.push(key);\n        transitionEnd[key] = transitionEnd[key] !== undefined ? transitionEnd[key] : target[key];\n        setAndResetVelocity(value, to);\n      }\n    }\n  });\n  if (changedValueTypeKeys.length) {\n    var convertedTarget = convertChangedValueTypes(target, visualElement, changedValueTypeKeys);\n    // If we removed transform values, reapply them before the next render\n    if (removedTransformValues.length) {\n      removedTransformValues.forEach(function (_a) {\n        var _b = __read(_a, 2),\n          key = _b[0],\n          value = _b[1];\n        visualElement.getValue(key).set(value);\n      });\n    }\n    // Reapply original values\n    visualElement.syncRender();\n    return {\n      target: convertedTarget,\n      transitionEnd: transitionEnd\n    };\n  } else {\n    return {\n      target: target,\n      transitionEnd: transitionEnd\n    };\n  }\n};\n/**\n * Convert value types for x/y/width/height/top/left/bottom/right\n *\n * Allows animation between `'auto'` -> `'100%'` or `0` -> `'calc(50% - 10vw)'`\n *\n * @internal\n */\nfunction unitConversion(visualElement, target, origin, transitionEnd) {\n  return hasPositionalKey(target) ? checkAndConvertChangedValueTypes(visualElement, target, origin, transitionEnd) : {\n    target: target,\n    transitionEnd: transitionEnd\n  };\n}\nexport { BoundingBoxDimension, unitConversion };","import { resolveCSSVariables } from './css-variables-conversion.js';\nimport { unitConversion } from './unit-conversion.js';\n\n/**\n * Parse a DOM variant to make it animatable. This involves resolving CSS variables\n * and ensuring animations like \"20%\" => \"calc(50vw)\" are performed in pixels.\n */\nvar parseDomVariant = function parseDomVariant(visualElement, target, origin, transitionEnd) {\n  var resolved = resolveCSSVariables(visualElement, target, transitionEnd);\n  target = resolved.target;\n  transitionEnd = resolved.transitionEnd;\n  return unitConversion(visualElement, target, origin, transitionEnd);\n};\nexport { parseDomVariant };","import { __rest, __assign } from 'tslib';\nimport { visualElement } from '../index.js';\nimport { getOrigin, checkTargetForNewValues } from '../utils/setters.js';\nimport { getBoundingBox } from '../dom/projection/measure.js';\nimport { buildHTMLStyles } from './utils/build-styles.js';\nimport { isCSSVariable } from '../dom/utils/is-css-variable.js';\nimport { parseDomVariant } from '../dom/utils/parse-dom-variant.js';\nimport { isTransformProp } from './utils/transform.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { renderHTML } from './utils/render.js';\nimport { getDefaultValueType } from '../dom/value-types/defaults.js';\nimport { buildLayoutProjectionTransformOrigin, buildLayoutProjectionTransform } from './utils/build-projection-transform.js';\nfunction getComputedStyle(element) {\n  return window.getComputedStyle(element);\n}\nvar htmlConfig = {\n  treeType: \"dom\",\n  readValueFromInstance: function readValueFromInstance(domElement, key) {\n    if (isTransformProp(key)) {\n      var defaultType = getDefaultValueType(key);\n      return defaultType ? defaultType.default || 0 : 0;\n    } else {\n      var computedStyle = getComputedStyle(domElement);\n      return (isCSSVariable(key) ? computedStyle.getPropertyValue(key) : computedStyle[key]) || 0;\n    }\n  },\n  sortNodePosition: function sortNodePosition(a, b) {\n    /**\n     * compareDocumentPosition returns a bitmask, by using the bitwise &\n     * we're returning true if 2 in that bitmask is set to true. 2 is set\n     * to true if b preceeds a.\n     */\n    return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n  },\n  getBaseTarget: function getBaseTarget(props, key) {\n    var _a;\n    return (_a = props.style) === null || _a === void 0 ? void 0 : _a[key];\n  },\n  measureViewportBox: function measureViewportBox(element, _a) {\n    var transformPagePoint = _a.transformPagePoint;\n    return getBoundingBox(element, transformPagePoint);\n  },\n  /**\n   * Reset the transform on the current Element. This is called as part\n   * of a batched process across the entire layout tree. To remove this write\n   * cycle it'd be interesting to see if it's possible to \"undo\" all the current\n   * layout transforms up the tree in the same way this.getBoundingBoxWithoutTransforms\n   * works\n   */\n  resetTransform: function resetTransform(element, domElement, props) {\n    var transformTemplate = props.transformTemplate;\n    domElement.style.transform = transformTemplate ? transformTemplate({}, \"\") : \"none\";\n    // Ensure that whatever happens next, we restore our transform on the next frame\n    element.scheduleRender();\n  },\n  restoreTransform: function restoreTransform(instance, mutableState) {\n    instance.style.transform = mutableState.style.transform;\n  },\n  removeValueFromRenderState: function removeValueFromRenderState(key, _a) {\n    var vars = _a.vars,\n      style = _a.style;\n    delete vars[key];\n    delete style[key];\n  },\n  /**\n   * Ensure that HTML and Framer-specific value types like `px`->`%` and `Color`\n   * can be animated by Motion.\n   */\n  makeTargetAnimatable: function makeTargetAnimatable(element, _a, _b, isMounted) {\n    var transformValues = _b.transformValues;\n    if (isMounted === void 0) {\n      isMounted = true;\n    }\n    var transition = _a.transition,\n      transitionEnd = _a.transitionEnd,\n      target = __rest(_a, [\"transition\", \"transitionEnd\"]);\n    var origin = getOrigin(target, transition || {}, element);\n    /**\n     * If Framer has provided a function to convert `Color` etc value types, convert them\n     */\n    if (transformValues) {\n      if (transitionEnd) transitionEnd = transformValues(transitionEnd);\n      if (target) target = transformValues(target);\n      if (origin) origin = transformValues(origin);\n    }\n    if (isMounted) {\n      checkTargetForNewValues(element, target, origin);\n      var parsed = parseDomVariant(element, target, origin, transitionEnd);\n      transitionEnd = parsed.transitionEnd;\n      target = parsed.target;\n    }\n    return __assign({\n      transition: transition,\n      transitionEnd: transitionEnd\n    }, target);\n  },\n  scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n  build: function build(element, renderState, latestValues, projection, layoutState, options, props) {\n    if (element.isVisible !== undefined) {\n      renderState.style.visibility = element.isVisible ? \"visible\" : \"hidden\";\n    }\n    var isProjectionTranform = projection.isEnabled && layoutState.isHydrated;\n    buildHTMLStyles(renderState, latestValues, projection, layoutState, options, props.transformTemplate, isProjectionTranform ? buildLayoutProjectionTransform : undefined, isProjectionTranform ? buildLayoutProjectionTransformOrigin : undefined);\n  },\n  render: renderHTML\n};\nvar htmlVisualElement = visualElement(htmlConfig);\nexport { getComputedStyle, htmlConfig, htmlVisualElement };","/**\n * Check if value is a numerical string, ie a string that is purely a number eg \"100\" or \"-100.1\"\n */\nvar isNumericalString = function isNumericalString(v) {\n  return /^\\-?\\d*\\.?\\d+$/.test(v);\n};\nexport { isNumericalString };","import { __assign } from 'tslib';\nimport { visualElement } from '../index.js';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.js';\nimport { htmlConfig } from '../html/visual-element.js';\nimport { buildSVGAttrs } from './utils/build-attrs.js';\nimport { camelToDash } from '../dom/utils/camel-to-dash.js';\nimport { camelCaseAttributes } from './utils/camel-case-attrs.js';\nimport { isTransformProp } from '../html/utils/transform.js';\nimport { renderSVG } from './utils/render.js';\nimport { getDefaultValueType } from '../dom/value-types/defaults.js';\nimport { buildLayoutProjectionTransformOrigin, buildLayoutProjectionTransform } from '../html/utils/build-projection-transform.js';\nvar svgVisualElement = visualElement(__assign(__assign({}, htmlConfig), {\n  getBaseTarget: function getBaseTarget(props, key) {\n    return props[key];\n  },\n  readValueFromInstance: function readValueFromInstance(domElement, key) {\n    var _a;\n    if (isTransformProp(key)) {\n      return ((_a = getDefaultValueType(key)) === null || _a === void 0 ? void 0 : _a.default) || 0;\n    }\n    key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n    return domElement.getAttribute(key);\n  },\n  scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n  build: function build(_element, renderState, latestValues, projection, layoutState, options, props) {\n    var isProjectionTranform = projection.isEnabled && layoutState.isHydrated;\n    buildSVGAttrs(renderState, latestValues, projection, layoutState, options, props.transformTemplate, isProjectionTranform ? buildLayoutProjectionTransform : undefined, isProjectionTranform ? buildLayoutProjectionTransformOrigin : undefined);\n  },\n  render: renderSVG\n}));\nexport { svgVisualElement };","import { htmlVisualElement } from '../html/visual-element.js';\nimport { svgVisualElement } from '../svg/visual-element.js';\nimport { isSVGComponent } from './utils/is-svg-component.js';\nvar createDomVisualElement = function createDomVisualElement(Component, options) {\n  return isSVGComponent(Component) ? svgVisualElement(options, {\n    enableHardwareAcceleration: false\n  }) : htmlVisualElement(options, {\n    enableHardwareAcceleration: true\n  });\n};\nexport { createDomVisualElement };","import { __assign } from 'tslib';\nimport { createMotionComponent } from '../../motion/index.js';\nimport { createMotionProxy } from './motion-proxy.js';\nimport { createDomMotionConfig } from './utils/create-config.js';\nimport { gestureAnimations } from '../../motion/features/gestures.js';\nimport { animations } from '../../motion/features/animations.js';\nimport { drag } from '../../motion/features/drag.js';\nimport { layoutAnimations } from '../../motion/features/layout/index.js';\nimport { createDomVisualElement } from './create-visual-element.js';\nvar featureBundle = __assign(__assign(__assign(__assign({}, animations), gestureAnimations), drag), layoutAnimations);\n/**\n * HTML & SVG components, optimised for use with gestures and animation. These can be used as\n * drop-in replacements for any HTML & SVG component, all CSS & SVG properties are supported.\n *\n * @public\n */\nvar motion = /*@__PURE__*/createMotionProxy(function (Component, config) {\n  return createDomMotionConfig(Component, config, featureBundle, createDomVisualElement);\n});\n/**\n * Create a DOM `motion` component with the provided string. This is primarily intended\n * as a full alternative to `motion` for consumers who have to support environments that don't\n * support `Proxy`.\n *\n * ```javascript\n * import { createDomMotionComponent } from \"framer-motion\"\n *\n * const motion = {\n *   div: createDomMotionComponent('div')\n * }\n * ```\n *\n * @public\n */\nfunction createDomMotionComponent(key) {\n  return createMotionComponent(createDomMotionConfig(key, {\n    forwardMotionProps: false\n  }, featureBundle, createDomVisualElement));\n}\nexport { createDomMotionComponent, motion };","import { __assign } from 'tslib';\nimport { isSVGComponent } from './is-svg-component.js';\nimport { createUseRender } from '../use-render.js';\nimport { svgMotionConfig } from '../../svg/config-motion.js';\nimport { htmlMotionConfig } from '../../html/config-motion.js';\nfunction createDomMotionConfig(Component, _a, preloadedFeatures, createVisualElement) {\n  var _b = _a.forwardMotionProps,\n    forwardMotionProps = _b === void 0 ? false : _b;\n  var baseConfig = isSVGComponent(Component) ? svgMotionConfig : htmlMotionConfig;\n  return __assign(__assign({}, baseConfig), {\n    preloadedFeatures: preloadedFeatures,\n    useRender: createUseRender(forwardMotionProps),\n    createVisualElement: createVisualElement,\n    Component: Component\n  });\n}\nexport { createDomMotionConfig };","import React from \"react\"\nimport { Link, graphql, navigate } from \"gatsby\"\nimport { motion } from \"framer-motion\"\n\nimport Footer from \"../components/footer\"\nimport NavigationSpacer from \"../components/navigation-spacer\"\nimport Seo from \"../components/seo\"\n\nconst variants = {\n    paragraph: {\n        color: \"var(--color-primary)\",\n        display: \"block\",\n        fontSize: \"1em\",\n        marginTop: \"0.67em\",\n        marginLeft: 0,\n        marginRight: 0,\n        visibility: \"visible\",\n        position: \"absolute\"\n    },\n    header: {\n        color: \"var(--color-title)\",\n        display: \"block\",\n        fontSize: \"2em\",\n        marginTop: \"0.67em\",\n        marginLeft: 0,\n        marginRight: 0,\n        fontWeight: \"bold\",\n        visibility: \"visible\",\n        position: \"absolute\",\n        top: 0\n    },\n    gone: {\n        visibility: \"hidden\"\n    }\n}\n\nconst PostsIndex = ({ data, location }) => {\n    const posts = data.allMdx.nodes\n    const [indexClicked, setIndexClicked] = React.useState(null)\n\n    if (location != null && location.state != null && location.state.slug != null) {\n        setTimeout(function () {\n            setIndexClicked(location.state.slug)\n            navigate(location.state.slug, {replace: true})\n        }, 1250) \n    }\n\n    // resizes spacer div for post titles on render/window resize, due to titles being absolutely positioned\n    // this is janky af, but as along as you don't resize your window repeatedly, you won't run into performance issues. proper fix todo\n    React.useLayoutEffect(() => {\n        const updateOnResize = () => {\n            posts.forEach(post => {\n                var newHeight = document.querySelector('h1[data-slug=\"' + post.fields.slug + '\"]').offsetHeight\n                document.querySelector('div[data-slug=\"' + post.fields.slug + '\"]').setAttribute(\"style\",\"height:\" + newHeight + \"px\")\n            })\n        }\n        updateOnResize()\n        window.addEventListener(\"resize\", updateOnResize)\n        return () => window.removeEventListener(\"resize\", updateOnResize)\n    }, [posts])\n\n    if (posts.length === 0) {\n        return (\n            <div className=\"main-page h-100\">\n                <Seo title=\"Tech Tips\" description=\"See and read all posts from WhiteHoodHacker. I promise I'm not that boring.\" />\n                <div className=\"container-fluid d-flex flex-column main-mh-100\">\n                    <NavigationSpacer />\n                    <div className=\"container flex-grow-1\">\n                        <div className=\"row justify-content-center\">\n                            <div className=\"col-md-10 col-xl-8\">\n                                <p className=\"main-reveal-text-short d-inline-block\">Oops, there are no posts... yet :p</p>\n                            </div>\n                        </div>\n                    </div>\n                    <Footer />\n                </div>\n            </div>\n        )\n    }\n\n    return (\n        <div className=\"main-page h-100\">\n            <Seo title=\"Tech Tips\" />\n            <div className=\"container-fluid d-flex flex-column main-mh-100\">\n                <NavigationSpacer />\n                <div className=\"container flex-grow-1\">\n                <h1>Tech Tips</h1>\n                <p>I document these so I don't forget them.</p>\n                        <div className=\"col-md-10 col-xl-8\">\n                            <ol style={{ listStyle: \"none\", padding: \"0\", position: \"relative\" }}>\n                                {posts.map(post => {\n                                    const title = post.frontmatter.title || post.fields.slug\n\n                                    return (\n                                        <li key={post.fields.slug.toString()}>\n                                            <article\n                                                className=\"post-list-item\"\n                                                itemScope\n                                                itemType=\"http://schema.org/Article\"\n                                            >\n                                                <header>\n                                                    <motion.h1\n                                                        initial=\"paragraph\"\n                                                        exit={ indexClicked === post.fields.slug ? \"header\" : \"gone\" }\n                                                        variants={variants}\n                                                        layout\n                                                        data-slug={post.fields.slug.toString()}\n                                                    >\n                                                        <strong className=\"main-reveal-text-short d-block\">\n                                                            <Link to={post.fields.slug} itemProp=\"url\">\n                                                                    {title}\n                                                            </Link>\n                                                        </strong>\n                                                    </motion.h1>\n                                                    <div style={{ height: \"0em\", paddingTop: \"0em\" }} data-slug={post.fields.slug.toString()}></div>\n                                                </header>\n                                                <motion.section\n                                                    animate={{ opacity: 1 }}\n                                                    exit={{ opacity: 0 }}\n                                                    transition={{ ease: \"circOut\", duration: (indexClicked === post.fields.slug ? 0.2 : 0.0) }}\n                                                    style={{ marginTop: \"0.25em\" }}\n                                                >\n                                                    <div className=\"main-fade-in-animation\" style={{lineHeight:'1em', marginTop:'.5em'}}>\n                                                        <small>{post.frontmatter.description || post.excerpt}</small><br/>\n                                                    </div>\n                                                </motion.section>\n                                            </article>\n                                        </li>\n                                    )\n                                })}\n                            </ol>\n                        </div>\n                </div>\n                <motion.span\n                    animate={{ opacity: 1 }}\n                    exit={{ opacity: 0 }}\n                    transition={{ ease: \"circOut\", duration: (indexClicked != null ? 0.2 : 0.0) }}\n                    style={{ marginTop: \"1em\" }}\n                >\n                    <Footer />\n                </motion.span>\n            </div>\n        </div>\n    )\n}\n\nexport default PostsIndex\n\nexport const pageQuery = graphql`\n    query {\n        site {\n            siteMetadata {\n                title\n            }\n        }\n        allMdx(sort: { fields: [frontmatter___date], order: DESC }) {\n            nodes {\n                timeToRead\n                excerpt\n                fields {\n                    slug\n                }\n                frontmatter {\n                    date(formatString: \"YYYY-MM-DD\")\n                    title\n                    description\n                    image\n                }\n            }\n        }\n    }\n`"],"names":["reactPropsRegex","fn","cache","arg","undefined","prop","test","charCodeAt","Footer","_React$Component","apply","arguments","_inheritsLoose","prototype","render","React","className","target","rel","href","xmlns","width","height","viewBox","d","Date","getFullYear","NavigationSpacer","style","margin","createDefinition","propNames","isEnabled","props","some","name","featureDefinitions","measureLayout","animation","exit","drag","focus","hover","tap","pan","layoutAnimation","LazyContext","createContext","strict","featureNames","Object","keys","numFeatures","length","MotionConfigContext","transformPagePoint","p","isStatic","MotionContext","usePresence","context","useContext","isPresent","onExitComplete","register","id","useUniqueId","useEffect","counter","incrementId","LayoutGroupContext","isBrowser","window","useIsomorphicLayoutEffect","useLayoutEffect","useVisualElement","Component","visualState","createVisualElement","config","lazyContext","parent","visualElement","presenceContext","layoutId","_a","layoutGroupId","useLayoutId","visualElementRef","useRef","renderer","current","presenceId","blockInitialAnimation","initial","setProps","isPresenceRoot","syncRender","animationState","animateChanges","notifyUnmount","isRefObject","ref","hasOwnProperty","call","isVariantLabels","v","Array","isArray","isVariantLabel","resolveVariantFromProps","definition","custom","currentValues","currentVelocity","variants","resolveVariant","getProps","forEachValue","value","key","get","getCurrent","velocity","getVelocity","checkIfControllingVariants","animate","start","whileHover","whileDrag","whileTap","whileFocus","checkIfVariantNode","Boolean","useCreateMotionContext","inherit","getCurrentTreeVariants","useMemo","variantLabelsAsDependency","join","preloadedFeatures","useRender","useVisualState","features","loadFeatures","forwardRef","externalRef","i","name_1","push","useFeatures","Provider","useCallback","instance","mount","unmount","useMotionRef","createMotionProxy","createConfig","customMotionComponentConfig","componentCache","Map","Proxy","_target","has","set","lowercaseSVGElements","isSVGComponent","includes","indexOf","valueScaleCorrection","transformAxes","transformProps","sortTransformProps","a","b","forEach","operationKey","axesKey","transformPropSet","Set","isTransformProp","transformOriginProps","isTransformOriginProp","isForcedMotionValue","layout","isMotionValue","translateAlias","x","y","z","transformPerspective","isCSSVariable","startsWith","getValueAsType","type","transform","clamp","min","max","Math","sanitize","Number","toFixed","floatRegex","colorRegex","singleColorRegex","isString","createUnitType","unit","endsWith","split","parse","parseFloat","degrees","percent","px","vh","vw","progressPercentage","number","alpha","scale","default","round","numberValueTypes","borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderRadius","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","maxWidth","maxHeight","size","top","right","bottom","left","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","marginTop","marginRight","marginBottom","marginLeft","rotate","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","skew","skewX","skewY","distance","translateX","translateY","translateZ","perspective","opacity","originX","originY","originZ","zIndex","fillOpacity","strokeOpacity","numOctaves","buildHTMLStyles","state","latestValues","projection","layoutState","options","transformTemplate","buildProjectionTransform","buildProjectionTransformOrigin","vars","transformKeys","transformOrigin","hasTransform","hasTransformOrigin","transformIsNone","valueType","valueAsType","isHydrated","correctedValue","process","applyTo","num","deltaFinal","treeScale","_b","transformIsDefault","_c","enableHardwareAcceleration","_d","allowTransformNone","transformString","sort","transformHasZ","numTransformKeys","trim","buildTransform","buildTransformOrigin","createHtmlRenderState","copyRawValuesOnly","source","useStyle","assign","useInitialMotionValues","transformValues","useHTMLProps","htmlProps","draggable","userSelect","WebkitUserSelect","WebkitTouchCallout","touchAction","validMotionProps","isValidMotionProp","shouldForward","emotionIsPropValid_1","calcOrigin","origin","offset","progressToPixels","progress","dashKeys","array","camelKeys","buildSVGAttrs","attrX","attrY","pathLength","pathSpacing","pathOffset","attrs","dimensions","totalPathLength","calcSVGTransformOrigin","totalLength","spacing","useDashCase","buildSVGPath","createSvgRenderState","useSVGProps","visualProps","rawStyles","createUseRender","forwardMotionProps","filteredProps","isDom","filterProps","elementProps","createElement","CAMEL_CASE_PATTERN","camelToDash","str","replace","toLowerCase","renderHTML","element","setProperty","camelCaseAttributes","renderSVG","renderState","setAttribute","scrapeMotionValuesFromProps","newValues","toUpperCase","isAnimationControls","isKeyframesTarget","isCustomValue","mix","toValue","resolveFinalValueInKeyframes","makeState","createRenderState","onMount","makeLatestValues","makeUseVisualState","scrapeMotionValues","unwrappedValue","values","motionValues","isControllingVariants","isVariantNode","variantToSet","resolved","transitionEnd","transition","svgMotionConfig","getBBox","getBoundingClientRect","e","tagName","getTotalLength","AnimationType","htmlMotionConfig","addDomEvent","eventName","handler","addEventListener","removeEventListener","useDomEvent","isMouseEvent","event","PointerEvent","pointerType","MouseEvent","isTouchEvent","touches","defaultPagePoint","pageX","pageY","pointFromTouch","pointType","point","changedTouches","pointFromMouse","extractEventInfo","wrapHandler","shouldFilterPrimaryPointer","eventHandler","listener","button","supportsPointerEvents","onpointerdown","supportsTouchEvents","ontouchstart","supportsMouseEvents","onmousedown","mouseEventNames","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","pointerenter","pointerleave","touchEventNames","getPointerEventName","addPointerEvent","usePointerEvent","createLock","lock","globalHorizontalLock","globalVerticalLock","getGlobalLock","openHorizontal_1","openVertical_1","isDragActive","openGestureLock","createHoverEvent","isActive","callback","info","setActive","Hover","isNodeOrChild","child","parentElement","combineFunctions","pipe","transformers","_i","reduce","makeRenderlessComponent","hook","gestureAnimations","onTap","onTapStart","onTapCancel","hasPressListeners","isPressing","cancelPointerEndListeners","removePointerEndListener","checkPointerEnd","Tap","onPointerUp","getInstance","onPointerCancel","Focus","onHoverStart","onHoverEnd","shallowCompare","next","prev","prevLength","warning","invariant","safeMin","minDuration","maxDuration","minDamping","maxDamping","findSpring","envelope","derivative","duration","bounce","_e","mass","dampingRatio","undampedFreq","exponentialDecay","delta","calcAngularFreq","c","exp","pow","f","g","initialGuess","result","rootIterations","approximateRoot","isNaN","stiffness","damping","sqrt","durationKeys","physicsKeys","isSpringType","spring","from","to","restSpeed","restDelta","done","springOptions","isResolvedFromDuration","derived","getSpringOptions","resolveSpring","zero","resolveVelocity","createSpring","initialVelocity","initialDelta","undampedAngularFreq","abs","angularFreq_1","t","sin","cos","dampedAngularFreq_1","freqForT","sinh","cosh","isBelowVelocityThreshold","isBelowDisplacementThreshold","flipTarget","needsInterpolation","_t","toFromDifference","isColorString","testProp","splitColor","aName","bName","cName","match","clampRgbUnit","rgbUnit","rgba","red","green","blue","alpha$1","hex","r","substr","parseInt","hsla","hue","saturation","lightness","mixLinearColor","fromExpo","toExpo","colorTypes","getColorType","find","notAnimatable","color","mixColor","fromColorType","toColorType","fromColor","toColor","blended","mixFunc","colorToken","numberToken","analyse","numColors","colors","map","numbers","tokenised","createTransformer","numValues","output","convertNumbersToZero","complex","getAnimatableNone","parsed","transformer","isNum","getMixer","mixComplex","mixArray","blendValue","fromThis","mixObject","numNumbers","numRGB","numHSL","template","originStats","targetStats","mixNumber","createMixers","ease","customMixer","mixers","mixerFactory","numMixers","mixer","easingFunction","interpolate","input","isClamp","inputLength","concat","reverse","interpolator","fastInterpolate","lastInputIndex","mixerIndex","foundMixerIndex","progressInRange","slowInterpolate","power","reverseEasing","easing","mirrorEasing","createBackIn","linear","easeIn","easeOut","easeInOut","circIn","acos","circOut","circInOut","backIn","backOut","backInOut","anticipate","backEasing","createAnticipate","bounceOut","p2","bounceIn","defaultEasing","splice","keyframes","times","o","convertOffsetToTimes","_value","defaultOffset","createInterpolator","types","decay","timeConstant","_f","modifyTarget","amplitude","ideal","loopElapsed","elapsed","delay","framesync","update","passTimestamp","stop","driverControls","latest","interpolateFromNumber","autoplay","driver","_g","repeat","repeatMax","_h","repeatType","_j","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate","repeatCount","computedDuration","isComplete","isForwardPlayback","animator","detectAnimationFromOptions","reverseElapsed","hasRepeatDelayElapsed","velocityPerSecond","frameDuration","secondsToMilliseconds","seconds","a1","a2","calcBezier","getSlope","subdivisionPrecision","subdivisionMaxIterations","newtonIterations","kSampleStepSize","cubicBezier","mX1","mY1","mX2","mY2","sampleValues","Float32Array","getTForX","aX","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","easingLookup","bounceInOut","easingDefinitionToFunction","isEasingArray","isAnimatable","underDampedSpring","criticallyDampedSpring","linearTween","defaultTransitions","backgroundColor","getDefaultTransition","valueKey","transitionFactory","maxDefaults","applyDefaultFilter","slice","defaultValue","functionRegex","filter","functions","defaultValueTypes","outlineColor","fill","stroke","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","WebkitFilter","getDefaultValueType","defaultValueType","legacyRepeatWarning","getPopmotionAnimationOptions","hydrateKeyframes","when","delayChildren","staggerChildren","staggerDirection","isTransitionDefined","yoyo","flip","loop","convertTransitionToAnimationOptions","getAnimation","valueTransition","getValueTransition","isTargetAnimatable","isZero","getZeroUnit","isOriginAnimatable","currentAnimation","bounceStiffness","bounceDamping","_onUpdate","isOutOfBounds","boundaryNearest","startAnimation","startSpring","prev_1","current_1","boundary_1","heading_1","inertia","potentialUnitType","delayTimer","controls","getDelayFromTransition","setTimeout","clearTimeout","addUniqueItem","arr","item","removeItem","index","SubscriptionManager","this","subscriptions","add","_this","notify","numSubscriptions","getSize","clear","MotionValue","init","timeDelta","lastUpdated","updateSubscribers","velocityUpdateSubscribers","renderSubscribers","canTrackVelocity","updateAndNotify","timestamp","postRender","scheduleVelocityCheck","velocityCheck","hasAnimated","onChange","subscription","clearListeners","onRenderRequest","attach","passiveEffect","getPrevious","Promise","resolve","stopAnimation","then","clearAnimation","isAnimating","destroy","motionValue","testValueType","dimensionValueTypes","findDimensionValueType","valueTypes","findValueType","setMotionValue","hasValue","getValue","addValue","setTarget","makeTargetAnimatable","getOriginFromTransition","animateVariant","variant","transitionOverride","animateTarget","getChildAnimations","variantChildren","forwardDelay","animations","maxStaggerDuration","generateStaggerDuration","sortByTreeOrder","notifyAnimationComplete","all","animateChildren","first","last","animationTypeState","getState","valueTarget","shouldBlockAnimation","sortNodePosition","protectedKeys","needsAnimating","shouldBlock","variantPriorityOrder","Animate","Drag","Exit","reversePriorityOrder","numAnimationTypes","animateList","notifyAnimationStart","resolvedDefinition","animateVisualElement","createAnimationState","createTypeState","allAnimatedKeys","isInitialRender","buildResolvedTypeValues","acc","changedActiveType","getVariantContext","removedKeys","encounteredKeys","removedVariantIndex","Infinity","_loop_1","typeState","propIsVariant","activeDelta","isInherited","manuallyAnimateOnMount","prevProp","shouldAnimateType","variantsHaveChanged","definitionList","resolvedValues","prevResolvedValues","allKeys","markToAnimate","delete","fallbackAnimation_1","fallbackTarget","getBaseTarget","shouldAnimate","isAnimated","setAnimateFunction","makeAnimator","subscribe","isPoint","isPoint3D","distance1D","xDelta","yDelta","zDelta","PanSession","handlers","startEvent","lastMoveEvent","lastMoveEventInfo","updatePoint","getPanInfo","history","isPanStarted","isDistancePastThreshold","onStart","onMove","handlePointerMove","transformPoint","buttons","handlePointerUp","end","onEnd","onSessionEnd","panInfo","initialInfo","onSessionStart","removeListeners","updateHandlers","subtractPoint","lastDevicePoint","startDevicePoint","timestampedPoint","lastPoint","time","eachAxis","applyConstraints","elastic","calcRelativeAxisConstraints","axis","calcViewportAxisConstraints","layoutAxis","constraintsAxis","resolveAxisElastic","dragElastic","minLabel","maxLabel","resolvePointElastic","label","getBoundingBox","box","isNear","maxDistance","calcLength","sourceLength","targetLength","updateAxisDelta","originPoint","translate","updateBoxDelta","defaultOrigin","calcRelativeAxis","relative","calcRelativeOffsetAxis","calcRelativeOffset","isDraggable","_dragX","resetAxis","originAxis","scalePoint","applyPointDelta","boxScale","applyAxisDelta","applyBoxDelta","applyAxisTransforms","final","transforms","scaleKey","originKey","axisOrigin","xKeys","yKeys","applyBoxTransforms","finalBox","removePointDelta","removeAxisTransforms","removeAxisDelta","removeBoxTransforms","lastPointerEvent","elementDragControls","WeakMap","VisualElementDragControls","isDragging","currentDirection","constraints","hasMutatedConstraints","cursorProgress","openGlobalLock","panSession","enableLayoutProjection","originEvent","snapToCursor","stopMotion","initialPoint","getViewportPointFromEvent","cancelLayout","read","write","ancestors","children","tree","hasManuallySetCursorOrigin","isLayoutDrag","lockProjectionTarget","resetTransform","restoreTransform","getAxisMotionValue","isExternalDrag","rebaseProjectionTarget","measureViewportBox","scheduleUpdateLayoutProjection","axisValue","preRender","resolveDragConstraints","dragPropagation","onDragStart","dragDirectionLock","lockThreshold","direction","getCurrentDirection","onDirectionLock","updateAxis","onDrag","dragConstraints","getLayoutState","layoutCorrected","resolveRefConstraints","layoutBox","calcRelativeConstraints","resolveDragElastic","relativeConstraints","rebaseAxisConstraints","onMeasureDragConstraints","constraintsElement","constraintsBox","measuredConstraints","calcViewportConstraints","userConstraints","cancelDrag","unlockProjectionTarget","animateDragEnd","onDragEnd","shouldDrag","length_1","center","updateAxisMotionValue","updateVisualElementAxis","nextValue","axisLayout","axisLength","axisProgress","calcConstrainedMinPoint","setProjectionTargetAxis","dragMomentum","remainingProps","dragKey","_dragY","dragTransition","isRelative","projectionParent","getProjectionParent","getLatestValues","convertToRelativeProjection","relativeConstraints_1","targetFinal","momentumAnimations","startAxisValueAnimation","startLayoutAnimation","onDragTransitionEnd","stopLayoutAnimation","currentValue","boxProgress","updateConstraints","calcPositionFromProgress","onReady","stopPointerListener","dragListener","stopResizeListener","stopLayoutUpdateListener","onLayoutUpdate","prevDragCursor","onPan","onPanStart","onPanEnd","onPanSessionStart","hasPanEvents","groupDragControls","dragControls","cssVariableRegex","maxDepth","getVariableValue","depth","exec","parseCSSVariable","token","fallback","getComputedStyle","getPropertyValue","pixelsToPercent","pixels","varToken","borderCorrectionDefinition","_layoutState","defaultScaleCorrectors","boxShadow","original","containsCSSVariables","cssVariables","shadow","xScale","yScale","averageScale","i_1","cssVariable","_super","frameTarget","currentAnimationTarget","stopAxisAnimation","isAnimatingTree","originBox","targetBox","visibilityAction","shouldStackAnimate","prevParent","safeToRemove","prevId","nextId","prevParentViewportBox","prevViewportBox","parentLayout","getLayoutId","isProvidedCorrectDataForRelativeSharedLayout","boxHasMoved","isZeroBox","axisIsEqual","hasMoved","isTargetLocked","animateAxis","setVisibility","Show","notifyLayoutAnimationComplete","componentDidMount","animateMotionValue","unsubLayoutReady","layoutSafeToRemove","correctors","addScaleCorrection","componentWillUnmount","layoutProgress","getProjectionAnimationProgress","frame","tweenAxis","unsubscribeProgress","layoutTransition","defaultLayoutTransition","zeroAxis","Measure","syncLayout","framerSyncLayout","onUnmount","remove","getSnapshotBeforeUpdate","syncUpdate","componentDidUpdate","flush","layoutAnimations","SharedLayoutContext","createLayoutState","deltaTransform","zeroLayout","buildLayoutProjectionTransform","latestTransform","identityProjection","buildLayoutProjectionTransformOrigin","names","updateLayoutDeltas","treePath","treeLength","node","applyTreeDeltas","FlatTree","isDirty","treeType","build","_getBaseTarget","_makeTargetAnimatable","_measureViewportBox","renderInstance","readValueFromInstance","_resetTransform","_restoreTransform","removeValueFromRenderState","_sortNodePosition","unsubscribeFromLeadVisualElement","crossfader","projectionTargetProgress","removeFromVariantTree","lifecycles","managers","propSubscriptions","clearAllListeners","manager","updatePropListeners","on","propListener","args","createLifecycles","leadProjection","leadLatestValues","hasViewportBoxUpdated","valueSubscriptions","prevMotionValues","baseTarget","isProjectionReady","triggerBuild","valuesToRender","crossfadedValues","getCrossfadeState","notifyUpdate","_updateTreeLayoutProjection","layoutTree","fireUpdateLayoutProjection","initialMotionValues","path","isVisible","isMounted","newInstance","pointTo","addVariantChild","updateLayoutProjection","closestVariantNode","getClosestVariantNode","other","updateTreeLayoutProjection","getStaticValue","setStaticValue","visibility","scheduleRender","canMutate","removeValue","removeOnChange","latestValue","removeOnRenderRequest","bindToMotionValue","readValue","setBaseTarget","newProps","prevValue","existingValue","updateMotionValuesFromProps","getVariant","startAtParent","context_1","numVariantProps","variantProps","setCrossfader","newCrossfader","relativeTarget","withTransform","viewportBox","notifySetAxisTarget","force","shouldRebase","notifyLayoutReady","relativeOffset","setCurrentViewportBox","notifyLayoutUpdate","prevTreeScaleX","prevTreeScaleY","prevDeltaTransform","notifyViewportBoxUpdate","fireResolveRelativeTargetBox","foundParent","ancestor","resolveRelativeTargetBox","relativeParent","parentProjection","calcRelativeBox","shouldResetTransform","_layoutResetTransform","newLead","onSetAxisTarget","onLayoutAnimationComplete","presence","Present","Entering","BoundingBoxDimension","positionalKeys","isPositionalKey","setAndResetVelocity","isNumOrPxType","getPosFromMatrix","matrix","pos","getTranslateFromMatrix","pos2","pos3","_bbox","matrix3d","nonTranslationalTransformKeys","positionalValues","checkAndConvertChangedValueTypes","targetPositionalKeys","removedTransformValues","hasAttemptedToRemoveTransformValues","changedValueTypeKeys","toType","fromType","numKeyframes","removedTransforms","removeNonTranslationalTransform","convertedTarget","changedKeys","originBbox","elementComputedStyle","display","originComputedStyle","targetBbox","convertChangedValueTypes","unitConversion","hasPositionalKey","parseDomVariant","HTMLElement","resolveCSSVariables","htmlConfig","domElement","defaultType","computedStyle","compareDocumentPosition","mutableState","getOrigin","newValueKeys","numNewValues","targetValue","checkTargetForNewValues","isProjectionTranform","htmlVisualElement","svgVisualElement","getAttribute","_element","featureBundle","motion","baseConfig","paragraph","fontSize","position","header","fontWeight","gone","_ref","data","location","posts","allMdx","nodes","_React$useState","indexClicked","setIndexClicked","slug","navigate","updateOnResize","post","newHeight","document","querySelector","fields","offsetHeight","Seo","title","description","listStyle","frontmatter","toString","itemScope","itemType","h1","Link","itemProp","section","lineHeight","excerpt","span"],"sourceRoot":""}